{"version":3,"sources":["assets/img/metamask-fox.svg","assets/img/wallet-connect.svg","assets/img/chef.png","assets/img/womenChef.png","components/Button/Button.tsx","components/CardIcon/CardIcon.tsx","components/Modal/Modal.tsx","components/Spacer/Spacer.tsx","components/ModalActions/ModalActions.tsx","components/ModalContent/ModalContent.tsx","components/ModalTitle/ModalTitle.tsx","components/DisclaimerModal/DisclaimerModal.tsx","components/MobileMenu/MobileMenu.tsx","components/Container/Container.tsx","components/Logo/Logo.tsx","contexts/Modals/Modals.tsx","hooks/useModal.ts","components/Card/Card.tsx","components/CardContent/CardContent.tsx","components/CardTitle/CardTitle.tsx","components/WalletProviderModal/components/WalletCard.tsx","components/WalletProviderModal/WalletProviderModal.tsx","bento/lib/constants.js","bento/utils.js","bento/lib/types.js","bento/lib/bento_contracts.js","bento/lib/accounts.js","bento/lib/evm.js","bento/Bento.js","bento/index.js","contexts/BentoProvider/BentoProvider.tsx","bento_hooks/useBento.ts","bento_hooks/useBlock.ts","bento_hooks/useBentoBalance.ts","utils/formatBalance.ts","components/Label/Label.tsx","components/Value/Value.tsx","components/TopBar/components/AccountModal.tsx","components/TopBar/components/AccountButton.tsx","components/TopBar/components/I18nButton.tsx","components/TopBar/components/Nav.tsx","components/TopBar/TopBar.tsx","contexts/bento_Farms/context.ts","contexts/bento_Farms/Farms.tsx","contexts/Transactions/context.ts","contexts/Transactions/reducer.ts","contexts/Transactions/TransactionsProvider.tsx","theme/index.ts","theme/colors.ts","components/Footer/components/Nav.tsx","components/Footer/Footer.tsx","components/Page/Page.tsx","components/PageHeader/PageHeader.tsx","contexts/Farms/context.ts","sushi/lib/constants.js","sushi/index.js","contexts/SushiProvider/SushiProvider.tsx","hooks/useSushi.ts","sushi/utils.js","hooks/useFarm.ts","hooks/useRedeem.ts","utils/erc20.ts","hooks/useBlock.ts","hooks/useEarnings.ts","hooks/useReward.ts","views/Farm/components/Harvest.tsx","components/IconButton/IconButton.tsx","components/icons/AddIcon.tsx","hooks/useAllowance.ts","hooks/useApprove.ts","hooks/useStake.ts","hooks/useStakedBalance.ts","hooks/useTokenBalance.ts","hooks/useUnstake.ts","components/Input/Input.tsx","components/TokenInput/TokenInput.tsx","views/Farm/components/DepositModal.tsx","views/Farm/components/WithdrawModal.tsx","views/Farm/components/Stake.tsx","views/Farm/Farm.tsx","components/Loader/Loader.tsx","hooks/useAllStakedValue.ts","bento_hooks/useFarms.ts","utils/index.ts","bento_hooks/useStake.ts","bento_hooks/useApprove.ts","views/Farms/components/DepositModal.tsx","views/Farms/components/WithdrawModal.tsx","views/Farms/components/StyledBadge.tsx","views/Farms/components/BentoCard.tsx","bento_hooks/useGovTokenStake.ts","bento_hooks/useClaimMinedToken.ts","bento_hooks/usePendingRewards.ts","bento_hooks/useTokenBalance.ts","bento_hooks/useUnstake.ts","bento_hooks/useApyByPool.ts","views/Farms/components/FarmCards.tsx","views/Farms/Farms.tsx","bento_hooks/useModal.ts","components/BentoIcon/BentoIcon.tsx","bento_hooks/useBentoSupply.ts","bento_hooks/useAllGovTokenStake.ts","bento_hooks/useVotes.ts","views/Home/components/Bento_Balances.tsx","views/Home/Home.tsx","views/Stake/Stake.tsx","views/Auction/components/Card.tsx","bento_hooks/useAuctions.ts","bento_hooks/useVoteToAuction.ts","bento_hooks/useAuctionApprove.ts","views/Auction/components/DepositModal.tsx","bento_hooks/useAuctionModal.ts","views/Auction/components/Auctions.tsx","views/Auction/Auction.tsx","App.tsx","i18n.js","index.tsx"],"names":["module","exports","StyledMiniButton","buttonColor","boxShadow","buttonSize","buttonPadding","fontSize","children","disabled","href","onClick","size","text","to","variant","useContext","ThemeContext","color","spacing","grey","primary","main","ButtonChild","useMemo","StyledLink","StyledExternalLink","target","StyledButton","padding","Button","styled","button","props","theme","undefined","Link","a","StyledCardIcon","div","CardIcon","mobileKeyframes","keyframes","StyledResponsiveWrapper","breakpoints","mobile","StyledModal","Modal","StyledSpacer","Spacer","s","StyledModalActions","StyledModalAction","ModalActions","l","React","Children","toArray","length","map","child","i","StyledModalContent","ModalContent","StyledModalTitle","topBarSize","ModalTitle","DisclaimerModal","onConfirm","onDismiss","useState","step","setStep","handleConfirm","useCallback","modalContent","StyledBackdrop","StyledMobileMenuWrapper","slideIn","StyledMobileMenu","NavLink","MobileMenu","visible","exact","activeClassName","StyledContainer","width","Container","siteWidth","StyledLogo","StyledText","span","MasterChefText","Logo","src","womenChef","height","style","marginTop","Context","createContext","onPresent","StyledModalWrapper","StyledModalBackdrop","Modals","isOpen","setIsOpen","content","setContent","modalKey","setModalKey","Boolean","support","setSupport","handlePresent","key","handleDismiss","Provider","value","isValidElement","cloneElement","useModal","modal","StyledCard","Card","StyledCardContent","CardContent","StyledCardTitle","CardTitle","WalletCard","icon","onConnect","title","t","useI18n","walletConnect","StyledWalletsWrapper","StyledWalletCard","WalletProviderModal","useWallet","account","connect","useEffect","sellectWallet","metamaskLogo","walletConnectLogo","walletCancle","ONE_MINUTE_IN_SECONDS","BigNumber","ONE_HOUR_IN_SECONDS","times","ONE_DAY_IN_SECONDS","contractAddresses","sushi","1","masterChef","weth","42","bento","bentoMiner","supportedPools","pid","lpAddresses","tokenAddresses","originalGovAddress","govAddresses","name","symbol","tokenSymbol","config","EXPONENTIAL_AT","DECIMAL_PLACES","getBentoMinerContract","contracts","getGovs","pools","tokenAddress","tokenContract","lpAddress","lpContract","id","govToken","govAddress","govContract","originalGovContract","earnToken","earnTokenAddress","options","address","getEarned","bentoMinerContract","methods","pendingBento","call","stake","amount","deposit","pow","toString","send","from","on","tx","console","log","transactionHash","unstake","claimAllBentoAndWithdrawGovs","getBentoTotalSupply","totalSupply","getGovTotalSupply","totalGovTokensLocked","getMyBentoBalance","balanceOf","getMyUnclaimBento","unClaimedOf","then","rst","util","require","inspect","bento_unclaim","playerToGovTokens","gov_locked","claimBento","claim","approveBento","bentoContract","approve","catch","e","approveGovToken","getGovPriceInWeth","wethContract","govTokenAmountWholeLP","decimals","tokenDecimals","govAmount","toNumber","wethAmountWholeLP","wethAmount","getBentoPriceInWeth","getApyByPool","blocksInYear","govPrice","bentoLP","bentoPrice","getBentoProduction","bp","validateBigNumbers","apy","flag","arr","isNaN","isNegative","isZero","bentoProduction","total","getVoteObjectInfo","vote","getCastingVoteByContract","block","getPastEvents","fromBlock","toBlock","votesCreatedStream","votesCreated","filter","event","returnValues","endAtBlockNumber","Promise","all","_vote","Proposalid","proposal_id","originator","Originator","nowBentosInVote","trueoptionVotes","falseOptionVotes","stateNow","govLaunchVote","web3","eth","getBlockNumber","launchVote","getVoteCreatedEvent","getProposalsEvent","result","_getCompoundProposal","compGovContract","voteOption","ConfirmationType","Hash","Confirmed","Both","Simulate","Contracts","provider","networkId","this","defaultConfirmations","autoGasMultiplier","confirmationType","Types","defaultGas","defaultGasPrice","Contract","BentoAbi","BentoMinerAbi","WETHAbi","UNIV2PairAbi","pool","Object","assign","ERC20Abi","GovernorAlphaAbi","setProvider","setDefaultAccount","defaultAccount","bentoLPAddress","contract","error","forEach","method","confirmations","txOptions","blockGasLimit","setGasLimit","gasPrice","gas","estimateGas","gasEstimate","data","encodeABI","_parent","_address","transactionData","multiplier","totalGas","Math","floor","g","toFixed","promi","hashOutcome","OUTCOMES","INITIAL","RESOLVED","REJECTED","confirmationOutcome","values","includes","Error","hashPromise","resolve","reject","off","txHash","confirmationPromise","desiredConf","confNumber","receipt","notifier","hash","confirmation","m2","blockNumber","getBlock","gasLimit","Account","accountInfo","type","allocation","balances","status","approvals","walletInfo","REQUIRE_MSG","EVM","resetSnapshotId","snapshot","reset","callJsonrpcMethod","duration","params","args","jsonrpc","Date","getTime","response","val","expected_error_msg","message","matchedIndex","search","matchedString","substring","expect","toEqual","promise","reason","assertCertainError","process","COVERAGE","Bento","testing","realProvider","Web3","providers","WebsocketProvider","ethereumNodeTimeout","HttpProvider","bentoAddress","bentoMinerAddress","wethAddress","resetEVM","number","accounts","push","operation","setNetworkId","newAccount","wallet","add","privateKey","toLowerCase","BentoProvider","ethereum","setBento","window","chainId","Number","bentoLib","selectedAddress","sushisauce","useBento","useBlock","interval","setInterval","clearInterval","useBentoBalance","balance","setBalance","fetchBalance","getBalanceNumber","displayBalance","dividedBy","getFullDisplayBalance","StyledLabel","Label","StyledValue","Value","start","updateStart","end","updateEnd","separator","StyledBalance","StyledBalanceWrapper","AccountModal","handleSignOutClick","bentoBalance","myAccount","display","walletEtherScan","walletSignOut","StyledAccountButton","AccountButton","onPresentAccountModal","onPresentWalletProviderModal","handleUnlockClick","myWallet","unlockWallet","StyledI18nButton","setLang","lang","setNewLang","change","StyledNav","nav","StyledAbsoluteLink","Nav","home","canteen","auction","about","StyledI18nButtonWrapper","StyledLogoWrapper","StyledTopBar","StyledTopBarInner","StyledAccountButtonWrapper","TopBar","onPresentMobileMenu","I18nButton","context","farms","unharvested","Farms","transactions","onAddTransaction","setTransactions","initialState","initialized","reducer","state","action","transaction","TransactionsProvider","useReducer","dispatch","handleAddTransaction","fetchTransactions","txsRaw","localStorage","getItem","txs","JSON","parse","setItem","stringify","borderRadius","black","100","200","300","400","500","600","800","light","secondary","white","2","3","4","5","6","7","StyledFooter","footer","StyledFooterInner","Footer","StyledPage","StyledMain","Page","StyledPageHeader","StyledIcon","StyledTitle","h1","StyledSubtitle","h3","PageHeader","subtitle","useSushi","getMasterChefContract","getFarms","lpToken","lpTokenAddress","getPoolWeight","masterChefContract","poolInfo","allocPoint","totalAllocPoint","pendingSushi","getTotalLPWethValue","tokenAmountWholeLP","lpContractWeth","portionLp","lpWethWorth","totalLpWethValue","tokenAmount","totalWethValue","tokenPriceInWeth","poolWeight","ethers","constants","MaxUint256","withdraw","harvest","getStaked","userInfo","redeem","exit","alert","useFarm","FarmsContext","find","farm","useRedeem","onRedeem","getContract","ERC20ABI","abi","getAllowance","allowance","getBalance","userAddress","setBlock","latestBlockNumber","useEarnings","useReward","onReward","StyledCardHeader","StyledCardActions","StyledCardContentInner","Harvest","earnings","pendingTx","setPendingTx","IconButton","AddIcon","themeColor","viewBox","d","fill","useAllowance","setAllowance","fetchAllowance","refreshInterval","useApprove","onApprove","useStake","onStake","useStakedBalance","useTokenBalance","useUnstake","onUnstake","StyledInputWrapper","StyledInput","input","Input","endAdornment","onChange","placeholder","startAdornment","StyledTokenInput","StyledTokenAdornmentWrapper","StyledMaxText","StyledTokenSymbol","TokenInput","max","onSelectMax","toLocaleString","DepositModal","tokenName","setVal","fullBalance","handleChange","currentTarget","handleSelectMax","WithdrawModal","StyledActionSpacer","Stake","requestedApproval","setRequestedApproval","tokenBalance","stakedBalance","onPresentDeposit","onPresentWithdraw","handleApprove","eq","StyledFarm","StyledCardsWrapper","StyledCardWrapper","StyledInfo","Farm","farmId","useParams","scrollTo","lpTokenName","toUpperCase","earnTokenName","spin","StyledLoader","StyledSushi","Loader","useAllStakedValue","wethContact","getWethContract","fetchAllStakedValue","useFarms","bnToDec","bn","setResult","approved","setApproved","cancel","pending_confirmation","approval","StyledBadge","withStyles","badge","right","top","border","palette","background","paper","Badge","RainbowLight","h4","StyledContent","StyledDetails","StyledDetail","StyledInsight","BentoCard","setHarvestable","earned","fetchEarned","badgeContent","textAlign","shop","farm_earn_bento","current","farm_uniswap","farm_balancer","unclaimed","slice","useGovTokenStake","fetchGovTotalSupply","useClaimMinedToken","onClaimMinedToken","usePendingRewards","fetchUnclaimBento","useApyByPool","govsApy","setGovsApy","govs","BLOCKS_PER_YEAR","fetchAllGovsApy","govApy","FarmCard","tokenLocked","pendingRewrds","buy","earn_profit","farm_mining","farm_wallet","mining","StyledCards","StyledLoadingWrapper","StyledRow","FarmCards","apys","stakedValue","bentoIndex","findIndex","rows","reduce","farmRows","farmWithStakedValue","newFarmRows","j","Fragment","path","useRouteMatch","farm_subtitle","farm_title","alignItems","flex","justifyContent","SushiIcon","v1","meme","v2","v3","role","useBentoSupply","fetchSupply","useAllGovTokenStake","iconSize","_isMounted","useRef","govValues","setGovValues","fetchAllGovTotalSupply","govTotalStake","sort","gov1","gov2","gov","index","useVotes","votes","setVotes","fetchVotes","vote1","vote2","PendingRewards","setStart","setEnd","scale","setScale","pendingRewards","transform","transformOrigin","transition","onStart","setTimeout","Vote","StyledAuctionEntry","StyledAuctionEntryName","StyledAuctionEntryContent","Pool","StyledPool","StyledFlex","BentoIcon","ButtonStyle","StyledAuctionEntrys","StyledPools","Footnote","FootnoteValue","StyledWrapper","StyledBalances","Balances","govRows","locked","pending","bentoSupply","newRewards","votingPower","burnedToken","auctioning","Home","Bento_Balances","chef","Box","useAuctions","bg2","bg1","bg3","yellow2","primary1","primary5","auctions","setAuctions","fetchAuctions","_block","totalVotes","proposals","p","_auctions","voteInfo","proposalId","auctionName","proposalDescription","description","Proposer","proposer","proposalStartBlock","startBlock","proposalEndBlock","endBlock","totalBentoInVote","auctionForVotes","trueOptionVotes","auctionAgainstVotes","auctionState","auctionResult","voteResult","auctionOriginator","plus","flat","useVote","onVote","auction_bid","AuctionDetails","showMore","setShowMore","arrow","setArrow","handleExpand","forVotes","againstVotes","StyledPositionCard","AutoColumn","gap","FixedHeightRow","RowFixed","justify","auction_agree","StyledBox","StyledBar","auction_disagree","Row","align","RowBetween","MiniCardIcon","StyledMiniCardIcon","Auctions","Auction","auction_subtitle","auction_title","Providers","connectors","walletconnect","rpcUrl","Disclaimer","markSeen","App","mobileMenu","setMobileMenu","handleDismissMobileMenu","handlePresentMobileMenu","basename","i18n","en","welcome","get","inBank","farm_UNI_title","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.13d092ec.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/metamask-fox.c06f3a3e.svg\";","module.exports = __webpack_public_path__ + \"static/media/wallet-connect.d1f73612.svg\";","module.exports = __webpack_public_path__ + \"static/media/chef.ec78e8e8.png\";","module.exports = __webpack_public_path__ + \"static/media/womenChef.0cf1c22f.png\";","import React, { useContext, useMemo } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\n\r\nimport { Link } from 'react-router-dom'\r\n\r\ninterface ButtonProps {\r\n  children?: React.ReactNode,\r\n  disabled?: boolean,\r\n  href?: string,\r\n  onClick?: () => void,\r\n  size?: 'sm' | 'md' | 'lg',\r\n  text?: string,\r\n  to?: string,\r\n  variant?: 'default' | 'secondary' | 'tertiary'\r\n}\r\n\r\nconst Button: React.FC<ButtonProps> = ({\r\n  children,\r\n  disabled,\r\n  href,\r\n  onClick,\r\n  size,\r\n  text,\r\n  to,\r\n  variant,\r\n}) => {\r\n  const { color, spacing } = useContext(ThemeContext)\r\n\r\n  let buttonColor: string\r\n  switch (variant) {\r\n    case 'secondary':\r\n      buttonColor = color.grey[500]\r\n      break\r\n    case 'default':\r\n    default:\r\n      buttonColor = color.primary.main\r\n  }\r\n\r\n  let boxShadow: string\r\n  let buttonSize: number\r\n  let buttonPadding: number\r\n  let fontSize: number\r\n  switch (size) {\r\n    case 'sm':\r\n      boxShadow = `4px 4px 8px ${color.grey[300]},\r\n        -8px -8px 16px ${color.grey[100]}FF;`\r\n      buttonPadding = spacing[3]\r\n      buttonSize = 36\r\n      fontSize = 14\r\n      break\r\n    case 'lg':\r\n      boxShadow = `6px 6px 12px ${color.grey[300]},\r\n        -12px -12px 24px ${color.grey[100]}ff;`\r\n      buttonPadding = spacing[4]\r\n      buttonSize = 72\r\n      fontSize = 16\r\n      break\r\n    case 'md':\r\n    default:\r\n      boxShadow = `6px 6px 12px ${color.grey[300]},\r\n        -12px -12px 24px -2px ${color.grey[100]}ff;`\r\n      buttonPadding = spacing[4]\r\n      buttonSize = 56\r\n      fontSize = 16\r\n  }\r\n\r\n  const ButtonChild = useMemo(() => {\r\n    if (to) {\r\n      return <StyledLink to={to}>{text}</StyledLink>\r\n    } else if (href) {\r\n      return <StyledExternalLink href={href} target=\"__blank\">{text}</StyledExternalLink>\r\n    } else {\r\n      return text\r\n    }\r\n  }, [href, text, to])\r\n\r\n  return (\r\n    <StyledButton\r\n      boxShadow={boxShadow}\r\n      color={buttonColor}\r\n      disabled={disabled}\r\n      fontSize={fontSize}\r\n      onClick={onClick}\r\n      padding={buttonPadding}\r\n      size={buttonSize}\r\n    >\r\n      {children}\r\n      {ButtonChild}\r\n    </StyledButton>\r\n  )\r\n}\r\n\r\nexport const StyledMiniButton: React.FC<ButtonProps> = ({\r\n  children,\r\n  disabled,\r\n  href,\r\n  onClick,\r\n  size,\r\n  text,\r\n  to,\r\n  variant,\r\n}) => {\r\n  const { color, spacing } = useContext(ThemeContext)\r\n\r\n  let buttonColor: string\r\n  switch (variant) {\r\n    case 'secondary':\r\n      buttonColor = color.grey[500]\r\n      break\r\n    case 'default':\r\n    default:\r\n      buttonColor = color.primary.main\r\n  }\r\n\r\n  let boxShadow: string\r\n  let buttonSize: number\r\n  let buttonPadding: number\r\n  let fontSize: number\r\n  switch (size) {\r\n    case 'sm':\r\n      boxShadow = `none`\r\n      buttonSize = 20\r\n      fontSize = 20\r\n      break\r\n    case 'lg':\r\n      boxShadow = `none`\r\n      buttonPadding = spacing[4]\r\n      buttonSize = 72\r\n      fontSize = 16\r\n      break\r\n    case 'md':\r\n    default:\r\n      boxShadow = `none`\r\n      buttonPadding = spacing[4]\r\n      buttonSize = 56\r\n      fontSize = 16\r\n  }\r\n\r\n  const ButtonChild = useMemo(() => {\r\n    if (to) {\r\n      return <StyledLink to={to}>{text}</StyledLink>\r\n    } else if (href) {\r\n      return <StyledExternalLink href={href} target=\"__blank\">{text}</StyledExternalLink>\r\n    } else {\r\n      return text\r\n    }\r\n  }, [href, text, to])\r\n\r\n  return (\r\n    <StyledButton\r\n      boxShadow={boxShadow}\r\n      color={buttonColor}\r\n      disabled={disabled}\r\n      fontSize={fontSize}\r\n      onClick={onClick}\r\n      padding={buttonPadding}\r\n      size={buttonSize}\r\n    >\r\n      {children}\r\n      {ButtonChild}\r\n    </StyledButton>\r\n  )\r\n}\r\n\r\nexport default Button\r\n\r\ninterface StyledButtonProps {\r\n  boxShadow: string,\r\n  color: string,\r\n  disabled?: boolean,\r\n  fontSize: number,\r\n  padding: number,\r\n  size: number\r\n}\r\n\r\nconst StyledButton = styled.button<StyledButtonProps>`\r\n  align-items: center;\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  border: 0;\r\n  border-radius: 12px;\r\n  box-shadow: ${props => props.boxShadow};\r\n  color: ${props => !props.disabled ? props.color : `${props.color}55`};\r\n  cursor: pointer;\r\n  display: flex;\r\n  font-size: ${props => props.fontSize}px;\r\n  font-weight: 700;\r\n  height: ${props => props.size}px;\r\n  justify-content: center;\r\n  outline: none;\r\n  padding-left: ${props => props.padding}px;\r\n  padding-right: ${props => props.padding}px;\r\n  pointer-events: ${props => !props.disabled ? undefined : 'none'};\r\n  width: 100%;\r\n  &:hover {\r\n    background-color: ${props => props.theme.color.grey[100]};\r\n  }\r\n`\r\n\r\nconst StyledLink = styled(Link)`\r\n  align-items: center;\r\n  color: inherit;\r\n  display: flex;\r\n  flex: 1;\r\n  height: 56px;\r\n  justify-content: center;\r\n  margin: 0 ${props => -props.theme.spacing[4]}px;\r\n  padding: 0 ${props => props.theme.spacing[4]}px;\r\n  text-decoration: none;\r\n`\r\n\r\nconst StyledExternalLink = styled.a`\r\n  align-items: center;\r\n  color: inherit;\r\n  display: flex;\r\n  flex: 1;\r\n  height: 56px;\r\n  justify-content: center;\r\n  margin: 0 ${props => -props.theme.spacing[4]}px;\r\n  padding: 0 ${props => props.theme.spacing[4]}px;\r\n  text-decoration: none;\r\n`\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\ninterface CardIconProps {\r\n  children?: React.ReactNode,\r\n}\r\n\r\nconst CardIcon: React.FC<CardIconProps> = ({ children }) => (\r\n  <StyledCardIcon>\r\n    {children}\r\n  </StyledCardIcon>\r\n)\r\n\r\nconst StyledCardIcon = styled.div`\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  font-size: 36px;\r\n  height: 40px;\r\n  width: 40px;\r\n  border-radius: 40px;\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  box-shadow: inset 4px 4px 8px ${props => props.theme.color.grey[300]},\r\n    inset -6px -6px 12px ${props => props.theme.color.grey[100]};\r\n  margin: 0 auto ${props => props.theme.spacing[3]}px;\r\n`\r\n\r\nconst SidedCardIcon: React.FC<CardIconProps> = ({ children }) => (\r\n  <StyledSidedCardIcon>\r\n    {children}\r\n  </StyledSidedCardIcon>\r\n)\r\n\r\nconst StyledSidedCardIcon = styled.div`\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  font-size: 36px;\r\n  height: 40px;\r\n  width: 40px;\r\n  border-radius: 40px;\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  box-shadow: inset 4px 4px 8px ${props => props.theme.color.grey[300]},\r\n    inset -6px -6px 12px ${props => props.theme.color.grey[100]};\r\n  // margin: 0 auto ${props => props.theme.spacing[3]}px;\r\n`\r\n\r\nexport const MiniCardIcon: React.FC<CardIconProps> = ({ children }) => (\r\n  <StyledMiniCardIcon>\r\n    {children}\r\n  </StyledMiniCardIcon>\r\n)\r\n\r\nconst StyledMiniCardIcon = styled.div`\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  font-size: 5px;\r\n  height: 5px;\r\n  width: 5px;\r\n  border-radius: 20px;\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  // box-shadow: inset 4px 4px 8px ${props => props.theme.color.grey[300]},\r\n  //   inset -6px -6px 12px ${props => props.theme.color.grey[100]};\r\n  // margin: 0 auto ${props => props.theme.spacing[3]}px;\r\n`\r\n\r\nexport default CardIcon","import React from 'react'\r\nimport styled, { keyframes } from 'styled-components'\r\n\r\nexport interface ModalProps {\r\n  onDismiss?: () => void\r\n}\r\n\r\nconst Modal: React.FC = ({ children }) => {\r\n  return (\r\n    <StyledResponsiveWrapper>\r\n      <StyledModal>{children}</StyledModal>\r\n    </StyledResponsiveWrapper>\r\n  )\r\n}\r\n\r\nconst mobileKeyframes = keyframes`\r\n  0% {\r\n    transform: translateY(0%);\r\n  }\r\n  100% {\r\n    transform: translateY(-100%);\r\n  }\r\n`\r\n\r\nconst StyledResponsiveWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: flex-end;\r\n  position: relative;\r\n  width: 100%;\r\n  max-width: 512px;\r\n  @media (max-width: ${(props) => props.theme.breakpoints.mobile}px) {\r\n    flex: 1;\r\n    position: absolute;\r\n    top: 100%;\r\n    right: 0;\r\n    left: 0;\r\n    max-height: calc(100% - ${(props) => props.theme.spacing[4]}px);\r\n    animation: ${mobileKeyframes} 0.3s forwards ease-out;\r\n  }\r\n`\r\n\r\nconst StyledModal = styled.div`\r\n  padding: 0 20px;\r\n  background: ${(props) => props.theme.color.grey[200]};\r\n  border: 1px solid ${(props) => props.theme.color.grey[300]}ff;\r\n  border-radius: 12px;\r\n  box-shadow: inset 1px 1px 0px ${(props) => props.theme.color.grey[100]};\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  width: 100%;\r\n  min-height: 0;\r\n`\r\n\r\nconst StyledModalContent = styled.div``\r\n\r\nexport default Modal\r\n","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\n\r\ninterface SpacerProps {\r\n  size?: 'sm' | 'md' | 'lg'\r\n}\r\n\r\nconst Spacer: React.FC<SpacerProps> = ({ size = 'md' }) => {\r\n  const { spacing } = useContext(ThemeContext)\r\n  \r\n  let s: number\r\n  switch (size) {\r\n    case 'lg':\r\n      s = spacing[6]\r\n      break\r\n    case 'sm':\r\n      s = spacing[2]\r\n      break\r\n    case 'md':\r\n    default:\r\n      s = spacing[4]\r\n  }\r\n  \r\n  return (\r\n    <StyledSpacer size={s} />\r\n  )\r\n}\r\n\r\ninterface StyledSpacerProps {\r\n  size: number,\r\n}\r\n\r\nconst StyledSpacer = styled.div<StyledSpacerProps>`\r\n  height: ${props => props.size}px;\r\n  width: ${props => props.size}px;\r\n`\r\n\r\nexport default Spacer","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Spacer from '../Spacer'\r\n\r\nconst ModalActions: React.FC = ({ children }) => {\r\n  const l = React.Children.toArray(children).length\r\n  return (\r\n    <StyledModalActions>\r\n      {React.Children.map(children, (child, i) => (\r\n        <>\r\n          <StyledModalAction>\r\n            {child}\r\n          </StyledModalAction>\r\n          {i < l - 1 && <Spacer />}\r\n        </>\r\n      ))}\r\n    </StyledModalActions>\r\n  )\r\n}\r\n\r\nconst StyledModalActions = styled.div`\r\n  align-items: center;\r\n  background-color: ${props => props.theme.color.grey[100]}00;\r\n  display: flex;\r\n  margin: 0;\r\n  padding: ${props => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledModalAction = styled.div`\r\n  flex: 1;\r\n`\r\n\r\nexport default ModalActions","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst ModalContent: React.FC = ({ children }) => {\r\n  return <StyledModalContent>{children}</StyledModalContent>\r\n}\r\n\r\nconst StyledModalContent = styled.div`\r\n  padding: ${(props) => props.theme.spacing[4]}px;\r\n  @media (max-width: ${(props) => props.theme.breakpoints.mobile}px) {\r\n    flex: 1;\r\n    overflow: auto;\r\n  }\r\n`\r\n\r\nexport default ModalContent\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\ninterface ModalTitleProps {\r\n  text?: string\r\n}\r\n\r\nconst ModalTitle: React.FC<ModalTitleProps> = ({ text }) => (\r\n  <StyledModalTitle>\r\n    {text}\r\n  </StyledModalTitle>\r\n)\r\n\r\nconst StyledModalTitle = styled.div`\r\n  align-items: center;\r\n  color: ${props => props.theme.color.grey[600]};\r\n  display: flex;\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  height: ${props => props.theme.topBarSize}px;\r\n  justify-content: center;\r\n`\r\n\r\nexport default ModalTitle","import React, { useCallback, useState, useMemo } from 'react'\r\n\r\nimport Button from '../Button'\r\nimport CardIcon from '../CardIcon'\r\nimport Modal, { ModalProps } from '..//Modal'\r\nimport ModalActions from '..//ModalActions'\r\nimport ModalContent from '../ModalContent'\r\nimport ModalTitle from '../ModalTitle'\r\n\r\ninterface DisclaimerModal extends ModalProps {\r\n  onConfirm: () => void\r\n}\r\n\r\nconst DisclaimerModal: React.FC<DisclaimerModal> = ({\r\n  onConfirm,\r\n  onDismiss,\r\n}) => {\r\n  const [step, setStep] = useState('disclaimer')\r\n\r\n  const handleConfirm = useCallback(() => {\r\n    onConfirm()\r\n    onDismiss()\r\n  }, [onConfirm, onDismiss])\r\n\r\n  const modalContent = useMemo(() => {\r\n    if (step === 'disclaimer') {\r\n      return (\r\n        <div>\r\n          <p>Audits: None.</p>\r\n          <p>\r\n            While the initial creators of the Sushi protocol have made\r\n            reasonable efforts to attempt to ensure the security of the\r\n            contracts, including forking much of the codebase from existing\r\n            well-audited projects and soliciting review from friends, nothing\r\n            approaching the rigor of a formal audit has been conducted at this\r\n            time.\r\n          </p>\r\n          <p>\r\n            We STRONGLY urge caution to anyone who chooses to engage with these\r\n            contracts.\r\n          </p>\r\n        </div>\r\n      )\r\n    } else {\r\n      return (\r\n        <div>\r\n          <p>Attention SUSHI Uniswap LPs</p>\r\n          <p>\r\n            The only Uniswap pool that is compatible with SUSHI is SUSHI/yCRV\r\n            (Curve yPool tokens)\r\n          </p>\r\n          <p>Providing liquidity for other Uniswap pools is dangerous</p>\r\n          <p>You will LOSE your share of rebases</p>\r\n        </div>\r\n      )\r\n    }\r\n  }, [step])\r\n\r\n  const button = useMemo(() => {\r\n    if (step === 'disclaimer') {\r\n      return (\r\n        <Button\r\n          text=\"Next\"\r\n          variant=\"secondary\"\r\n          onClick={() => setStep('uniswap')}\r\n        />\r\n      )\r\n    } else {\r\n      return <Button text=\"I understand\" onClick={handleConfirm} />\r\n    }\r\n  }, [setStep, step, handleConfirm])\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`Warning`} />\r\n      <CardIcon>⚠️</CardIcon>\r\n      <ModalContent>{modalContent}</ModalContent>\r\n      <ModalActions>{button}</ModalActions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default DisclaimerModal\r\n","import React from 'react'\r\nimport styled, { keyframes } from 'styled-components'\r\n\r\nimport { NavLink } from 'react-router-dom'\r\n\r\ninterface MobileMenuProps {\r\n  onDismiss: () => void\r\n  visible?: boolean\r\n}\r\n\r\nconst MobileMenu: React.FC<MobileMenuProps> = ({ onDismiss, visible }) => {\r\n  if (visible) {\r\n    return (\r\n      <StyledMobileMenuWrapper>\r\n        <StyledBackdrop onClick={onDismiss} />\r\n        <StyledMobileMenu>\r\n          <StyledLink exact activeClassName=\"active\" to=\"/\" onClick={onDismiss}>\r\n            Home\r\n          </StyledLink>\r\n          <StyledLink\r\n            exact\r\n            activeClassName=\"active\"\r\n            to=\"/farms\"\r\n            onClick={onDismiss}\r\n          >\r\n            Farms\r\n          </StyledLink>\r\n          <StyledLink\r\n            exact\r\n            activeClassName=\"active\"\r\n            to=\"/staking\"\r\n            onClick={onDismiss}\r\n          >\r\n            Staking\r\n          </StyledLink>\r\n        </StyledMobileMenu>\r\n      </StyledMobileMenuWrapper>\r\n    )\r\n  }\r\n  return null\r\n}\r\n\r\nconst StyledBackdrop = styled.div`\r\n  background-color: ${(props) => props.theme.color.grey[600]}aa;\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n`\r\n\r\nconst StyledMobileMenuWrapper = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  z-index: 1000;\r\n`\r\n\r\nconst slideIn = keyframes`\r\n  0% {\r\n    transform: translateX(0)\r\n  }\r\n  100% {\r\n    transform: translateX(-100%);\r\n  }\r\n`\r\n\r\nconst StyledMobileMenu = styled.div`\r\n  animation: ${slideIn} 0.3s forwards ease-out;\r\n  background-color: ${(props) => props.theme.color.grey[200]};\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 100%;\r\n  bottom: 0;\r\n  width: calc(100% - 48px);\r\n`\r\n\r\nconst StyledLink = styled(NavLink)`\r\n  box-sizing: border-box;\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  padding: ${(props) => props.theme.spacing[3]}px\r\n    ${(props) => props.theme.spacing[4]}px;\r\n  text-align: center;\r\n  text-decoration: none;\r\n  width: 100%;\r\n  &:hover {\r\n    color: ${(props) => props.theme.color.grey[500]};\r\n  }\r\n  &.active {\r\n    color: ${(props) => props.theme.color.primary.main};\r\n  }\r\n`\r\n\r\nexport default MobileMenu\r\n","import React, { useContext } from 'react'\r\nimport styled, { ThemeContext } from 'styled-components'\r\n\r\ninterface ContainerProps {\r\n  children?: React.ReactNode,\r\n  size?: 'sm' | 'md' | 'lg'\r\n}\r\n\r\nconst Container: React.FC<ContainerProps> = ({ children, size = 'md' }) => {\r\n  const { siteWidth } = useContext<{ siteWidth: number }>(ThemeContext)\r\n  let width: number\r\n  switch (size) {\r\n    case 'sm':\r\n      width = siteWidth / 2\r\n      break\r\n    case 'md':\r\n      width = siteWidth * 2 / 3\r\n      break\r\n    case 'lg':\r\n    default:\r\n      width = siteWidth\r\n  }\r\n  return (\r\n    <StyledContainer width={width}>\r\n      {children}\r\n    </StyledContainer>\r\n  )\r\n}\r\n\r\ninterface StyledContainerProps {\r\n  width: number\r\n}\r\n\r\nconst StyledContainer = styled.div<StyledContainerProps>`\r\n  box-sizing: border-box;\r\n  margin: 0 auto;\r\n  max-width: ${props => props.width}px;\r\n  padding: 0 ${props => props.theme.spacing[4]}px;\r\n  width: 100%;\r\n`\r\n\r\nexport default Container","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport chef from '../../assets/img/chef.png'\r\nimport womenChef from '../../assets/img/womenChef.png'\r\n\r\nconst Logo: React.FC = () => {\r\n  return (\r\n    <StyledLogo to=\"/\">\r\n      <img src={womenChef} height=\"32\" style={{ marginTop: -4 }} />\r\n      <StyledText>\r\n        <MasterChefText>MasterChef's wife   </MasterChefText>🍱\r\n      </StyledText>\r\n    </StyledLogo>\r\n  )\r\n}\r\n\r\nconst StyledLogo = styled(Link)`\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin: 0;\r\n  min-height: 44px;\r\n  min-width: 44px;\r\n  padding: 0;\r\n  text-decoration: none;\r\n`\r\n\r\nconst StyledText = styled.span`\r\n  color: ${(props) => props.theme.color.grey[600]};\r\n  font-family: 'Reem Kufi', sans-serif;\r\n  font-size: 20px;\r\n  font-weight: 700;\r\n  letter-spacing: 0.03em;\r\n  margin-left: ${(props) => props.theme.spacing[2]}px;\r\n  @media (max-width: 400px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst MasterChefText = styled.span`\r\n  font-family: 'Kaushan Script', sans-serif;\r\n`\r\n\r\nexport default Logo\r\n","import React, { createContext, useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\n\r\ninterface ModalsContext {\r\n  content?: React.ReactNode,\r\n  isOpen?: boolean,\r\n  onPresent: (content: React.ReactNode,  key?: string, support?: boolean) => void,\r\n  onDismiss: () => void\r\n}\r\n\r\nexport const Context = createContext<ModalsContext>({\r\n  onPresent: () => {},\r\n  onDismiss: () => {},\r\n})\r\n\r\nconst Modals: React.FC = ({ children }) => {\r\n  const [isOpen, setIsOpen] = useState(false)\r\n  const [content, setContent] = useState<React.ReactNode>()\r\n  const [modalKey, setModalKey] = useState<string>()\r\n  const [support, setSupport] = useState(Boolean)\r\n\r\n  const handlePresent = useCallback((modalContent: React.ReactNode,  key?: string ,support?: boolean) => {\r\n    setModalKey(key)\r\n    setContent(modalContent)\r\n    setIsOpen(true)\r\n    setSupport(support)\r\n  }, [setContent, setIsOpen, setModalKey, setSupport])\r\n\r\n  const handleDismiss = useCallback(() => {\r\n    setContent(undefined)\r\n    setIsOpen(false)\r\n  }, [setContent, setIsOpen, modalKey])\r\n\r\n  return (\r\n    <Context.Provider value={{\r\n      content,\r\n      isOpen,\r\n      onPresent: handlePresent,\r\n      onDismiss: handleDismiss,\r\n    }}>\r\n      {children}\r\n      {isOpen && (\r\n        <StyledModalWrapper>\r\n          <StyledModalBackdrop onClick={handleDismiss} />\r\n          {React.isValidElement(content) && React.cloneElement(content, {\r\n            onDismiss: handleDismiss,\r\n            support: support\r\n          })}\r\n        </StyledModalWrapper>\r\n      )}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nconst StyledModalWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: fixed;\r\n  top: 0; right: 0; bottom: 0; left: 0;\r\n`\r\n\r\nconst StyledModalBackdrop = styled.div`\r\n  background-color: ${props => props.theme.color.grey[600]}aa;\r\n  position: absolute;\r\n  top: 0; right: 0; bottom: 0; left: 0;\r\n`\r\n\r\nexport default Modals","import { useCallback, useContext } from 'react'\r\nimport { Context } from '../contexts/Modals'\r\n\r\nconst useModal = (modal: React.ReactNode, key?: string) => {\r\n  const { onDismiss, onPresent } = useContext(Context)\r\n\r\n  const handlePresent = useCallback(() => {\r\n    onPresent(modal, key)\r\n  }, [key, modal, onPresent])\r\n\r\n  return [handlePresent, onDismiss]\r\n}\r\n\r\nexport default useModal\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Card: React.FC = ({ children }) => <StyledCard>{children}</StyledCard>\r\n\r\nconst StyledCard = styled.div`\r\n  background: ${(props) => props.theme.color.grey[200]};\r\n  border: 1px solid ${(props) => props.theme.color.grey[300]}ff;\r\n  border-radius: 12px;\r\n  box-shadow: inset 1px 1px 0px ${(props) => props.theme.color.grey[100]};\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n`\r\n\r\nexport default Card\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst CardContent: React.FC = ({ children }) => (\r\n  <StyledCardContent>{children}</StyledCardContent>\r\n)\r\n\r\nconst StyledCardContent = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  padding: ${(props) => props.theme.spacing[3]}px;\r\n`\r\n\r\nexport default CardContent\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\ninterface CardTitleProps {\r\n  text?: string\r\n}\r\n\r\nconst CardTitle: React.FC<CardTitleProps> = ({ text }) => (\r\n  <StyledCardTitle>{text}</StyledCardTitle>\r\n)\r\n\r\nconst StyledCardTitle = styled.div`\r\n  color: ${(props) => props.theme.color.grey[600]};\r\n  font-size: 18px;\r\n  font-weight: 700;\r\n  padding: ${(props) => props.theme.spacing[4]}px;\r\n  text-align: center;\r\n`\r\n\r\nexport default CardTitle\r\n","import React from 'react'\r\nimport Button from '../../Button'\r\nimport Card from '../../Card'\r\nimport CardContent from '../../CardContent'\r\nimport CardIcon from '../../CardIcon'\r\nimport CardTitle from '../../CardTitle'\r\nimport Spacer from '../../Spacer'\r\nimport { useI18n } from 'use-i18n'\r\n\r\ninterface WalletCardProps {\r\n  icon: React.ReactNode\r\n  onConnect: () => void\r\n  title: string\r\n}\r\n\r\nconst WalletCard: React.FC<WalletCardProps> = ({ icon, onConnect, title }) =>{\r\n  const t = useI18n()\r\n  return (\r\n  <Card>\r\n    <CardContent>\r\n      <CardIcon>{icon}</CardIcon>\r\n      <CardTitle text={title} />\r\n      <Spacer />\r\n      <Button onClick={onConnect} text={t.walletConnect} />\r\n    </CardContent>\r\n  </Card>\r\n)}\r\n\r\nexport default WalletCard\r\n","import React, { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport metamaskLogo from '../../assets/img/metamask-fox.svg'\r\nimport walletConnectLogo from '../../assets/img/wallet-connect.svg'\r\n\r\nimport Button from '../Button'\r\nimport Modal, { ModalProps } from '../Modal'\r\nimport ModalActions from '../ModalActions'\r\nimport ModalContent from '../ModalContent'\r\nimport ModalTitle from '../ModalTitle'\r\nimport Spacer from '../Spacer'\r\nimport { useI18n } from 'use-i18n'\r\n\r\nimport WalletCard from './components/WalletCard'\r\n\r\nconst WalletProviderModal: React.FC<ModalProps> = ({ onDismiss }) => {\r\n  const t = useI18n()\r\n  const { account, connect } = useWallet()\r\n\r\n  useEffect(() => {\r\n    if (account) {\r\n      onDismiss()\r\n    }\r\n  }, [account, onDismiss])\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={t.sellectWallet} />\r\n\r\n      <ModalContent>\r\n        <StyledWalletsWrapper>\r\n          <StyledWalletCard>\r\n            <WalletCard\r\n              icon={<img src={metamaskLogo} style={{ height: 32 }} />}\r\n              onConnect={() => connect('injected')}\r\n              title=\"Metamask\"\r\n            />\r\n          </StyledWalletCard>\r\n          <Spacer size=\"sm\" />\r\n          <StyledWalletCard>\r\n            <WalletCard\r\n              icon={<img src={walletConnectLogo} style={{ height: 24 }} />}\r\n              onConnect={() => connect('walletconnect')}\r\n              title=\"WalletConnect\"\r\n            />\r\n          </StyledWalletCard>\r\n        </StyledWalletsWrapper>\r\n      </ModalContent>\r\n\r\n      <ModalActions>\r\n        <Button text={t.walletCancle} variant=\"secondary\" onClick={onDismiss} />\r\n      </ModalActions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst StyledWalletsWrapper = styled.div`\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  @media (max-width: ${(props) => props.theme.breakpoints.mobile}px) {\r\n    flex-direction: column;\r\n    flex-wrap: none;\r\n  }\r\n`\r\n\r\nconst StyledWalletCard = styled.div`\r\n  flex-basis: calc(50% - ${(props) => props.theme.spacing[2]}px);\r\n`\r\n\r\nexport default WalletProviderModal\r\n","import BigNumber from 'bignumber.js/bignumber'\r\n\r\nexport const SUBTRACT_GAS_LIMIT = 100000\r\n\r\nconst ONE_MINUTE_IN_SECONDS = new BigNumber(60)\r\nconst ONE_HOUR_IN_SECONDS = ONE_MINUTE_IN_SECONDS.times(60)\r\nconst ONE_DAY_IN_SECONDS = ONE_HOUR_IN_SECONDS.times(24)\r\nconst ONE_YEAR_IN_SECONDS = ONE_DAY_IN_SECONDS.times(365)\r\n\r\nexport const INTEGERS = {\r\n  ONE_MINUTE_IN_SECONDS,\r\n  ONE_HOUR_IN_SECONDS,\r\n  ONE_DAY_IN_SECONDS,\r\n  ONE_YEAR_IN_SECONDS,\r\n  ZERO: new BigNumber(0),\r\n  ONE: new BigNumber(1),\r\n  ONES_31: new BigNumber('4294967295'), // 2**32-1\r\n  ONES_127: new BigNumber('340282366920938463463374607431768211455'), // 2**128-1\r\n  ONES_255: new BigNumber(\r\n    '115792089237316195423570985008687907853269984665640564039457584007913129639935',\r\n  ), // 2**256-1\r\n  INTEREST_RATE_BASE: new BigNumber('1e18'),\r\n}\r\n\r\nexport const addressMap = {\r\n  // uniswapFactory: '0xc0a47dFe034B400B47bDaD5FecDa2621de6c4d95',\r\n  // uniswapFactoryV2: '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f',\r\n  // YFI: '0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e',\r\n  // YCRV: '0xdF5e0e81Dff6FAF3A7e52BA697820c5e32D806A8',\r\n  // UNIAmpl: '0xc5be99a02c6857f9eac67bbce58df5572498f40c',\r\n  WETH: '0x5eCA15B12d959dfcf9c71c59F8B467Eb8c6efD0b',\r\n  // UNIRouter: '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D',\r\n  // LINK: '0x514910771AF9Ca656af840dff83E8264EcF986CA',\r\n  // MKR: '0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2',\r\n  // SNX: '0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F',\r\n  // COMP: '0xc00e94Cb662C3520282E6f5717214004A7f26888',\r\n  // LEND: '0x80fB784B7eD66730e8b1DBd9820aFD29931aab03',\r\n  // SUSHIYCRV: '0x2C7a51A357d5739C5C74Bf3C96816849d2c9F726',\r\n  NAP: '0xb4a94DA855Da0B1174Bf10E9900D7001332C01Dd',\r\n}\r\n\r\nexport const contractAddresses = {\r\n  sushi: {\r\n    1: '0x6b3595068778dd592e39a122f4f5a5cf09c90fe2',\r\n    //42: '0xb4a94DA855Da0B1174Bf10E9900D7001332C01Dd'\r\n  },\r\n  masterChef: {\r\n    1: '0xc2edad668740f1aa35e4d8f227fb8e17dca888cd',\r\n    //42: '0xBCcA45FA41c7eF29cB7B7e6d8b129FA5Eeaf6432'\r\n  },\r\n  weth: {\r\n    1: '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2',\r\n    42: '0xd0a1e359811322d97991e03f863a0c30c2cf029c'\r\n  },\r\n  bento: {\r\n    1: '0x6b3595068778dd592e39a122f4f5a5cf09c90fe2',\r\n    //42: '0xe7221fd1f893342a433ebd4bcb9B672822fC7401',\r\n    42: '0xeAD76d0E8902992420564F67F04Fb32232C27158',\r\n  },\r\n  bentoMiner: {\r\n    1: '0xc2edad668740f1aa35e4d8f227fb8e17dca888cd',\r\n    //42: '0xFFa9CDE0e63dcA206A559e825DE02EE9041e89Af'\r\n    42: '0xfB9e1591f67d4f9c32995252aEfe8A6EE798fAd7',\r\n  },\r\n}\r\n\r\n/*\r\nUNI-V2 LP Address on mainnet for reference\r\n==========================================\r\n0  USDT 0x0d4a11d5eeaac28ec3f61d100daf4d40471f1852\r\n1  USDC 0xb4e16d0168e52d35cacd2c6185b44281ec28c9dc\r\n2  DAI  0xa478c2975ab1ea89e8196811f51a7b7ade33eb11\r\n3  sUSD 0xf80758ab42c3b07da84053fd88804bcb6baa4b5c\r\n4  COMP 0xcffdded873554f362ac02f8fb1f02e5ada10516f\r\n5  LEND 0xab3f9bf1d81ddb224a2014e98b238638824bcf20\r\n6  SNX  0x43ae24960e5534731fc831386c07755a2dc33d47\r\n7  UMA  0x88d97d199b9ed37c29d846d00d443de980832a22\r\n8  LINK 0xa2107fa5b38d9bbd2c461d6edf11b11a50f6b974\r\n9  BAND 0xf421c3f2e695c2d4c0765379ccace8ade4a480d9\r\n10 AMPL 0xc5be99a02c6857f9eac67bbce58df5572498f40c\r\n11 YFI  0x2fdbadf3c4d5a8666bc06645b8358ab803996e28\r\n12 SUSHI 0xce84867c3c02b05dc570d0135103d3fb9cc19433\r\n\r\n\r\nkovan NAP    0x4268A742ae9bA78B07d1679665B208392f63f746 \r\nkovan bento  0x88c663A367647252Aa9192078A9Ae11D7f4ccFa3\r\n*/\r\n\r\nexport const supportedPools = [\r\n  \r\n  {\r\n    pid: 0,\r\n    lpAddresses: {\r\n      1: '',\r\n      42: '0x0a82cf35a793bcb46d5b66c02b41920d2411477f'\r\n    },\r\n    tokenAddresses: {\r\n      1: '',\r\n      42: '0xeAD76d0E8902992420564F67F04Fb32232C27158'\r\n    },\r\n    originalGovAddress: {\r\n      1: '',\r\n      42: '0x665a5f09716d63D9256934855b0CE2056a5C4Cf8'\r\n    },\r\n    govAddresses: {\r\n      1:'',\r\n      42: '0xfB9e1591f67d4f9c32995252aEfe8A6EE798fAd7',\r\n    },\r\n    name: 'BENTO',\r\n    symbol: 'BENTO',\r\n    tokenSymbol: 'BENTO',\r\n    icon: '🍱',\r\n  },\r\n  {\r\n    pid: 1,\r\n    lpAddresses: {\r\n      1: '0xce84867c3c02b05dc570d0135103d3fb9cc19433',\r\n      42: '0x4268A742ae9bA78B07d1679665B208392f63f746'\r\n    },\r\n    tokenAddresses: {\r\n      1: '0x6b3595068778dd592e39a122f4f5a5cf09c90fe2',\r\n      42: '0xb4a94DA855Da0B1174Bf10E9900D7001332C01Dd'\r\n    },\r\n    originalGovAddress: {\r\n      1: '',\r\n      42: '0x665a5f09716d63D9256934855b0CE2056a5C4Cf8'\r\n    },\r\n    govAddresses: {\r\n      1:'',\r\n      42: '0xfB9e1591f67d4f9c32995252aEfe8A6EE798fAd7',\r\n    },\r\n    name: 'NAP',\r\n    symbol: 'NAP',\r\n    tokenSymbol: 'BENTO',\r\n    icon: '🥮',\r\n  },\r\n  {\r\n    pid: 1,\r\n    lpAddresses: {\r\n      1: '',\r\n      42: '0x4268A742ae9bA78B07d1679665B208392f63f746'\r\n    },\r\n    tokenAddresses: {\r\n      1: '',\r\n      42: '0x61460874a7196d6a22D1eE4922473664b3E95270'\r\n    },\r\n    originalGovAddress: {\r\n      1: '',\r\n      42: '0x665a5f09716d63D9256934855b0CE2056a5C4Cf8'\r\n    },\r\n    govAddresses: {\r\n      1:'',\r\n      42: '0xfB9e1591f67d4f9c32995252aEfe8A6EE798fAd7',\r\n    },\r\n    name: 'COMP',\r\n    symbol: 'COMP',\r\n    tokenSymbol: 'BENTO',\r\n    icon: '🍤',\r\n  },\r\n  \r\n  \r\n  // {\r\n  //   pid: 1,\r\n  //   lpAddresses: {\r\n  //     1: '0xb4e16d0168e52d35cacd2c6185b44281ec28c9dc',\r\n  //   },\r\n  //   tokenAddresses: {\r\n  //     1: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\r\n  //   },\r\n  //   name: 'UNI',\r\n  //   symbol: 'UNI',\r\n  //   tokenSymbol: 'BENTO',\r\n  //   icon: '🐌',\r\n  // },\r\n]\r\n","import BigNumber from 'bignumber.js'\r\nimport { ethers } from 'ethers'\r\nimport { contractAddresses } from './lib/constants'\r\nimport Web3 from 'web3'\r\n\r\nBigNumber.config({\r\n  EXPONENTIAL_AT: 1000,\r\n  DECIMAL_PLACES: 80,\r\n})\r\n\r\nconst GAS_LIMIT = {\r\n  STAKING: {\r\n    DEFAULT: 200000,\r\n    SNX: 850000,\r\n  },\r\n}\r\n\r\nexport const getBentoMinerAddress = (bento) => {\r\n  return bento && bento.bentoMinerAddress\r\n}\r\nexport const getBentoAddress = (bento) => {\r\n  console.log('bento.bentoAddress: ', bento)\r\n  return bento && bento.bentoAddress\r\n}\r\nexport const getWethContract = (bento) => {\r\n  return bento && bento.contracts && bento.contracts.weth\r\n}\r\n\r\nexport const getBentoMinerContract = (bento) => {\r\n  return bento && bento.contracts && bento.contracts.bentoMiner\r\n}\r\nexport const getBentoContract = (bento) => {\r\n  return bento && bento.contracts && bento.contracts.bento\r\n}\r\n\r\nexport const getFarms = (bento) => {\r\n  return bento\r\n    ? bento.contracts.pools.map(\r\n      ({\r\n        pid,\r\n        name,\r\n        symbol,\r\n        icon,\r\n        tokenAddress,\r\n        tokenSymbol,\r\n        tokenContract,\r\n        lpAddress,\r\n        lpContract,\r\n      }) => ({\r\n        pid,\r\n        id: symbol,\r\n        name,\r\n        lpToken: symbol,\r\n        lpTokenAddress: lpAddress,\r\n        lpContract,\r\n        tokenAddress,\r\n        tokenSymbol,\r\n        tokenContract,\r\n        earnToken: 'bento',\r\n        earnTokenAddress: bento.contracts.bento.options.address,\r\n        icon,\r\n      }),\r\n    )\r\n    : []\r\n}\r\n\r\nexport const getGovs = (bento) => {\r\n  return bento\r\n    ? bento.contracts.pools.map(\r\n      ({\r\n        pid,\r\n        name,\r\n        symbol,\r\n        icon,\r\n        tokenAddress,\r\n        tokenSymbol,\r\n        tokenContract,\r\n        lpAddress,\r\n        lpContract,\r\n        govAddress,\r\n        govContract,\r\n        originalGovContract,\r\n        originalGovAddress,\r\n      }) => ({\r\n        pid,\r\n        id: symbol,\r\n        name,\r\n        govToken: symbol,\r\n        govAddress,\r\n        govContract,\r\n        lpContract,\r\n        lpAddress,\r\n        tokenAddress,\r\n        tokenSymbol,\r\n        tokenContract,\r\n        originalGovContract,\r\n        originalGovAddress,\r\n        earnToken: 'bento',\r\n        earnTokenAddress: bento.contracts.bento.options.address,\r\n        icon,\r\n      }),\r\n    )\r\n    : []\r\n}\r\n\r\nexport const getPoolWeight = async (bentoMinerContract, pid) => {\r\n  const { allocPoint } = await bentoMinerContract.methods.poolInfo(pid).call()\r\n  const totalAllocPoint = await bentoMinerContract.methods\r\n    .totalAllocPoint()\r\n    .call()\r\n  return new BigNumber(allocPoint).div(new BigNumber(totalAllocPoint))\r\n}\r\n\r\nexport const getEarned = async (bentoMinerContract, pid, account) => {\r\n  return bentoMinerContract.methods.pendingBento(pid, account).call()\r\n}\r\n\r\n\r\n\r\nexport const getTotalLPWethValue = async (\r\n  bentoMinerContract,\r\n  wethContract,\r\n  lpContract,\r\n  tokenContract,\r\n  pid,\r\n) => {\r\n  // Get balance of the token address\r\n  const tokenAmountWholeLP = await tokenContract.methods\r\n    .balanceOf(lpContract.options.address)\r\n    .call()\r\n  const tokenDecimals = await tokenContract.methods.decimals().call()\r\n  // Get the share of lpContract that bentoMinerContract owns\r\n  const balance = await lpContract.methods\r\n    .balanceOf(bentoMinerContract.options.address)\r\n    .call()\r\n  // Convert that into the portion of total lpContract = p1\r\n  const totalSupply = await lpContract.methods.totalSupply().call()\r\n  // Get total weth value for the lpContract = w1\r\n  const lpContractWeth = await wethContract.methods\r\n    .balanceOf(lpContract.options.address)\r\n    .call()\r\n  // Return p1 * w1 * 2\r\n  const portionLp = new BigNumber(balance).div(new BigNumber(totalSupply))\r\n  const lpWethWorth = new BigNumber(lpContractWeth)\r\n  const totalLpWethValue = portionLp.times(lpWethWorth).times(new BigNumber(2))\r\n  // Calculate\r\n  const tokenAmount = new BigNumber(tokenAmountWholeLP)\r\n    .times(portionLp)\r\n    .div(new BigNumber(10).pow(tokenDecimals))\r\n\r\n  const wethAmount = new BigNumber(lpContractWeth)\r\n    .times(portionLp)\r\n    .div(new BigNumber(10).pow(18))\r\n  return {\r\n    tokenAmount,\r\n    wethAmount,\r\n    totalWethValue: totalLpWethValue.div(new BigNumber(10).pow(18)),\r\n    tokenPriceInWeth: wethAmount.div(tokenAmount),\r\n    poolWeight: await getPoolWeight(bentoMinerContract, pid),\r\n  }\r\n}\r\n\r\nexport const approve = async (lpContract, bentoMinerContract, account) => {\r\n  return lpContract.methods\r\n    .approve(bentoMinerContract.options.address, ethers.constants.MaxUint256)\r\n    .send({ from: account })\r\n}\r\n\r\nexport const getBentoSupply = async (bento) => {\r\n  return new BigNumber(await bento.contracts.bento.methods.totalSupply().call())\r\n}\r\n\r\nexport const stake = async (bentoMinerContract, amount, account) => {\r\n  return bentoMinerContract.methods\r\n    .deposit(\r\n      new BigNumber(amount).times(new BigNumber(10).pow(18)).toString(),\r\n    )\r\n    .send({ from: account })\r\n    .on('transactionHash', (tx) => {\r\n      console.log(tx)\r\n      return tx.transactionHash\r\n    })\r\n}\r\n\r\nexport const unstake = async (bentoMinerContract, amount, account) => {\r\n  return bentoMinerContract.methods\r\n    .claimAllBentoAndWithdrawGovs(\r\n      new BigNumber(amount).times(new BigNumber(10).pow(18)).toString(),\r\n    )\r\n    .send({ from: account })\r\n    .on('transactionHash', (tx) => {\r\n      console.log(tx)\r\n      return tx.transactionHash\r\n    })\r\n}\r\nexport const harvest = async (bentoMinerContract, pid, account) => {\r\n  return bentoMinerContract.methods\r\n    .deposit(pid, '0')\r\n    .send({ from: account })\r\n    .on('transactionHash', (tx) => {\r\n      console.log(tx)\r\n      return tx.transactionHash\r\n    })\r\n}\r\n\r\nexport const getStaked = async (bentoMinerContract, pid, account) => {\r\n  try {\r\n    const { amount } = await bentoMinerContract.methods\r\n      .userInfo(pid, account)\r\n      .call()\r\n    return new BigNumber(amount)\r\n  } catch {\r\n    return new BigNumber(0)\r\n  }\r\n}\r\n\r\nexport const redeem = async (bentoMinerContract, account) => {\r\n  let now = new Date().getTime() / 1000\r\n  if (now >= 1597172400) {\r\n    return bentoMinerContract.methods\r\n      .exit()\r\n      .send({ from: account })\r\n      .on('transactionHash', (tx) => {\r\n        console.log(tx)\r\n        return tx.transactionHash\r\n      })\r\n  } else {\r\n    alert('pool not active')\r\n  }\r\n}\r\n\r\n\r\n// =========================bento Web3方法 ==================\r\n/**\r\n * \r\n * @param {bentoABI} bentoken \r\n */\r\nexport const getBentoTotalSupply = async (bento) => {\r\n  return new BigNumber(await bento.contracts.bento.methods.totalSupply().call())\r\n}\r\n\r\n/**\r\n * 获得销毁的bento数量\r\n * @param {*} bento \r\n */\r\nexport const getBentoTotalBurned = async (bento) => {\r\n  return new BigNumber(await bento.contracts.bento.methods.totalBurned().call())\r\n}\r\n\r\n/**\r\n * \r\n * @param {bentoMinerABI} BentoMiner \r\n */\r\nexport const getGovTotalSupply = async (bentoMiner) => {\r\n  return new BigNumber(await bentoMiner.methods.totalGovTokensLocked().call())\r\n}\r\n\r\n/**\r\n * \r\n * @param {bentoABI} bentoken \r\n * @param {network id} chainId \r\n */\r\nexport const getWeigthInfo = async (bentoken, chainId) => {\r\n  let totalPoolWeight, poolWeight\r\n  await bentoken.methods.getUnionWeight(contractAddresses.bentoMiner[chainId]).call().then((rst) => {\r\n    totalPoolWeight = rst[1]\r\n    poolWeight = rst[0]\r\n  })\r\n  return { totalPoolWeight, poolWeight }\r\n}\r\n\r\n/**\r\n * \r\n * @param {bentoABI} bentoken \r\n * @param {current account} account \r\n */\r\nexport const getMyBentoBalance = async (bento, account) => {\r\n  return new BigNumber(await bento.contracts.bento.methods.balanceOf(account).call())\r\n\r\n}\r\n\r\n//食堂 - 获取便当info\r\nexport const getMyUnclaimBento = async (bentoMiner, account) => {\r\n  let bento_unclaim\r\n  await bentoMiner.contracts.bentoMiner.methods.unClaimedOf(account).call().then((rst) => {\r\n    const util = require('util')\r\n    console.log(`bento ${util.inspect(rst)}`)\r\n    try {\r\n      bento_unclaim = new BigNumber(rst)\r\n    } catch{\r\n      bento_unclaim = new BigNumber(0)\r\n    }\r\n  })\r\n\r\n  return bento_unclaim\r\n}\r\n\r\n// 食堂 - 银行中的bento数量 (未添加)\r\nexport const getMyGovTokens = async (miner, account) => {\r\n  let bento_inBank\r\n  miner.methods.player2GovTokens(account).call().then((rst) => {\r\n    try {\r\n      bento_inBank = new BigNumber(rst)\r\n    } catch{\r\n      bento_inBank = new BigNumber(0)\r\n    }\r\n  })\r\n  return bento_inBank\r\n}\r\n\r\n//食堂 - 正在挖矿\r\nexport const getGovBalance = async (govtoken, account) => {\r\n  let gov_balance\r\n  govtoken.methods.balanceOf(account).call().then((rst) => {\r\n    try {\r\n      gov_balance = new BigNumber(rst)\r\n    } catch{\r\n      gov_balance = new BigNumber(0)\r\n    }\r\n  })\r\n  return gov_balance\r\n}\r\n\r\n/**\r\n * getGovTokensLockInBento\r\n* @param {} bentoMiner \r\n * @param {*} account \r\n */\r\nexport const playerToGovTokens = async (bentoMiner, account) => {\r\n  let gov_locked\r\n\r\n  gov_locked = await bentoMiner.methods.playerToGovTokens(account).call()\r\n  console.log(`gov_locked ${gov_locked}`)\r\n  if (gov_locked) {\r\n    return new BigNumber(gov_locked)\r\n  } else {\r\n    return new BigNumber(0)\r\n  }\r\n}\r\n\r\n/**\r\n * \r\n * @param {*} gov_locked \r\n * @param {*} govTotalLocked \r\n * @param {*} poolWeight \r\n * @param {*} totalPoolWeight \r\n */\r\nexport const getBentoMiningSpeed = (gov_locked, govTotalLocked, poolWeight, totalPoolWeight) => {\r\n  //首先获取个人LP数量，获取总LP数量，获取当前池子权重比\r\n  // BentoMiner.methods.totalLPTokensLocked().call().then(rst)\r\n\r\n  const bento_miningSpeed = ((gov_locked / govTotalLocked) * (poolWeight / totalPoolWeight)) * 64\r\n  console.log(gov_locked, govTotalLocked, poolWeight, totalPoolWeight)\r\n  return bento_miningSpeed\r\n}\r\n\r\n/**\r\n * \r\n * @param {*} gov_locked \r\n * @param {*} govTotalLocked \r\n */\r\nexport const getMyMiningPercentage = (gov_locked, govTotalLocked) => {\r\n  const gov_percentage = (gov_locked * 100 / govTotalLocked)\r\n  return gov_percentage\r\n}\r\n\r\n// 食堂 - (未添加) 声明便当按钮\r\nexport const claimBento = async (bentoMiner, account) => {\r\n  console.log(`claim bento ${account}`)\r\n  await bentoMiner.methods.claim().send({ from: account }).then(() => {\r\n    // this.getMyUnclaimBento(bentoMiner, account)\r\n    // this.getMyBentoInBank(bentoMiner, account)\r\n    console.log(`claimBento successfully`)\r\n  })\r\n}\r\n\r\n/**\r\n * 食堂 - 领取 按钮\r\n * @param {*} bentoken \r\n * @param {*} bentoMiner \r\n * @param {*} account \r\n * @param {ether} v_Bentos_withdraw \r\n */\r\nexport const withdrawBento = async (bentoken, bentoMiner, account, v_Bentos_withdraw) => {\r\n  bentoMiner.methods.withdrawBentos(v_Bentos_withdraw).send({ from: account }).then(() => {\r\n    getMyUnclaimBento(bentoMiner, account)\r\n    //getMyBentoInBank(bentoMiner, account)\r\n    getMyBentoBalance(bentoken, account)\r\n  })\r\n}\r\n\r\nexport const approveBento = async (bentoContract, govAddress, account, amount) => {\r\n  return bentoContract.methods\r\n    .approve(govAddress, new BigNumber(amount).times(new BigNumber(10).pow(18)))\r\n    .send({ from: account })\r\n    .then((rst) => {\r\n      console.log('Approved receipt:', rst);\r\n      return true\r\n    })\r\n    .catch((e) => {\r\n      console.log(`failed to approve ${e} amount ${amount} bento ${govAddress} account ${account}`)\r\n      return false\r\n    })\r\n}\r\nexport const approveGovToken = async (tokenContract, govAddress, account, amount) => {\r\n  return tokenContract.methods\r\n    .approve(govAddress, new BigNumber(amount).times(new BigNumber(10).pow(18)))\r\n    .send({ from: account })\r\n    .then((rst) => {\r\n      console.log('Approved receipt:', rst);\r\n      return true\r\n    })\r\n    .catch((e) => {\r\n      console.log(`failed to approve ${e} amount ${amount} govtoken ${govAddress} account ${account}`)\r\n      return false\r\n    })\r\n}\r\n\r\n\r\n/**\r\n * \r\n * @param {gov token contract} govTokenContract \r\n * @param {gov lp token contract} lpContract \r\n * @param {*} wethContract \r\n */\r\nexport const getGovPriceInWeth = async (tokenContract, lpContract, wethContract\r\n) => {\r\n\r\n  const govTokenAmountWholeLP = await tokenContract.methods\r\n    .balanceOf(lpContract.options.address).call()\r\n\r\n  console.log('govTokenAmountWholeLP:', govTokenAmountWholeLP)\r\n\r\n  const tokenDecimals = await tokenContract.methods.decimals().call()\r\n\r\n  console.log('tokenDecimals:', tokenDecimals)\r\n\r\n  const govAmount = new BigNumber(govTokenAmountWholeLP)\r\n    .div(new BigNumber(10).pow(tokenDecimals))\r\n\r\n  console.log('govAmount:', govAmount.toNumber())\r\n\r\n  const wethAmountWholeLP = await wethContract.methods\r\n    .balanceOf(lpContract.options.address).call()\r\n\r\n  console.log('wethAmountWholeLP:', wethAmountWholeLP)\r\n\r\n  const wethAmount = new BigNumber(wethAmountWholeLP)\r\n    .div(new BigNumber(10).pow(18))\r\n  return wethAmount.div(govAmount)\r\n}\r\n\r\nexport const getBentoPriceInWeth = async (\r\n  bento,\r\n  lpContract,\r\n  wethContract,\r\n) => {\r\n  return await getGovPriceInWeth(bento, lpContract, wethContract)\r\n}\r\n\r\n\r\nexport const getApyByPool = async (\r\n  tokenContract,\r\n  bento,\r\n  govContract,\r\n  lpContract,\r\n  wethContract,\r\n  blocksInYear,\r\n  account,\r\n  name,\r\n  icon,\r\n) => {\r\n\r\n  const govPrice = await getGovPriceInWeth(tokenContract, lpContract, wethContract)\r\n\r\n\r\n  const govAmount = await totalGovTokensLocked(govContract)\r\n\r\n\r\n  const bentoPrice = await getBentoPriceInWeth(bento.contracts.bento, bento.contracts.bentoLP, wethContract)\r\n\r\n\r\n  const bp = await getBentoProduction(bento.contracts.bento, govContract)\r\n\r\n  if (!validateBigNumbers(govPrice, govAmount, bentoPrice, bp)) {\r\n    return {\r\n      icon,\r\n      name,\r\n      apy: new BigNumber(0),\r\n    }\r\n  }\r\n\r\n  const apy = bp.times(new BigNumber(blocksInYear))\r\n    .times(bentoPrice)\r\n    .div(govPrice.times(govAmount))\r\n  return {\r\n    icon,\r\n    name,\r\n    apy: apy,\r\n  }\r\n}\r\n\r\nconst validateBigNumbers = (...arr) => {\r\n  let flag = true\r\n  for (let i in arr) {\r\n    if (arr[i].isNaN() || arr[i].isNegative() || arr[i].isZero()) {\r\n      flag = false\r\n      break\r\n    }\r\n  }\r\n  return flag\r\n}\r\n\r\nexport const getBentoProduction = async (bentoMiner, govContract) => {\r\n  let bp = await bentoMiner.methods.bentoProduction(govContract.options.address).call()\r\n  if (bp) {\r\n    return new BigNumber(bp)\r\n  } else {\r\n    return new BigNumber(0)\r\n  }\r\n}\r\n\r\nexport const totalGovTokensLocked = async (bentoMiner) => {\r\n  let total = await bentoMiner.methods.totalGovTokensLocked().call()\r\n  if (total) {\r\n    return new BigNumber(total)\r\n  } else {\r\n    return new BigNumber(0)\r\n  }\r\n}\r\n\r\nexport const getVoteObjectInfo = async (govContract, pid) => {\r\n  let vote = await govContract.methods.getVoteObjectInfo(pid).call()\r\n  return vote\r\n}\r\n\r\nexport const getCastingVoteByContract = async (govContract, block) => {\r\n\r\n  // get voteCreate Events\r\n  const votesCreatedStream = await govContract.getPastEvents('voteCreated', { fromBlock: 0, toBlock: 'latest' })\r\n  let votesCreated = votesCreatedStream.filter(\r\n    (event) => event.returnValues && event.returnValues.endAtBlockNumber > block\r\n  ).map(\r\n    (event) => {\r\n      return event.returnValues\r\n    }\r\n  )\r\n  console.log('votesCreated:', votesCreated)\r\n  // get vote object\r\n  votesCreated = await Promise.all(votesCreated.map(async (vote) => {\r\n    let _vote = getVoteObjectInfo(govContract, vote.Proposalid)\r\n    return {\r\n      proposal_id: vote.Proposalid,\r\n      originator: _vote.Originator,\r\n      endAtBlockNumber: _vote.endAtBlockNumber,\r\n      nowBentosInVote: _vote.nowBentosInVote ? new BigNumber(_vote.nowBentosInVote) : new BigNumber(0),\r\n      trueoptionVotes: _vote.trueoptionVotes,\r\n      falseOptionVotes: _vote.falseOptionVotes,\r\n      stateNow: _vote.stateNow,\r\n    }\r\n  }))\r\n\r\n  return votesCreated\r\n\r\n\r\n}\r\n\r\n//test castvote\r\nexport const govCastVote = async (govContract, id, support, account) => {\r\n  //get bentoMiner\r\n  return await govContract.methods.castVote(id, support).send({ from: account })\r\n}\r\n\r\n//test launchvote\r\nexport const govLaunchVote = async (bento, id, account) => {\r\n  let height = await bento.web3.eth.getBlockNumber()\r\n  return await bento.contracts.bentoMiner.methods.launchVote(id, height).send({ from: account })\r\n}\r\n\r\nexport const depositBento2Miner = async (bento, amount, account) => {\r\n  const bentoMiner = getBentoMinerContract(bento)\r\n  let rlog\r\n  rlog = await bento.contracts.bento.methods.approve(\r\n    bentoMiner.options.address,\r\n    ethers.constants.MaxUint256)\r\n    .send({ from: account })\r\n  console.log('approve log:', rlog)\r\n  rlog = await bentoMiner.methods.deposit(amount).send({ from: account })\r\n  console.log('deposit log:'.rlog)\r\n}\r\n\r\n/**\r\n * get govContract voteCreated event\r\n * @param {*} govContract \r\n * @param {*} block \r\n */\r\nexport const getVoteCreatedEvent = async (govContract, block) => {\r\n  const votesCreatedStream = await govContract.getPastEvents('voteCreated', { fromBlock: 0, toBlock: 'latest' })\r\n  let votesCreated = votesCreatedStream.filter(\r\n    (event) => event.returnValues && event.returnValues.endAtBlockNumber > block\r\n  ).map(\r\n    (event) => {\r\n      return event.returnValues\r\n    }\r\n  )\r\n  return votesCreated\r\n}\r\n\r\n/**\r\n * get proposals event by gov\r\n * @param {*} gov \r\n * @param {*} block \r\n */\r\nexport const getProposalsEvent = async (originalGovContract, name, block) => {\r\n  let result = []\r\n  switch (name) {\r\n    case 'COMP':\r\n      result = await _getCompoundProposal(originalGovContract, block)\r\n      break;\r\n\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return result\r\n}\r\n\r\n// get comp proposal\r\nconst _getCompoundProposal = async (compGovContract, block) => {\r\n  let result\r\n  //fromBlock: block - 17280 - 5000\r\n  result = await compGovContract.getPastEvents('ProposalCreated', { fromBlock: 0, toBlock: 'latest' })\r\n  console.log('getPastEvents result:', result)\r\n  result = result.map((event) => event.returnValues)\r\n  // await Promise.all(result.filter(async (proposal) => {\r\n  //     let state\r\n  //     state = await compGovContract.methods.state(proposal.id).call()\r\n  //     if (state === 'Active' || state === 'Pending') {\r\n  //       return true\r\n  //     }\r\n  //     return false\r\n  //   })\r\n  // )\r\n  return result\r\n\r\n}\r\n\r\nexport const voteOption = async (govContract, pid, support, amount, account) => {\r\n  const tx = await govContract.methods.voteOption(\r\n    pid,\r\n    support,\r\n    new BigNumber(amount).times(new BigNumber(10).pow(18)).toString())\r\n    .send({ from: account })\r\n    .on('transactionHash', (tx) => {\r\n      console.log(tx)\r\n      return tx.transactionHash\r\n    })\r\n  return tx\r\n}","export const ConfirmationType = {\r\n  Hash: 0,\r\n  Confirmed: 1,\r\n  Both: 2,\r\n  Simulate: 3,\r\n}\r\n","import BigNumber from 'bignumber.js/bignumber'\r\nimport ERC20Abi from './abi/erc20.json'\r\nimport BentoMinerAbi from './abi/ABI_BentoMiner.json'\r\nimport GovernorAlphaAbi from './abi/ABI_Comp_Gov.json'\r\nimport BentoAbi from './abi/ABI_Bentoken.json'\r\nimport UNIV2PairAbi from './abi/uni_v2_lp.json'\r\nimport WETHAbi from './abi/weth_kovan.json'\r\nimport {\r\n  contractAddresses,\r\n  SUBTRACT_GAS_LIMIT,\r\n  supportedPools,\r\n} from './constants.js'\r\nimport * as Types from './types.js'\r\n\r\nexport class Contracts {\r\n  constructor(provider, networkId, web3, options) {\r\n    this.web3 = web3\r\n    this.defaultConfirmations = options.defaultConfirmations\r\n    this.autoGasMultiplier = options.autoGasMultiplier || 1.5\r\n    this.confirmationType =\r\n      options.confirmationType || Types.ConfirmationType.Confirmed\r\n    this.defaultGas = options.defaultGas\r\n    this.defaultGasPrice = options.defaultGasPrice\r\n\r\n    this.bento = new this.web3.eth.Contract(BentoAbi)\r\n    this.bentoMiner = new this.web3.eth.Contract(BentoMinerAbi)\r\n    this.weth = new this.web3.eth.Contract(WETHAbi)\r\n    this.bentoLP =  new this.web3.eth.Contract(UNIV2PairAbi)\r\n    this.pools = supportedPools.map((pool) =>\r\n      Object.assign(pool, {\r\n        lpAddress: pool.lpAddresses[networkId],\r\n        tokenAddress: pool.tokenAddresses[networkId],\r\n        govAddress: pool.govAddresses[networkId],\r\n        originalGovAddress: pool.originalGovAddress[networkId],\r\n        lpContract: new this.web3.eth.Contract(UNIV2PairAbi),\r\n        govContract: new this.web3.eth.Contract(BentoMinerAbi),\r\n        tokenContract: new this.web3.eth.Contract(ERC20Abi),\r\n        originalGovContract: new this.web3.eth.Contract(GovernorAlphaAbi),\r\n      }),\r\n    )\r\n\r\n    this.setProvider(provider, networkId)\r\n    this.setDefaultAccount(this.web3.eth.defaultAccount)\r\n  }\r\n\r\n  setProvider(provider, networkId) {\r\n    let bentoLPAddress\r\n    const setProvider = (contract, address) => {\r\n      contract.setProvider(provider)\r\n      if (address) contract.options.address = address\r\n      else console.error('Contract address not found in network', networkId)\r\n    }\r\n\r\n    setProvider(this.bento, contractAddresses.bento[networkId])\r\n    setProvider(this.bentoMiner, contractAddresses.bentoMiner[networkId])\r\n    setProvider(this.weth, contractAddresses.weth[networkId])\r\n    this.pools.forEach(\r\n      ({ lpContract, lpAddress, tokenContract, tokenAddress, govContract, govAddress, pid, originalGovContract, originalGovAddress }) => {\r\n        if(pid === 0) {\r\n          bentoLPAddress = lpAddress\r\n        }\r\n        setProvider(lpContract, lpAddress)\r\n        setProvider(tokenContract, tokenAddress)\r\n        setProvider(govContract, govAddress)\r\n        setProvider(originalGovContract, originalGovAddress)\r\n      },\r\n    )\r\n\r\n    setProvider(this.bentoLP, bentoLPAddress)\r\n  }\r\n\r\n  setDefaultAccount(account) {\r\n    this.bento.options.from = account\r\n    this.bentoMiner.options.from = account\r\n  }\r\n\r\n  async callContractFunction(method, options) {\r\n    const {\r\n      confirmations,\r\n      confirmationType,\r\n      autoGasMultiplier,\r\n      ...txOptions\r\n    } = options\r\n\r\n    if (!this.blockGasLimit) {\r\n      await this.setGasLimit()\r\n    }\r\n\r\n    if (!txOptions.gasPrice && this.defaultGasPrice) {\r\n      txOptions.gasPrice = this.defaultGasPrice\r\n    }\r\n\r\n    if (confirmationType === Types.ConfirmationType.Simulate || !options.gas) {\r\n      let gasEstimate\r\n      if (\r\n        this.defaultGas &&\r\n        confirmationType !== Types.ConfirmationType.Simulate\r\n      ) {\r\n        txOptions.gas = this.defaultGas\r\n      } else {\r\n        try {\r\n          console.log('estimating gas')\r\n          gasEstimate = await method.estimateGas(txOptions)\r\n        } catch (error) {\r\n          const data = method.encodeABI()\r\n          const { from, value } = options\r\n          const to = method._parent._address\r\n          error.transactionData = { from, value, data, to }\r\n          throw error\r\n        }\r\n\r\n        const multiplier = autoGasMultiplier || this.autoGasMultiplier\r\n        const totalGas = Math.floor(gasEstimate * multiplier)\r\n        txOptions.gas =\r\n          totalGas < this.blockGasLimit ? totalGas : this.blockGasLimit\r\n      }\r\n\r\n      if (confirmationType === Types.ConfirmationType.Simulate) {\r\n        let g = txOptions.gas\r\n        return { gasEstimate, g }\r\n      }\r\n    }\r\n\r\n    if (txOptions.value) {\r\n      txOptions.value = new BigNumber(txOptions.value).toFixed(0)\r\n    } else {\r\n      txOptions.value = '0'\r\n    }\r\n\r\n    const promi = method.send(txOptions)\r\n\r\n    const OUTCOMES = {\r\n      INITIAL: 0,\r\n      RESOLVED: 1,\r\n      REJECTED: 2,\r\n    }\r\n\r\n    let hashOutcome = OUTCOMES.INITIAL\r\n    let confirmationOutcome = OUTCOMES.INITIAL\r\n\r\n    const t =\r\n      confirmationType !== undefined ? confirmationType : this.confirmationType\r\n\r\n    if (!Object.values(Types.ConfirmationType).includes(t)) {\r\n      throw new Error(`Invalid confirmation type: ${t}`)\r\n    }\r\n\r\n    let hashPromise\r\n    let confirmationPromise\r\n\r\n    if (\r\n      t === Types.ConfirmationType.Hash ||\r\n      t === Types.ConfirmationType.Both\r\n    ) {\r\n      hashPromise = new Promise((resolve, reject) => {\r\n        promi.on('error', (error) => {\r\n          if (hashOutcome === OUTCOMES.INITIAL) {\r\n            hashOutcome = OUTCOMES.REJECTED\r\n            reject(error)\r\n            const anyPromi = promi\r\n            anyPromi.off()\r\n          }\r\n        })\r\n\r\n        promi.on('transactionHash', (txHash) => {\r\n          if (hashOutcome === OUTCOMES.INITIAL) {\r\n            hashOutcome = OUTCOMES.RESOLVED\r\n            resolve(txHash)\r\n            if (t !== Types.ConfirmationType.Both) {\r\n              const anyPromi = promi\r\n              anyPromi.off()\r\n            }\r\n          }\r\n        })\r\n      })\r\n    }\r\n\r\n    if (\r\n      t === Types.ConfirmationType.Confirmed ||\r\n      t === Types.ConfirmationType.Both\r\n    ) {\r\n      confirmationPromise = new Promise((resolve, reject) => {\r\n        promi.on('error', (error) => {\r\n          if (\r\n            (t === Types.ConfirmationType.Confirmed ||\r\n              hashOutcome === OUTCOMES.RESOLVED) &&\r\n            confirmationOutcome === OUTCOMES.INITIAL\r\n          ) {\r\n            confirmationOutcome = OUTCOMES.REJECTED\r\n            reject(error)\r\n            const anyPromi = promi\r\n            anyPromi.off()\r\n          }\r\n        })\r\n\r\n        const desiredConf = confirmations || this.defaultConfirmations\r\n        if (desiredConf) {\r\n          promi.on('confirmation', (confNumber, receipt) => {\r\n            if (confNumber >= desiredConf) {\r\n              if (confirmationOutcome === OUTCOMES.INITIAL) {\r\n                confirmationOutcome = OUTCOMES.RESOLVED\r\n                resolve(receipt)\r\n                const anyPromi = promi\r\n                anyPromi.off()\r\n              }\r\n            }\r\n          })\r\n        } else {\r\n          promi.on('receipt', (receipt) => {\r\n            confirmationOutcome = OUTCOMES.RESOLVED\r\n            resolve(receipt)\r\n            const anyPromi = promi\r\n            anyPromi.off()\r\n          })\r\n        }\r\n      })\r\n    }\r\n\r\n    if (t === Types.ConfirmationType.Hash) {\r\n      const transactionHash = await hashPromise\r\n      if (this.notifier) {\r\n        this.notifier.hash(transactionHash)\r\n      }\r\n      return { transactionHash }\r\n    }\r\n\r\n    if (t === Types.ConfirmationType.Confirmed) {\r\n      return confirmationPromise\r\n    }\r\n\r\n    const transactionHash = await hashPromise\r\n    if (this.notifier) {\r\n      this.notifier.hash(transactionHash)\r\n    }\r\n    return {\r\n      transactionHash,\r\n      confirmation: confirmationPromise,\r\n    }\r\n  }\r\n\r\n  async callConstantContractFunction(method, options) {\r\n    const m2 = method\r\n    const { blockNumber, ...txOptions } = options\r\n    return m2.call(txOptions, blockNumber)\r\n  }\r\n\r\n  async setGasLimit() {\r\n    const block = await this.web3.eth.getBlock('latest')\r\n    this.blockGasLimit = block.gasLimit - SUBTRACT_GAS_LIMIT\r\n  }\r\n}\r\n","export class Account {\r\n  constructor(contracts, address) {\r\n    this.contracts = contracts\r\n    this.accountInfo = address\r\n    this.type = ''\r\n    this.allocation = []\r\n    this.balances = {}\r\n    this.status = ''\r\n    this.approvals = {}\r\n    this.walletInfo = {}\r\n  }\r\n}\r\n","/*\r\n\r\n    Copyright 2019 dYdX Trading Inc.\r\n\r\n    Licensed under the Apache License, Version 2.0 (the \"License\");\r\n    you may not use this file except in compliance with the License.\r\n    You may obtain a copy of the License at\r\n\r\n    http://www.apache.org/licenses/LICENSE-2.0\r\n\r\n    Unless required by applicable law or agreed to in writing, software\r\n    distributed under the License is distributed on an \"AS IS\" BASIS,\r\n    WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n    See the License for the specific language governing permissions and\r\n    limitations under the License.\r\n\r\n*/\r\n\r\n\r\nconst REQUIRE_MSG = 'Returned error: VM Exception while processing transaction: revert';\r\nconst ASSERT_MSG = 'Returned error: VM Exception while processing transaction: invalid opcode';\r\n\r\nexport class EVM {\r\n  constructor(\r\n    provider,\r\n  ) {\r\n    this.provider = provider;\r\n  }\r\n\r\n  setProvider(\r\n    provider,\r\n  ){\r\n    this.provider = provider;\r\n  }\r\n\r\n  /**\r\n   * Attempts to reset the EVM to its initial state. Useful for testing suites\r\n   *\r\n   * @param provider a valid web3 provider\r\n   * @returns null\r\n   */\r\n   async resetEVM(resetSnapshotId = '0x1') {\r\n    const id = await this.snapshot();\r\n\r\n    if (id !== resetSnapshotId) {\r\n      await this.reset(resetSnapshotId);\r\n    }\r\n  }\r\n\r\n   async reset(id) {\r\n    if (!id) {\r\n      throw new Error('id must be set');\r\n    }\r\n\r\n    await this.callJsonrpcMethod('evm_revert', [id]);\r\n\r\n    return this.snapshot();\r\n  }\r\n\r\n   async snapshot() {\r\n    return this.callJsonrpcMethod('evm_snapshot');\r\n  }\r\n\r\n   async evmRevert(id) {\r\n    return this.callJsonrpcMethod('evm_revert', [id]);\r\n  }\r\n\r\n   async stopMining() {\r\n    return this.callJsonrpcMethod('miner_stop');\r\n  }\r\n\r\n   async startMining() {\r\n    return this.callJsonrpcMethod('miner_start');\r\n  }\r\n\r\n   async mineBlock() {\r\n    return this.callJsonrpcMethod('evm_mine');\r\n  }\r\n\r\n   async increaseTime(duration) {\r\n    return this.callJsonrpcMethod('evm_increaseTime', [duration]);\r\n  }\r\n\r\n   async callJsonrpcMethod(method, params) {\r\n    const args= {\r\n      method,\r\n      params,\r\n      jsonrpc: '2.0',\r\n      id: new Date().getTime(),\r\n    };\r\n\r\n    const response = await this.send(args);\r\n\r\n    return response.result;\r\n  }\r\n\r\n   async send(args) {\r\n    return new Promise((resolve, reject) => {\r\n      const callback = (error, val)=> {\r\n        if (error) {\r\n          reject(error);\r\n        } else {\r\n          resolve(val);\r\n        }\r\n      };\r\n\r\n      this.provider.send(\r\n        args,\r\n        callback,\r\n      );\r\n    });\r\n  }\r\n\r\n  // Helper function\r\n  assertCertainError(error, expected_error_msg) {\r\n    // This complication is so that the actual error will appear in truffle test output\r\n    const message = error.message;\r\n    const matchedIndex = message.search(expected_error_msg);\r\n    let matchedString = message;\r\n    if (matchedIndex === 0) {\r\n      matchedString = message.substring(matchedIndex, matchedIndex + expected_error_msg.length);\r\n    }\r\n    expect(matchedString).toEqual(expected_error_msg);\r\n  }\r\n\r\n  // For solidity function calls that violate require()\r\n  async expectThrow(promise, reason) {\r\n    try {\r\n      await promise;\r\n      throw new Error('Did not throw');\r\n    } catch (e) {\r\n      this.assertCertainError(e, REQUIRE_MSG);\r\n      if (reason && process.env.COVERAGE !== 'true') {\r\n        this.assertCertainError(e, `${REQUIRE_MSG} ${reason}`);\r\n      }\r\n    }\r\n  }\r\n\r\n  // For solidity function calls that violate assert()\r\n  async expectAssertFailure(promise) {\r\n    try {\r\n      await promise;\r\n      throw new Error('Did not throw');\r\n    } catch (e) {\r\n      this.assertCertainError(e, ASSERT_MSG);\r\n    }\r\n  }\r\n\r\n\r\n\r\n}\r\n","import Web3 from 'web3'\r\nimport BigNumber from 'bignumber.js'\r\nimport { Contracts } from './lib/bento_contracts.js'\r\nimport { Account } from './lib/accounts.js'\r\nimport { EVM } from './lib/evm.js'\r\n\r\nimport { contractAddresses } from './lib/constants'\r\n\r\nexport class Bento {\r\n  constructor(provider, networkId, testing, options) {\r\n    var realProvider\r\n    console.log('===========Bento constructor start==========')\r\n    if (typeof provider === 'string') {\r\n      if (provider.includes('wss')) {\r\n        realProvider = new Web3.providers.WebsocketProvider(\r\n          provider,\r\n          options.ethereumNodeTimeout || 10000,\r\n        )\r\n      } else {\r\n        realProvider = new Web3.providers.HttpProvider(\r\n          provider,\r\n          options.ethereumNodeTimeout || 10000,\r\n        )\r\n      }\r\n    } else {\r\n      realProvider = provider\r\n    }\r\n\r\n    this.web3 = new Web3(realProvider)\r\n\r\n    if (testing) {\r\n      this.testing = new EVM(realProvider)\r\n      this.snapshot = this.testing.snapshot()\r\n    }\r\n\r\n    if (options.defaultAccount) {\r\n      this.web3.eth.defaultAccount = options.defaultAccount\r\n    }\r\n    const util = require('util')\r\n    console.log(`load contract ${util.inspect(realProvider)}, ${networkId}, ${util.inspect(options)}`)\r\n    this.contracts = new Contracts(realProvider, networkId, this.web3, options)\r\n    this.bentoAddress = contractAddresses.bento[networkId]\r\n    this.bentoMinerAddress = contractAddresses.bentoMiner[networkId]\r\n    this.wethAddress = contractAddresses.weth[networkId]\r\n    console.log('===========Bento constructor start==========')\r\n  }\r\n\r\n  async resetEVM() {\r\n    this.testing.resetEVM(this.snapshot)\r\n  }\r\n\r\n  addAccount(address, number) {\r\n    this.accounts.push(new Account(this.contracts, address, number))\r\n  }\r\n\r\n  setProvider(provider, networkId) {\r\n    this.web3.setProvider(provider)\r\n    this.contracts.setProvider(provider, networkId)\r\n    this.operation.setNetworkId(networkId)\r\n  }\r\n\r\n  setDefaultAccount(account) {\r\n    this.web3.eth.defaultAccount = account\r\n    this.contracts.setDefaultAccount(account)\r\n  }\r\n\r\n  getDefaultAccount() {\r\n    return this.web3.eth.defaultAccount\r\n  }\r\n\r\n  loadAccount(account) {\r\n    const newAccount = this.web3.eth.accounts.wallet.add(account.privateKey)\r\n\r\n    if (\r\n      !newAccount ||\r\n      (account.address &&\r\n        account.address.toLowerCase() !== newAccount.address.toLowerCase())\r\n    ) {\r\n      throw new Error(`Loaded account address mismatch.\r\n        Expected ${account.address}, got ${\r\n        newAccount ? newAccount.address : null\r\n      }`)\r\n    }\r\n  }\r\n\r\n  toBigN(a) {\r\n    return BigNumber(a)\r\n  }\r\n}\r\n","import BigNumber from 'bignumber.js/bignumber'\r\nimport Web3 from 'web3'\r\n\r\nBigNumber.config({\r\n  EXPONENTIAL_AT: 1000,\r\n  DECIMAL_PLACES: 80,\r\n})\r\n\r\nexport { Bento } from './Bento.js'\r\nexport { Web3, BigNumber }\r\n","import React, { createContext, useEffect, useState } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { Bento } from '../../bento'\r\n\r\nexport interface BentoContext {\r\n  bento?: typeof Bento\r\n}\r\n\r\nexport const Context = createContext<BentoContext>({\r\n  bento: undefined,\r\n})\r\n\r\ndeclare global {\r\n  interface Window {\r\n    sushisauce: any\r\n  }\r\n}\r\n\r\nconst BentoProvider: React.FC = ({ children }) => {\r\n  const { ethereum }: { ethereum: any } = useWallet()\r\n  const [bento, setBento] = useState<any>()\r\n\r\n  // @ts-ignore\r\n  window.bento = bento\r\n  // @ts-ignore\r\n  window.eth = ethereum\r\n\r\n  useEffect(() => {\r\n    if (ethereum) {\r\n      const chainId = Number(ethereum.chainId)\r\n      const bentoLib = new Bento(ethereum, chainId, false, {\r\n        defaultAccount: ethereum.selectedAddress,\r\n        defaultConfirmations: 1,\r\n        autoGasMultiplier: 1.5,\r\n        testing: false,\r\n        defaultGas: '6000000',\r\n        defaultGasPrice: '1000000000000',\r\n        accounts: [],\r\n        ethereumNodeTimeout: 10000,\r\n      })\r\n      console.log('bentoLib: ', bentoLib)\r\n      setBento(bentoLib)\r\n      window.sushisauce = bentoLib\r\n    }\r\n  }, [ethereum])\r\n\r\n  return <Context.Provider value={{ bento }}>{children}</Context.Provider>\r\n}\r\n\r\nexport default BentoProvider\r\n","import { useContext } from 'react'\r\nimport { Context } from '../contexts/BentoProvider'\r\n\r\nconst useBento = () => {\r\n  const { bento } = useContext(Context)\r\n  return bento\r\n}\r\n\r\nexport default useBento\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport Web3 from 'web3'\r\nimport { provider } from 'web3-core'\r\nimport { useWallet } from 'use-wallet'\r\n// import debounce from 'debounce'\r\n\r\nconst useBlock = () => {\r\n  const [block, setBlock] = useState(0)\r\n  const { ethereum }: { ethereum: provider } = useWallet()\r\n\r\n  useEffect(() => {\r\n    // const setBlockDebounced = debounce(setBlock, 300)\r\n    if (!ethereum) return\r\n    const web3 = new Web3(ethereum)\r\n\r\n    // const subscription = new Web3(ethereum).eth.subscribe(\r\n    //   'newBlockHeaders',\r\n    //   (error, result) => {\r\n    //     if (!error) {\r\n    //       setBlockDebounced(result.number)\r\n    //     }\r\n    //   },\r\n    // )\r\n\r\n    const interval = setInterval(async () => {\r\n      const latestBlockNumber = await web3.eth.getBlockNumber()\r\n      \r\n      if (block !== latestBlockNumber) {\r\n        // console.log('latestBlockNumber:', latestBlockNumber)\r\n        // setBlock(latestBlockNumber)\r\n      }\r\n    }, 1000)\r\n\r\n    return () => clearInterval(interval)\r\n  }, [ethereum])\r\n\r\n  return block\r\n}\r\n\r\nexport default useBlock\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { provider } from 'web3-core'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { getBentoMinerContract, getMyBentoBalance } from '../bento/utils'\r\nimport useBento from './useBento'\r\nimport useBlock from './useBlock'\r\n\r\nconst useBentoBalance = () => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const bento = useBento()\r\n  const bentoMinerContract = getBentoMinerContract(bento)\r\n  const block = useBlock()\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await getMyBentoBalance(bento, account)\r\n    setBalance(balance)\r\n  }, [account, bentoMinerContract, bento])\r\n\r\n  useEffect(() => {\r\n    if (account && bentoMinerContract && bento) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, block, bentoMinerContract, setBalance, bento])\r\n\r\n  return balance\r\n}\r\n\r\nexport default useBentoBalance\r\n","import BigNumber from 'bignumber.js'\r\n\r\nexport const getBalanceNumber = (balance: BigNumber, decimals = 18) => {\r\n  const displayBalance = balance.dividedBy(new BigNumber(10).pow(decimals))\r\n  return displayBalance.toNumber()\r\n}\r\n\r\nexport const getDisplayBalance = (balance: BigNumber, decimals = 18) => {\r\n  const displayBalance = balance.dividedBy(new BigNumber(10).pow(decimals))\r\n  if (displayBalance.lt(1)) {\r\n    return displayBalance.toPrecision(4)\r\n  } else {\r\n    return displayBalance.toFixed(2).replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',')\r\n  }\r\n}\r\n\r\nexport const getFullDisplayBalance = (balance: BigNumber, decimals = 18) => {\r\n  return balance.dividedBy(new BigNumber(10).pow(decimals)).toFixed()\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\ninterface LabelProps {\r\n  text?: string\r\n}\r\n\r\nconst Label: React.FC<LabelProps> = ({ text }) => (\r\n  <StyledLabel>{text}</StyledLabel>\r\n)\r\n\r\nconst StyledLabel = styled.div`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n`\r\n\r\nexport default Label\r\n","import React, { useState, useEffect } from 'react'\r\nimport CountUp from 'react-countup'\r\n\r\nimport styled from 'styled-components'\r\n\r\ninterface ValueProps {\r\n  value: string | number\r\n  decimals?: number\r\n}\r\n\r\nconst Value: React.FC<ValueProps> = ({ value, decimals }) => {\r\n  const [start, updateStart] = useState(0)\r\n  const [end, updateEnd] = useState(0)\r\n\r\n  useEffect(() => {\r\n    if (typeof value === 'number') {\r\n      updateStart(end)\r\n      updateEnd(value)\r\n    }\r\n  }, [value])\r\n\r\n  return (\r\n    <StyledValue>\r\n      {typeof value == 'string' ? (\r\n        value\r\n      ) : (\r\n        <CountUp\r\n          start={start}\r\n          end={end}\r\n          decimals={\r\n            decimals !== undefined ? decimals : end < 0 ? 4 : end > 1e5 ? 0 : 3\r\n          }\r\n          duration={1}\r\n          separator=\",\"\r\n        />\r\n      )}\r\n    </StyledValue>\r\n  )\r\n}\r\n\r\nconst StyledValue = styled.div`\r\n  font-family: 'Roboto Mono', monospace;\r\n  color: ${(props) => props.theme.color.grey[600]};\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n`\r\n\r\nexport default Value\r\n","import React, { useCallback } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useWallet } from 'use-wallet'\r\nimport useTokenBalance from '../../../hooks/useTokenBalance'\r\nimport useBentoBalance from '../../../bento_hooks/useBentoBalance'\r\nimport { getBalanceNumber } from '../../../utils/formatBalance'\r\nimport Button from '../../Button'\r\nimport CardIcon from '../../CardIcon'\r\nimport Label from '../../Label'\r\nimport Modal, { ModalProps } from '../../Modal'\r\nimport ModalActions from '../../ModalActions'\r\nimport ModalContent from '../../ModalContent'\r\nimport ModalTitle from '../../ModalTitle'\r\nimport Spacer from '../../Spacer'\r\nimport Value from '../../Value'\r\nimport { useI18n } from 'use-i18n'\r\n\r\nconst AccountModal: React.FC<ModalProps> = ({ onDismiss }) => {\r\n  const t = useI18n()\r\n  const { account, reset } = useWallet()\r\n\r\n  const handleSignOutClick = useCallback(() => {\r\n    onDismiss!()\r\n    reset()\r\n  }, [onDismiss, reset])\r\n\r\n\r\n  const bentoBalance = useBentoBalance()\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={t.myAccount} />\r\n      <ModalContent>\r\n        <Spacer />\r\n\r\n        <div style={{ display: 'flex' }}>\r\n          <StyledBalanceWrapper>\r\n            <CardIcon>\r\n              <span>🍱</span>\r\n            </CardIcon>\r\n            <StyledBalance>\r\n              <Value value={getBalanceNumber(bentoBalance)} />\r\n              <Label text={t.bentoBalance} />\r\n            </StyledBalance>\r\n          </StyledBalanceWrapper>\r\n        </div>\r\n\r\n        <Spacer />\r\n        <Button\r\n          href={`https://etherscan.io/address/${account}`}\r\n          text={t.walletEtherScan}\r\n          variant=\"secondary\"\r\n        />\r\n        <Spacer />\r\n        <Button\r\n          onClick={handleSignOutClick}\r\n          text={t.walletSignOut}\r\n          variant=\"secondary\"\r\n        />\r\n      </ModalContent>\r\n      <ModalActions>\r\n        <Button onClick={onDismiss} text={t.walletCancle} />\r\n      </ModalActions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst StyledBalance = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst StyledBalanceWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  margin-bottom: ${(props) => props.theme.spacing[4]}px;\r\n`\r\n\r\nexport default AccountModal\r\n","import React, { useCallback } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useWallet } from 'use-wallet'\r\nimport useModal from '../../../hooks/useModal'\r\nimport Button from '../../Button'\r\nimport WalletProviderModal from '../../WalletProviderModal'\r\nimport AccountModal from './AccountModal'\r\nimport { useI18n  } from 'use-i18n';\r\n\r\n\r\ninterface AccountButtonProps {}\r\n\r\nconst AccountButton: React.FC<AccountButtonProps> = (props) => {\r\n  const t = useI18n();\r\n  const [onPresentAccountModal] = useModal(<AccountModal />)\r\n  const [onPresentWalletProviderModal] = useModal(\r\n    <WalletProviderModal />,\r\n    'provider',\r\n  )\r\n\r\n  const { account } = useWallet()\r\n\r\n  const handleUnlockClick = useCallback(() => {\r\n    onPresentWalletProviderModal()\r\n  }, [onPresentWalletProviderModal])\r\n\r\n  return (\r\n    <StyledAccountButton>\r\n      {!account ? (\r\n        <Button onClick={handleUnlockClick} size=\"sm\" text={t.unlockWallet} />\r\n      ) : (\r\n        <Button onClick={onPresentAccountModal} size=\"sm\" text={t.myWallet} />\r\n      )}\r\n    </StyledAccountButton>\r\n  )\r\n}\r\n\r\nconst StyledAccountButton = styled.div``\r\n\r\nexport default AccountButton\r\n","import React, { useCallback } from 'react'\r\nimport styled from 'styled-components'\r\nimport { useWallet } from 'use-wallet'\r\nimport useModal from '../../../hooks/useModal'\r\nimport Button from '../../Button'\r\nimport WalletProviderModal from '../../WalletProviderModal'\r\nimport AccountModal from './AccountModal'\r\nimport Spacer from '../../Spacer'\r\nimport { useI18n, setLang  } from 'use-i18n';\r\n\r\ninterface AccountButtonProps {}\r\n\r\nconst AccountButton: React.FC<AccountButtonProps> = (props) => {\r\n  const t = useI18n();\r\n  const [lang, setNewLang] = setLang();\r\n  const change = (l: string) => {\r\n    setNewLang(l);\r\n  }\r\n\r\n  const [onPresentAccountModal] = useModal(<AccountModal />)\r\n  const [onPresentWalletProviderModal] = useModal(\r\n    <WalletProviderModal />,\r\n    'provider',\r\n  )\r\n\r\n  const { account } = useWallet()\r\n\r\n  const handleUnlockClick = useCallback(() => {\r\n    onPresentWalletProviderModal()\r\n  }, [onPresentWalletProviderModal])\r\n\r\n\r\n//<Button onClick={handleUnlockClick} size=\"sm\" text=\"Unlock Wallet\" />\r\n//<Button onClick={onPresentAccountModal} size=\"sm\" text=\"My Wallet\" />\r\n  return (\r\n    <StyledI18nButton>\r\n      <Button onClick={()=> {change('en')}} size=\"sm\" text='EN' disabled={(lang === 'en') ? true : false} />\r\n      <Button onClick={()=> {change('zh-CN')}} size=\"sm\" text='中' disabled={(lang === 'zh-CN') ? true : false} />\r\n    </StyledI18nButton>\r\n\r\n  )\r\n}\r\n\r\nconst StyledI18nButton = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: #aa9584;\r\n  width: 20%;\r\n  line-height: 32px;\r\n  font-size: 10px;\r\n  text-align: center;\r\n`\r\n\r\nexport default AccountButton\r\n","import React from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { useI18n  } from 'use-i18n';\r\n\r\nconst Nav: React.FC = () => {\r\n  const t = useI18n()\r\n  return (\r\n    <StyledNav>\r\n      <StyledLink exact activeClassName=\"active\" to=\"/\">\r\n        {t.home}\r\n      </StyledLink>\r\n      <StyledLink exact activeClassName=\"active\" to=\"/farms\">\r\n        {t.canteen}\r\n      </StyledLink>\r\n      <StyledLink exact activeClassName=\"active\" to=\"/auction\">\r\n        {t.auction}\r\n      </StyledLink>\r\n      <StyledAbsoluteLink\r\n        href=\"https://resetDAO.com\"\r\n        target=\"_blank\"\r\n      >\r\n        {t.about}\r\n      </StyledAbsoluteLink>\r\n    </StyledNav>\r\n  )\r\n}\r\n\r\nconst StyledNav = styled.nav`\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst StyledLink = styled(NavLink)`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  font-weight: 700;\r\n  padding-left: ${(props) => props.theme.spacing[3]}px;\r\n  padding-right: ${(props) => props.theme.spacing[3]}px;\r\n  text-decoration: none;\r\n  &:hover {\r\n    color: ${(props) => props.theme.color.grey[500]};\r\n  }\r\n  &.active {\r\n    color: ${(props) => props.theme.color.primary.main};\r\n  }\r\n  @media (max-width: 400px) {\r\n    padding-left: ${(props) => props.theme.spacing[2]}px;\r\n    padding-right: ${(props) => props.theme.spacing[2]}px;\r\n  }\r\n`\r\n\r\nconst StyledAbsoluteLink = styled.a`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  font-weight: 700;\r\n  padding-left: ${(props) => props.theme.spacing[3]}px;\r\n  padding-right: ${(props) => props.theme.spacing[3]}px;\r\n  text-decoration: none;\r\n  &:hover {\r\n    color: ${(props) => props.theme.color.grey[500]};\r\n  }\r\n  &.active {\r\n    color: ${(props) => props.theme.color.primary.main};\r\n  }\r\n  @media (max-width: 400px) {\r\n    padding-left: ${(props) => props.theme.spacing[2]}px;\r\n    padding-right: ${(props) => props.theme.spacing[2]}px;\r\n  }\r\n`\r\n\r\nexport default Nav\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Container from '../Container'\r\nimport Logo from '../Logo'\r\n\r\nimport AccountButton from './components/AccountButton'\r\nimport I18nButton from './components/I18nButton'\r\nimport Nav from './components/Nav'\r\n\r\ninterface TopBarProps {\r\n  onPresentMobileMenu: () => void\r\n}\r\n\r\nconst TopBar: React.FC<TopBarProps> = ({ onPresentMobileMenu }) => {\r\n  return (\r\n    <StyledTopBar>\r\n      <Container size=\"lg\">\r\n        <StyledTopBarInner>\r\n          <StyledLogoWrapper>\r\n            <Logo />\r\n          </StyledLogoWrapper>\r\n          <Nav />\r\n          <StyledAccountButtonWrapper>\r\n            <AccountButton />\r\n          </StyledAccountButtonWrapper>\r\n          <StyledI18nButtonWrapper>\r\n            <I18nButton />\r\n          </StyledI18nButtonWrapper>\r\n        </StyledTopBarInner>\r\n      </Container>\r\n    </StyledTopBar>\r\n  )\r\n}\r\n\r\nconst StyledI18nButtonWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  width: 156px;\r\n  @media (max-width: 400px) {\r\n    justify-content: center;\r\n    width: auto;\r\n  }\r\n`\r\n\r\nconst StyledLogoWrapper = styled.div`\r\n  width: 260px;\r\n  @media (max-width: 400px) {\r\n    width: auto;\r\n  }\r\n`\r\n\r\nconst StyledTopBar = styled.div``\r\n\r\nconst StyledTopBarInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  height: ${(props) => props.theme.topBarSize}px;\r\n  justify-content: space-between;\r\n  max-width: ${(props) => props.theme.siteWidth}px;\r\n  width: 100%;\r\n`\r\nconst StyledNavWrapper = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n  @media (max-width: 400px) {\r\n    display: none;\r\n  }\r\n`\r\n\r\nconst StyledAccountButtonWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: flex-end;\r\n  width: 156px;\r\n  @media (max-width: 400px) {\r\n    justify-content: center;\r\n    width: auto;\r\n  }\r\n`\r\n\r\nconst StyledMenuButton = styled.button`\r\n  background: none;\r\n  border: 0;\r\n  margin: 0;\r\n  outline: 0;\r\n  padding: 0;\r\n  display: none;\r\n  @media (max-width: 400px) {\r\n    align-items: center;\r\n    display: flex;\r\n    height: 44px;\r\n    justify-content: center;\r\n    width: 44px;\r\n  }\r\n`\r\n\r\nexport default TopBar\r\n","import { createContext } from 'react'\r\nimport { FarmsContext } from './types'\r\n\r\nconst context = createContext<FarmsContext>({\r\n  farms: [],\r\n  unharvested: 0,\r\n})\r\n\r\nexport default context\r\n","import React, { useCallback, useEffect, useState } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\nimport useBento from '../../bento_hooks/useBento'\r\n\r\nimport { bnToDec } from '../../utils'\r\nimport { getMasterChefContract, getEarned } from '../../sushi/utils'\r\nimport { getGovs } from '../../bento/utils'\r\n\r\nimport Context from './context'\r\nimport { Farm } from './types'\r\n\r\nconst Farms: React.FC = ({ children }) => {\r\n  const [unharvested, setUnharvested] = useState(0)\r\n\r\n  const bento = useBento()\r\n  const { account } = useWallet()\r\n\r\n  const farms = getGovs(bento)\r\n  // const util = require('util')\r\n  // console.log(`farms ${util.inspect(farms)}`)\r\n\r\n  return (\r\n    <Context.Provider\r\n      value={{\r\n        farms,\r\n        unharvested,\r\n      }}\r\n    >\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default Farms\r\n","import { createContext } from 'react'\r\nimport { Transaction, TransactionsMap } from './types'\r\n\r\ninterface TransactionsContext {\r\n  transactions: TransactionsMap\r\n  onAddTransaction: (tx: Transaction) => void\r\n}\r\n\r\nexport default createContext<TransactionsContext>({\r\n  transactions: {},\r\n  onAddTransaction: (tx: Transaction) => {},\r\n})\r\n","import { TransactionReceipt } from 'web3-core'\r\nimport { Transaction, TransactionsMap } from './types'\r\n\r\nconst ADD_TRANSACTION = 'ADD_TRANSACTION'\r\nconst RECEIVE_TX_RECEIPT = 'RECEIVE_TX_RECEIPT'\r\nconst SET_TRANSACTIONS = 'SET_TRANSACTIONS'\r\n\r\ninterface AddTransactionAction {\r\n  type: typeof ADD_TRANSACTION,\r\n  transaction: Transaction\r\n}\r\n\r\ninterface ReceiveTxReceiptAction {\r\n  type: typeof RECEIVE_TX_RECEIPT,\r\n  txHash: string,\r\n  receipt: TransactionReceipt\r\n}\r\n\r\ninterface SetTransactionsAction {\r\n  type: typeof SET_TRANSACTIONS,\r\n  transactions: TransactionsMap\r\n}\r\n\r\ntype TransactionsActions = AddTransactionAction | ReceiveTxReceiptAction | SetTransactionsAction\r\n\r\nexport interface TransactionsState {\r\n  initialized: boolean,\r\n  transactions: TransactionsMap\r\n}\r\n\r\nexport const addTransaction = (transaction: Transaction): AddTransactionAction => ({\r\n  type: ADD_TRANSACTION,\r\n  transaction,\r\n})\r\n\r\nexport const receiveTxReceipt = (txHash: string, receipt: TransactionReceipt): ReceiveTxReceiptAction => ({\r\n  type: RECEIVE_TX_RECEIPT,\r\n  txHash,\r\n  receipt,\r\n})\r\n\r\nexport const setTransactions = (transactions: TransactionsMap): SetTransactionsAction => ({\r\n  type: SET_TRANSACTIONS,\r\n  transactions,\r\n})\r\n\r\nexport const initialState: TransactionsState = {\r\n  initialized: false,\r\n  transactions: {}\r\n}\r\n\r\nconst reducer = (state: TransactionsState, action: TransactionsActions): TransactionsState => {\r\n  switch (action.type) {\r\n    case ADD_TRANSACTION:\r\n      return {\r\n        ...state,\r\n        transactions: {\r\n          ...state.transactions,\r\n          [action.transaction.hash]: action.transaction,\r\n        }\r\n      }\r\n    case RECEIVE_TX_RECEIPT:\r\n      return {\r\n        ...state,\r\n        transactions: {\r\n          ...state.transactions,\r\n          [action.txHash]: {\r\n            ...state.transactions[action.txHash],\r\n            receipt: action.receipt,\r\n          }\r\n        }\r\n      }\r\n    case SET_TRANSACTIONS:\r\n      return {\r\n        ...state,\r\n        transactions: action.transactions,\r\n        initialized: true,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default reducer","import React, { useCallback, useEffect, useReducer } from 'react'\r\n\r\nimport Context from './context'\r\nimport reducer, {\r\n  initialState,\r\n  setTransactions,\r\n  addTransaction,\r\n} from './reducer'\r\nimport { Transaction, TransactionsMap } from './types'\r\n\r\nconst TransactionsProvider: React.FC = ({ children }) => {\r\n  const [{ initialized, transactions }, dispatch] = useReducer(reducer, initialState)\r\n\r\n  const handleAddTransaction = useCallback((tx: Transaction) => {\r\n    dispatch(addTransaction(tx))\r\n  }, [dispatch])\r\n\r\n  const fetchTransactions = useCallback(async () => {\r\n    try {\r\n      const txsRaw = localStorage.getItem('transactions')\r\n      const txs = JSON.parse(txsRaw) as TransactionsMap || {}\r\n      dispatch(setTransactions(txs))\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }, [dispatch])\r\n\r\n  useEffect(() => {\r\n    if (initialized) {\r\n      localStorage.setItem('transactions', JSON.stringify(transactions))\r\n    }\r\n  }, [initialized, transactions])\r\n\r\n  useEffect(() => {\r\n    fetchTransactions()\r\n  }, [fetchTransactions])\r\n\r\n  return (\r\n    <Context.Provider value={{\r\n      transactions,\r\n      onAddTransaction: handleAddTransaction,\r\n    }}>\r\n      {children}\r\n    </Context.Provider>\r\n  )\r\n}\r\n\r\nexport default TransactionsProvider","import { black, green, grey, red, white } from './colors'\r\n\r\nconst theme = {\r\n  borderRadius: 12,\r\n  breakpoints: {\r\n    mobile: 400,\r\n  },\r\n  color: {\r\n    black,\r\n    grey,\r\n    primary: {\r\n      light: red[200],\r\n      main: red[500],\r\n    },\r\n    secondary: {\r\n      main: green[500],\r\n    },\r\n    white,\r\n  },\r\n  siteWidth: 1200,\r\n  spacing: {\r\n    1: 4,\r\n    2: 8,\r\n    3: 16,\r\n    4: 24,\r\n    5: 32,\r\n    6: 48,\r\n    7: 64,\r\n  },\r\n  topBarSize: 72\r\n}\r\n\r\nexport default theme","export const white = '#FFF'\r\nexport const black = '#000'\r\n\r\nexport const green = {\r\n  500: '##00d1810',\r\n}\r\n\r\nexport const red = {\r\n  100: '#FFFDFE',\r\n  200: '#ffc2a8',\r\n  500: '#d16c00',\r\n}\r\n\r\nexport const grey = {\r\n  100: '#f7f4f2',\r\n  200: '#f0e9e7',\r\n  300: '#e2d6cf',\r\n  400: '#aa9585',\r\n  500: '#805e49',\r\n  600: '#5b3926',\r\n  800: '#2d1e12',\r\n}\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Nav: React.FC = () => {\r\n  return (\r\n    <StyledNav>\r\n      <StyledLink\r\n        target=\"_blank\"\r\n        href=\"https://etherscan.io/address/0xc2edad668740f1aa35e4d8f227fb8e17dca888cd#code\"\r\n      >\r\n        BentoMiner Contract\r\n      </StyledLink>\r\n      <StyledLink\r\n        target=\"_blank\"\r\n        href=\"https://uniswap.info/pair/0xce84867c3c02b05dc570d0135103d3fb9cc19433\"\r\n      >\r\n        Uniswap BENTO-ETH\r\n      </StyledLink>\r\n      <StyledLink target=\"_blank\" href=\"https://discord.gg/REjDWW\">\r\n        Discord\r\n      </StyledLink>\r\n      <StyledLink target=\"_blank\" href=\"https://github.com/sushiswap\">\r\n        Github\r\n      </StyledLink>\r\n      <StyledLink target=\"_blank\" href=\"https://twitter.com/dao_reset\">\r\n        Twitter\r\n      </StyledLink>\r\n    </StyledNav>\r\n  )\r\n}\r\n\r\nconst StyledNav = styled.nav`\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst StyledLink = styled.a`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  padding-left: ${(props) => props.theme.spacing[3]}px;\r\n  padding-right: ${(props) => props.theme.spacing[3]}px;\r\n  text-decoration: none;\r\n  &:hover {\r\n    color: ${(props) => props.theme.color.grey[500]};\r\n  }\r\n`\r\n\r\nexport default Nav\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Nav from './components/Nav'\r\n\r\nconst Footer: React.FC = () => (\r\n  <StyledFooter>\r\n    <StyledFooterInner>\r\n      <Nav />\r\n    </StyledFooterInner>\r\n  </StyledFooter>\r\n)\r\n\r\nconst StyledFooter = styled.footer`\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n`\r\nconst StyledFooterInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  height: ${props => props.theme.topBarSize}px;\r\n  max-width: ${props => props.theme.siteWidth}px;\r\n  width: 100%;\r\n`\r\n\r\nexport default Footer","import React from 'react'\r\nimport styled from 'styled-components'\r\nimport Footer from '../Footer'\r\n\r\nconst Page: React.FC = ({ children }) => (\r\n  <StyledPage>\r\n    <StyledMain>{children}</StyledMain>\r\n    <Footer />\r\n  </StyledPage>\r\n)\r\n\r\nconst StyledPage = styled.div``\r\n\r\nconst StyledMain = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: calc(100vh - ${(props) => props.theme.topBarSize * 2}px);\r\n`\r\n\r\nexport default Page\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Container from '../Container'\r\n\r\ninterface PageHeaderProps {\r\n  icon: React.ReactNode\r\n  subtitle?: string\r\n  title?: string\r\n  content?: string\r\n}\r\n\r\nconst PageHeader: React.FC<PageHeaderProps> = ({ icon, subtitle, title, content }) => {\r\n  return (\r\n    <Container size=\"sm\">\r\n      <StyledPageHeader>\r\n        <StyledIcon>{icon}</StyledIcon>\r\n        <StyledTitle>{title}</StyledTitle>\r\n        <StyledSubtitle>{subtitle}</StyledSubtitle>\r\n        <StyledSubtitle>{content}</StyledSubtitle>\r\n      </StyledPageHeader>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst StyledPageHeader = styled.div`\r\n  align-items: center;\r\n  box-sizing: border-box;\r\n  display: flex;\r\n  flex-direction: column;\r\n  padding-bottom: ${(props) => props.theme.spacing[6]}px;\r\n  padding-top: ${(props) => props.theme.spacing[6]}px;\r\n  margin: 0 auto;\r\n`\r\n\r\nconst StyledIcon = styled.div`\r\n  font-size: 120px;\r\n  height: 120px;\r\n  line-height: 120px;\r\n  text-align: center;\r\n  width: 120px;\r\n`\r\n\r\nconst StyledTitle = styled.h1`\r\n  font-family: 'Kaushan Script', sans-serif;\r\n  color: ${(props) => props.theme.color.grey[600]};\r\n  font-size: 36px;\r\n  font-weight: 700;\r\n  margin: 0;\r\n  padding: 0;\r\n`\r\n\r\nconst StyledSubtitle = styled.h3`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  font-size: 18px;\r\n  font-weight: 400;\r\n  margin: 0;\r\n  padding: 0;\r\n  text-align: center;\r\n`\r\n\r\nexport default PageHeader\r\n","import { createContext } from 'react'\r\nimport { FarmsContext } from './types'\r\n\r\nconst context = createContext<FarmsContext>({\r\n  farms: [],\r\n  unharvested: 0,\r\n})\r\n\r\nexport default context\r\n","import BigNumber from 'bignumber.js/bignumber'\r\n\r\nexport const SUBTRACT_GAS_LIMIT = 100000\r\n\r\nconst ONE_MINUTE_IN_SECONDS = new BigNumber(60)\r\nconst ONE_HOUR_IN_SECONDS = ONE_MINUTE_IN_SECONDS.times(60)\r\nconst ONE_DAY_IN_SECONDS = ONE_HOUR_IN_SECONDS.times(24)\r\nconst ONE_YEAR_IN_SECONDS = ONE_DAY_IN_SECONDS.times(365)\r\n\r\nexport const INTEGERS = {\r\n  ONE_MINUTE_IN_SECONDS,\r\n  ONE_HOUR_IN_SECONDS,\r\n  ONE_DAY_IN_SECONDS,\r\n  ONE_YEAR_IN_SECONDS,\r\n  ZERO: new BigNumber(0),\r\n  ONE: new BigNumber(1),\r\n  ONES_31: new BigNumber('4294967295'), // 2**32-1\r\n  ONES_127: new BigNumber('340282366920938463463374607431768211455'), // 2**128-1\r\n  ONES_255: new BigNumber(\r\n    '115792089237316195423570985008687907853269984665640564039457584007913129639935',\r\n  ), // 2**256-1\r\n  INTEREST_RATE_BASE: new BigNumber('1e18'),\r\n}\r\n\r\nexport const addressMap = {\r\n  uniswapFactory: '0xc0a47dFe034B400B47bDaD5FecDa2621de6c4d95',\r\n  uniswapFactoryV2: '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f',\r\n  YFI: '0x0bc529c00C6401aEF6D220BE8C6Ea1667F6Ad93e',\r\n  YCRV: '0xdF5e0e81Dff6FAF3A7e52BA697820c5e32D806A8',\r\n  UNIAmpl: '0xc5be99a02c6857f9eac67bbce58df5572498f40c',\r\n  WETH: '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2',\r\n  UNIRouter: '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D',\r\n  LINK: '0x514910771AF9Ca656af840dff83E8264EcF986CA',\r\n  MKR: '0x9f8f72aa9304c8b593d555f12ef6589cc3a579a2',\r\n  SNX: '0xC011a73ee8576Fb46F5E1c5751cA3B9Fe0af2a6F',\r\n  COMP: '0xc00e94Cb662C3520282E6f5717214004A7f26888',\r\n  LEND: '0x80fB784B7eD66730e8b1DBd9820aFD29931aab03',\r\n  SUSHIYCRV: '0x2C7a51A357d5739C5C74Bf3C96816849d2c9F726',\r\n}\r\n\r\nexport const contractAddresses = {\r\n  sushi: {\r\n    1: '0x6b3595068778dd592e39a122f4f5a5cf09c90fe2',\r\n    42: '0xb4a94DA855Da0B1174Bf10E9900D7001332C01Dd'\r\n  },\r\n  masterChef: {\r\n    1: '0xc2edad668740f1aa35e4d8f227fb8e17dca888cd',\r\n    42: '0xBCcA45FA41c7eF29cB7B7e6d8b129FA5Eeaf6432'\r\n  },\r\n  weth: {\r\n    1: '0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2',\r\n  },\r\n  bento: {\r\n    1: '0x6b3595068778dd592e39a122f4f5a5cf09c90fe2',\r\n    42: '0xb4a94DA855Da0B1174Bf10E9900D7001332C01Dd',\r\n  },\r\n  bentoMiner: {\r\n    1: '0xc2edad668740f1aa35e4d8f227fb8e17dca888cd',\r\n    42: '0xBCcA45FA41c7eF29cB7B7e6d8b129FA5Eeaf6432'\r\n  },\r\n}\r\n\r\n/*\r\nUNI-V2 LP Address on mainnet for reference\r\n==========================================\r\n0  USDT 0x0d4a11d5eeaac28ec3f61d100daf4d40471f1852\r\n1  USDC 0xb4e16d0168e52d35cacd2c6185b44281ec28c9dc\r\n2  DAI  0xa478c2975ab1ea89e8196811f51a7b7ade33eb11\r\n3  sUSD 0xf80758ab42c3b07da84053fd88804bcb6baa4b5c\r\n4  COMP 0xcffdded873554f362ac02f8fb1f02e5ada10516f\r\n5  LEND 0xab3f9bf1d81ddb224a2014e98b238638824bcf20\r\n6  SNX  0x43ae24960e5534731fc831386c07755a2dc33d47\r\n7  UMA  0x88d97d199b9ed37c29d846d00d443de980832a22\r\n8  LINK 0xa2107fa5b38d9bbd2c461d6edf11b11a50f6b974\r\n9  BAND 0xf421c3f2e695c2d4c0765379ccace8ade4a480d9\r\n10 AMPL 0xc5be99a02c6857f9eac67bbce58df5572498f40c\r\n11 YFI  0x2fdbadf3c4d5a8666bc06645b8358ab803996e28\r\n12 SUSHI 0xce84867c3c02b05dc570d0135103d3fb9cc19433\r\n*/\r\n\r\nexport const supportedPools = [\r\n  {\r\n    pid: 12,\r\n    lpAddresses: {\r\n      1: '0xce84867c3c02b05dc570d0135103d3fb9cc19433',\r\n    },\r\n    tokenAddresses: {\r\n      1: '0x6b3595068778dd592e39a122f4f5a5cf09c90fe2',\r\n    },\r\n    name: 'COMP',\r\n    symbol: 'COMP',\r\n    tokenSymbol: 'BENTO',\r\n    icon: '🍣',\r\n  },\r\n  {\r\n    pid: 1,\r\n    lpAddresses: {\r\n      1: '0xb4e16d0168e52d35cacd2c6185b44281ec28c9dc',\r\n    },\r\n    tokenAddresses: {\r\n      1: '0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48',\r\n    },\r\n    name: 'UNI',\r\n    symbol: 'UNI',\r\n    tokenSymbol: 'BENTO',\r\n    icon: '🐌',\r\n  },\r\n]\r\n","import BigNumber from 'bignumber.js/bignumber'\r\nimport Web3 from 'web3'\r\n\r\nBigNumber.config({\r\n  EXPONENTIAL_AT: 1000,\r\n  DECIMAL_PLACES: 80,\r\n})\r\n\r\nexport { Sushi } from './Sushi.js'\r\nexport { Web3, BigNumber }\r\n","import React, { createContext, useEffect, useState } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { Sushi } from '../../sushi'\r\n\r\nexport interface SushiContext {\r\n  sushi?: typeof Sushi\r\n}\r\n\r\nexport const Context = createContext<SushiContext>({\r\n  sushi: undefined,\r\n})\r\n\r\ndeclare global {\r\n  interface Window {\r\n    sushisauce: any\r\n  }\r\n}\r\n\r\nconst SushiProvider: React.FC = ({ children }) => {\r\n  const { ethereum }: { ethereum: any } = useWallet()\r\n  const [sushi, setSushi] = useState<any>()\r\n\r\n  // @ts-ignore\r\n  window.sushi = sushi\r\n  // @ts-ignore\r\n  window.eth = ethereum\r\n\r\n  useEffect(() => {\r\n    if (ethereum) {\r\n      const chainId = Number(ethereum.chainId)\r\n      const sushiLib = new Sushi(ethereum, chainId, false, {\r\n        defaultAccount: ethereum.selectedAddress,\r\n        defaultConfirmations: 1,\r\n        autoGasMultiplier: 1.5,\r\n        testing: false,\r\n        defaultGas: '6000000',\r\n        defaultGasPrice: '1000000000000',\r\n        accounts: [],\r\n        ethereumNodeTimeout: 10000,\r\n      })\r\n      setSushi(sushiLib)\r\n      window.sushisauce = sushiLib\r\n    }\r\n  }, [ethereum])\r\n\r\n  return <Context.Provider value={{ sushi }}>{children}</Context.Provider>\r\n}\r\n\r\nexport default SushiProvider\r\n","import { useContext } from 'react'\r\nimport { Context } from '../contexts/SushiProvider'\r\n\r\nconst useSushi = () => {\r\n  const { sushi } = useContext(Context)\r\n  return sushi\r\n}\r\n\r\nexport default useSushi\r\n","import BigNumber from 'bignumber.js'\r\nimport { ethers } from 'ethers'\r\nimport { contractAddresses } from './lib/constants'\r\n\r\nBigNumber.config({\r\n  EXPONENTIAL_AT: 1000,\r\n  DECIMAL_PLACES: 80,\r\n})\r\n\r\nconst GAS_LIMIT = {\r\n  STAKING: {\r\n    DEFAULT: 200000,\r\n    SNX: 850000,\r\n  },\r\n}\r\n\r\nexport const getMasterChefAddress = (sushi) => {\r\n  console.log('getMasterChefAddress sushi:', sushi)\r\n  return sushi && sushi.masterChefAddress\r\n}\r\nexport const getSushiAddress = (sushi) => {\r\n  return sushi && sushi.sushiAddress\r\n}\r\nexport const getWethContract = (sushi) => {\r\n  return sushi && sushi.contracts && sushi.contracts.weth\r\n}\r\n\r\nexport const getMasterChefContract = (sushi) => {\r\n  return sushi && sushi.contracts && sushi.contracts.masterChef\r\n}\r\nexport const getSushiContract = (sushi) => {\r\n  return sushi && sushi.contracts && sushi.contracts.sushi\r\n}\r\n\r\nexport const getFarms = (sushi) => {\r\n  return sushi\r\n    ? sushi.contracts.pools.map(\r\n      ({\r\n        pid,\r\n        name,\r\n        symbol,\r\n        icon,\r\n        tokenAddress,\r\n        tokenSymbol,\r\n        tokenContract,\r\n        lpAddress,\r\n        lpContract,\r\n      }) => ({\r\n        pid,\r\n        id: symbol,\r\n        name,\r\n        lpToken: symbol,\r\n        lpTokenAddress: lpAddress,\r\n        lpContract,\r\n        tokenAddress,\r\n        tokenSymbol,\r\n        tokenContract,\r\n        earnToken: 'sushi',\r\n        earnTokenAddress: sushi.contracts.sushi.options.address,\r\n        icon,\r\n      }),\r\n    )\r\n    : []\r\n}\r\n\r\nexport const getPoolWeight = async (masterChefContract, pid) => {\r\n  const { allocPoint } = await masterChefContract.methods.poolInfo(pid).call()\r\n  const totalAllocPoint = await masterChefContract.methods\r\n    .totalAllocPoint()\r\n    .call()\r\n  return new BigNumber(allocPoint).div(new BigNumber(totalAllocPoint))\r\n}\r\n\r\nexport const getEarned = async (masterChefContract, pid, account) => {\r\n  return masterChefContract.methods.pendingSushi(pid, account).call()\r\n}\r\n\r\nexport const getTotalLPWethValue = async (\r\n  masterChefContract,\r\n  wethContract,\r\n  lpContract,\r\n  tokenContract,\r\n  pid,\r\n) => {\r\n  // Get balance of the token address\r\n  const tokenAmountWholeLP = await tokenContract.methods\r\n    .balanceOf(lpContract.options.address)\r\n    .call()\r\n  const tokenDecimals = await tokenContract.methods.decimals().call()\r\n  // Get the share of lpContract that masterChefContract owns\r\n  const balance = await lpContract.methods\r\n    .balanceOf(masterChefContract.options.address)\r\n    .call()\r\n  // Convert that into the portion of total lpContract = p1\r\n  const totalSupply = await lpContract.methods.totalSupply().call()\r\n  // Get total weth value for the lpContract = w1\r\n  const lpContractWeth = await wethContract.methods\r\n    .balanceOf(lpContract.options.address)\r\n    .call()\r\n  // Return p1 * w1 * 2\r\n  const portionLp = new BigNumber(balance).div(new BigNumber(totalSupply))\r\n  const lpWethWorth = new BigNumber(lpContractWeth)\r\n  const totalLpWethValue = portionLp.times(lpWethWorth).times(new BigNumber(2))\r\n  // Calculate\r\n  const tokenAmount = new BigNumber(tokenAmountWholeLP)\r\n    .times(portionLp)\r\n    .div(new BigNumber(10).pow(tokenDecimals))\r\n\r\n  const wethAmount = new BigNumber(lpContractWeth)\r\n    .times(portionLp)\r\n    .div(new BigNumber(10).pow(18))\r\n  return {\r\n    tokenAmount,\r\n    wethAmount,\r\n    totalWethValue: totalLpWethValue.div(new BigNumber(10).pow(18)),\r\n    tokenPriceInWeth: wethAmount.div(tokenAmount),\r\n    poolWeight: await getPoolWeight(masterChefContract, pid),\r\n  }\r\n}\r\n\r\nexport const approve = async (lpContract, masterChefContract, account) => {\r\n  return lpContract.methods\r\n    .approve(masterChefContract.options.address, ethers.constants.MaxUint256)\r\n    .send({ from: account })\r\n}\r\n\r\nexport const getSushiSupply = async (sushi) => {\r\n  return new BigNumber(await sushi.contracts.sushi.methods.totalSupply().call())\r\n}\r\n\r\nexport const stake = async (masterChefContract, pid, amount, account) => {\r\n  return masterChefContract.methods\r\n    .deposit(\r\n      pid,\r\n      new BigNumber(amount).times(new BigNumber(10).pow(18)).toString(),\r\n    )\r\n    .send({ from: account })\r\n    .on('transactionHash', (tx) => {\r\n      console.log(tx)\r\n      return tx.transactionHash\r\n    })\r\n}\r\n\r\nexport const unstake = async (masterChefContract, pid, amount, account) => {\r\n  return masterChefContract.methods\r\n    .withdraw(\r\n      pid,\r\n      new BigNumber(amount).times(new BigNumber(10).pow(18)).toString(),\r\n    )\r\n    .send({ from: account })\r\n    .on('transactionHash', (tx) => {\r\n      console.log(tx)\r\n      return tx.transactionHash\r\n    })\r\n}\r\nexport const harvest = async (masterChefContract, pid, account) => {\r\n  return masterChefContract.methods\r\n    .deposit(pid, '0')\r\n    .send({ from: account })\r\n    .on('transactionHash', (tx) => {\r\n      console.log(tx)\r\n      return tx.transactionHash\r\n    })\r\n}\r\n\r\nexport const getStaked = async (masterChefContract, pid, account) => {\r\n  try {\r\n    const { amount } = await masterChefContract.methods\r\n      .userInfo(pid, account)\r\n      .call()\r\n    return new BigNumber(amount)\r\n  } catch {\r\n    return new BigNumber(0)\r\n  }\r\n}\r\n\r\nexport const redeem = async (masterChefContract, account) => {\r\n  let now = new Date().getTime() / 1000\r\n  if (now >= 1597172400) {\r\n    return masterChefContract.methods\r\n      .exit()\r\n      .send({ from: account })\r\n      .on('transactionHash', (tx) => {\r\n        console.log(tx)\r\n        return tx.transactionHash\r\n      })\r\n  } else {\r\n    alert('pool not active')\r\n  }\r\n}\r\n\r\n\r\n// =========================bento Web3方法 ==================\r\n/**\r\n * \r\n * @param {bentoABI} bentoken \r\n */\r\nexport const getBentoTotalSupply = async (bentoken) => {\r\n  bentoken.methods.totalSupply().call().then((rst) => {\r\n    try {\r\n      return new BigNumber(rst)\r\n    } catch {\r\n      return new BigNumber(0)\r\n    }\r\n  })\r\n}\r\n\r\n/**\r\n * \r\n * @param {bentoMinerABI} BentoMiner \r\n */\r\nexport const getGovTotalSupply = async (bentoMiner) => {\r\n  let govTotalLocked, govTotalLockedF\r\n  await bentoMiner.methods.totalLPTokensLocked().call().then((rst) => {\r\n\r\n    govTotalLocked = new BigNumber(rst).div(10).pow(18)\r\n    try {\r\n      govTotalLockedF = new BigNumber(rst)\r\n\r\n    } catch{\r\n      govTotalLockedF = new BigNumber(0)\r\n    }\r\n\r\n  })\r\n  return { govTotalLockedF, govTotalLocked }\r\n}\r\n\r\n/**\r\n * \r\n * @param {bentoABI} bentoken \r\n * @param {network id} chainId \r\n */\r\nexport const getWeigthInfo = async (bentoken, chainId) => {\r\n  let totalPoolWeight, poolWeight\r\n  await bentoken.methods.getUnionWeight(contractAddresses.bentoMiner[chainId]).call().then((rst) => {\r\n    totalPoolWeight = rst[1]\r\n    poolWeight = rst[0]\r\n  })\r\n  return { totalPoolWeight, poolWeight }\r\n}\r\n\r\n/**\r\n * \r\n * @param {bentoABI} bentoken \r\n * @param {current account} account \r\n */\r\nexport const getMyBentoBalance = async (bentoken, account) => {\r\n  let bento_balance\r\n  bentoken.methods.balanceOf(account).call().then((rst) => {\r\n    try {\r\n      bento_balance = new BigNumber(rst)\r\n    } catch{\r\n      bento_balance = new BigNumber(0)\r\n    }\r\n  })\r\n  return bento_balance\r\n}\r\n\r\n//食堂 - 获取便当info\r\nexport const getMyUnclaimBento = async (bentoMiner, account) => {\r\n  let bento_unclaim\r\n  bentoMiner.methods.unClaimedOf(account).call().then((rst) => {\r\n    try {\r\n      bento_unclaim = new BigNumber(rst)\r\n    } catch{\r\n      bento_unclaim = new BigNumber(0)\r\n    }\r\n  })\r\n\r\n  return bento_unclaim\r\n}\r\n\r\n// 食堂 - 银行中的bento数量 (未添加)\r\nexport const getMyBentoInBank = async (miner, account) => {\r\n  let bento_inBank\r\n  miner.methods.bentosInBankOf(account).call().then((rst) => {\r\n    try {\r\n      bento_inBank = new BigNumber(rst)\r\n    } catch{\r\n      bento_inBank = new BigNumber(0)\r\n    }\r\n  })\r\n  return bento_inBank\r\n}\r\n\r\n//食堂 - 正在挖矿\r\nexport const getGovBalance = async (govtoken, account) => {\r\n  let gov_balance\r\n  govtoken.methods.balanceOf(account).call().then((rst) => {\r\n    try {\r\n      gov_balance = new BigNumber(rst)\r\n    } catch{\r\n      gov_balance = new BigNumber(0)\r\n    }\r\n  })\r\n  return gov_balance\r\n}\r\n\r\nexport const getGovLockedAmount = async (bentoMiner, account) => {\r\n  let gov_locked, gov_lockedF\r\n  bentoMiner.methods.lpTokensInBankOf(account).call().then((rst) => {\r\n    gov_locked = rst / 10 ** 18\r\n    try {\r\n      gov_lockedF = new BigNumber(rst)\r\n    } catch{\r\n      gov_lockedF = new BigNumber(0)\r\n    }\r\n  })\r\n  return { gov_locked, gov_lockedF }\r\n}\r\n\r\n/**\r\n * \r\n * @param {*} gov_locked \r\n * @param {*} govTotalLocked \r\n * @param {*} poolWeight \r\n * @param {*} totalPoolWeight \r\n */\r\nexport const getBentoMiningSpeed = (gov_locked, govTotalLocked, poolWeight, totalPoolWeight) => {\r\n  //首先获取个人LP数量，获取总LP数量，获取当前池子权重比\r\n  // BentoMiner.methods.totalLPTokensLocked().call().then(rst)\r\n\r\n  const bento_miningSpeed = ((gov_locked / govTotalLocked) * (poolWeight / totalPoolWeight)) * 64\r\n  console.log(gov_locked, govTotalLocked, poolWeight, totalPoolWeight)\r\n  return bento_miningSpeed\r\n}\r\n\r\n/**\r\n * \r\n * @param {*} gov_locked \r\n * @param {*} govTotalLocked \r\n */\r\nexport const getMyMiningPercentage = (gov_locked, govTotalLocked) => {\r\n  const gov_percentage = (gov_locked * 100 / govTotalLocked)\r\n  return gov_percentage\r\n}\r\n\r\n// 食堂 - (未添加) 声明便当按钮\r\nexport const claimBento = async (bentoMiner, account) => {\r\n  await bentoMiner.methods.claim().send({ from: account }).then(() => {\r\n    this.getMyUnclaimBento(bentoMiner, account)\r\n    this.getMyBentoInBank(bentoMiner, account)\r\n  })\r\n}\r\n\r\n/**\r\n * 食堂 - 领取 按钮\r\n * @param {*} bentoken \r\n * @param {*} bentoMiner \r\n * @param {*} account \r\n * @param {ether} v_Bentos_withdraw \r\n */\r\nexport const withdrawBento = async (bentoken, bentoMiner, account, v_Bentos_withdraw) => {\r\n  bentoMiner.methods.withdrawBentos(v_Bentos_withdraw).send({ from: account }).then(() => {\r\n    this.getMyUnclaimBento(bentoMiner, account)\r\n    this.getMyBentoInBank(bentoMiner, account)\r\n    this.getMyBentoBalance(bentoken, account)\r\n  })\r\n}\r\n\r\n/**\r\n * \r\n * @param {*} govtoken \r\n * @param {*} account \r\n * @param {*} amount \r\n */\r\nexport const approveGovToken = async (govtoken, account, amount) => {\r\n  govtoken.methods.approve(contractAddresses.bentoMiner, new BigNumber(amount)).send({ from: account }).then((rst) => {\r\n    console.log('Approved receipt:', rst);\r\n  })\r\n}\r\n\r\n// export const depositGovTokenToMine= async() => {\r\n//   // web3.toWei(this.v_Naps, \"ether\")\r\n//   if (this.v_Govs_deposit < 10) {\r\n//       alert('Amount at least than 10.');\r\n//       return;\r\n//   }\r\n//   BentoMiner.methods.deposit(web3.toWei(this.v_Govs_deposit, \"ether\")).send({ from: web3.eth.defaultAccount }).then((rst) => {\r\n//       console.log('Deposit Gov receipt:', rst);\r\n//       this.refreshAll();\r\n//       this.delyRefresh();\r\n//       try {\r\n//         gov_lockedF = new BigNumber(rst)\r\n//       } catch{\r\n//         gov_lockedF = new BigNumber(0)\r\n//       }\r\n//     })\r\n//     return {gov_locked, gov_lockedF}\r\n// }\r\n/**\r\n * 食堂 - 取回治理代币按钮\r\n * \r\n * web3.toWei(this.v_Govs_withdraw, \"ether\")\r\n * \r\n */\r\nexport const withdrawGovToken = async (bentoMiner) => {\r\n  // bentoMiner.methods.withdraw(web3.toWei(this.v_Govs_withdraw, \"ether\")).send({ from: web3.eth.defaultAccount }).then((rst) => {\r\n  //     console.log('Withdraw Gov receipt:', rst);\r\n  //     this.refreshAll();\r\n  //     this.delyRefresh();\r\n  //     try {\r\n  //       gov_lockedF = new BigNumber(rst)\r\n  //     } catch{\r\n  //       gov_lockedF = new BigNumber(0)\r\n  //     }\r\n  //   })\r\n  //   return {gov_locked, gov_lockedF}\r\n}\r\n\r\n/**\r\n * 未添加方法:\r\n * 获得对某提案投票的便当总数\r\n * 参数 id\r\n *\r\n * function getVoteObjectInfo(uint256 _proposalid)\r\n        external\r\n        view\r\n        returns (\r\n            address originator,\r\n            bool voteResult,\r\n            uint32 endAtBlockNumber,\r\n            uint112 nowBentosInVote, //总数\r\n            uint256 trueOptionVotes,\r\n            uint256 falseOptionVotes,\r\n            voteState stateNow\r\n        )\r\n\r\n */","import { useContext } from 'react'\r\nimport { Context as FarmsContext, Farm } from '../contexts/Farms'\r\n\r\nconst useFarm = (id: string): Farm => {\r\n  const { farms } = useContext(FarmsContext)\r\n  const farm = farms.find((farm) => farm.id === id)\r\n  return farm\r\n}\r\n\r\nexport default useFarm\r\n","import { useCallback } from 'react'\r\nimport { useWallet } from 'use-wallet'\r\nimport { Contract } from 'web3-eth-contract'\r\nimport { redeem } from '../sushi/utils'\r\n\r\nconst useRedeem = (masterChefContract: Contract) => {\r\n  const { account } = useWallet()\r\n\r\n  const handleRedeem = useCallback(async () => {\r\n    const txHash = await redeem(masterChefContract, account)\r\n    console.log(txHash)\r\n    return txHash\r\n  }, [account, masterChefContract])\r\n\r\n  return { onRedeem: handleRedeem }\r\n}\r\n\r\nexport default useRedeem\r\n","import Web3 from 'web3'\r\nimport { provider } from 'web3-core'\r\nimport { Contract } from 'web3-eth-contract'\r\nimport { AbiItem } from 'web3-utils'\r\nimport ERC20ABI from '../constants/abi/ERC20.json'\r\n\r\nexport const getContract = (provider: provider, address: string) => {\r\n  const web3 = new Web3(provider)\r\n  const contract = new web3.eth.Contract(\r\n    (ERC20ABI.abi as unknown) as AbiItem,\r\n    address,\r\n  )\r\n  return contract\r\n}\r\n\r\nexport const getAllowance = async (\r\n  lpContract: Contract,\r\n  masterChefContract: Contract,\r\n  account: string,\r\n): Promise<string> => {\r\n  try {\r\n    const allowance: string = await lpContract.methods\r\n      .allowance(account, masterChefContract.options.address)\r\n      .call()\r\n    return allowance\r\n  } catch (e) {\r\n    return '0'\r\n  }\r\n}\r\n\r\nexport const getBalance = async (\r\n  provider: provider,\r\n  tokenAddress: string,\r\n  userAddress: string,\r\n): Promise<string> => {\r\n  const lpContract = getContract(provider, tokenAddress)\r\n  try {\r\n    const balance: string = await lpContract.methods\r\n      .balanceOf(userAddress)\r\n      .call()\r\n    console.log(`user balance ${balance}`)\r\n    return balance\r\n  } catch (e) {\r\n    console.log(`failed to get balance ${e} for tokenAddress ${tokenAddress} address ${userAddress}`)\r\n    return '0'\r\n  }\r\n}\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport Web3 from 'web3'\r\nimport { provider } from 'web3-core'\r\nimport { useWallet } from 'use-wallet'\r\n// import debounce from 'debounce'\r\n\r\nconst useBlock = () => {\r\n  const [block, setBlock] = useState(0)\r\n  const { ethereum }: { ethereum: provider } = useWallet()\r\n\r\n  useEffect(() => {\r\n    // const setBlockDebounced = debounce(setBlock, 300)\r\n    if (!ethereum) return\r\n    const web3 = new Web3(ethereum)\r\n\r\n    // const subscription = new Web3(ethereum).eth.subscribe(\r\n    //   'newBlockHeaders',\r\n    //   (error, result) => {\r\n    //     if (!error) {\r\n    //       setBlockDebounced(result.number)\r\n    //     }\r\n    //   },\r\n    // )\r\n\r\n    const interval = setInterval(async () => {\r\n      const latestBlockNumber = await web3.eth.getBlockNumber()\r\n      if (block !== latestBlockNumber) {\r\n        setBlock(latestBlockNumber)\r\n      }\r\n    }, 1000)\r\n\r\n    return () => clearInterval(interval)\r\n  }, [ethereum])\r\n\r\n  return block\r\n}\r\n\r\nexport default useBlock\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { provider } from 'web3-core'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { getEarned, getMasterChefContract } from '../sushi/utils'\r\nimport useSushi from './useSushi'\r\nimport useBlock from './useBlock'\r\n\r\nconst useEarnings = (pid: number) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const {\r\n    account,\r\n    ethereum,\r\n  }: { account: string; ethereum: provider } = useWallet()\r\n  const sushi = useSushi()\r\n  const masterChefContract = getMasterChefContract(sushi)\r\n  const block = useBlock()\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await getEarned(masterChefContract, pid, account)\r\n    setBalance(new BigNumber(balance))\r\n  }, [account, masterChefContract, sushi])\r\n\r\n  useEffect(() => {\r\n    if (account && masterChefContract && sushi) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, block, masterChefContract, setBalance, sushi])\r\n\r\n  return balance\r\n}\r\n\r\nexport default useEarnings\r\n","import { useCallback } from 'react'\r\n\r\nimport useSushi from './useSushi'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { harvest, getMasterChefContract } from '../sushi/utils'\r\n\r\nconst useReward = (pid: number) => {\r\n  const { account } = useWallet()\r\n  const sushi = useSushi()\r\n  const masterChefContract = getMasterChefContract(sushi)\r\n\r\n  const handleReward = useCallback(async () => {\r\n    const txHash = await harvest(masterChefContract, pid, account)\r\n    console.log(txHash)\r\n    return txHash\r\n  }, [account, pid, sushi])\r\n\r\n  return { onReward: handleReward }\r\n}\r\n\r\nexport default useReward\r\n","import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport Button from '../../../components/Button'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport CardIcon from '../../../components/CardIcon'\r\nimport Label from '../../../components/Label'\r\nimport Value from '../../../components/Value'\r\nimport useEarnings from '../../../hooks/useEarnings'\r\nimport useReward from '../../../hooks/useReward'\r\nimport { getBalanceNumber } from '../../../utils/formatBalance'\r\n\r\ninterface HarvestProps {\r\n  pid: number\r\n}\r\n\r\nconst Harvest: React.FC<HarvestProps> = ({ pid }) => {\r\n  const earnings = useEarnings(pid)\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n  const { onReward } = useReward(pid)\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <StyledCardContentInner>\r\n          <StyledCardHeader>\r\n            <CardIcon>🍣</CardIcon>\r\n            <Value value={getBalanceNumber(earnings)} />\r\n            <Label text=\"SUSHI Earned\" />\r\n          </StyledCardHeader>\r\n          <StyledCardActions>\r\n            <Button\r\n              disabled={!earnings.toNumber() || pendingTx}\r\n              text={pendingTx ? 'Collecting SUSHI' : 'Harvest'}\r\n              onClick={async () => {\r\n                setPendingTx(true)\r\n                await onReward()\r\n                setPendingTx(false)\r\n              }}\r\n            />\r\n          </StyledCardActions>\r\n        </StyledCardContentInner>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nconst StyledCardHeader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\nconst StyledCardActions = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: ${(props) => props.theme.spacing[6]}px;\r\n  width: 100%;\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${(props) => props.theme.spacing[4]}px;\r\n  width: ${(props) => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`\r\n\r\nexport default Harvest\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\n\r\ninterface IconButtonProps {\r\n  children?: React.ReactNode\r\n  disabled?: boolean\r\n  onClick?: () => void\r\n  to?: string\r\n}\r\n\r\nconst IconButton: React.FC<IconButtonProps> = ({\r\n  children,\r\n  disabled,\r\n  onClick,\r\n  to,\r\n}) => {\r\n  return (\r\n    <StyledButton disabled={disabled} onClick={onClick}>\r\n      {!!to ? <StyledLink to={to}>{children}</StyledLink> : children}\r\n    </StyledButton>\r\n  )\r\n}\r\n\r\ninterface StyledButtonProps {\r\n  disabled?: boolean\r\n}\r\n\r\nconst StyledButton = styled.button<StyledButtonProps>`\r\n  align-items: center;\r\n  background-color: ${(props) => props.theme.color.grey[200]};\r\n  border: 0;\r\n  border-radius: 28px;\r\n  box-shadow: 6px 6px 12px ${(props) => props.theme.color.grey[300]},\r\n    -12px -12px 24px ${(props) => props.theme.color.grey[100]}aa;\r\n  color: ${(props) =>\r\n    !props.disabled\r\n      ? props.theme.color.primary.main\r\n      : props.theme.color.grey[400]};\r\n  cursor: pointer;\r\n  display: flex;\r\n  font-weight: 700;\r\n  height: 56px;\r\n  justify-content: center;\r\n  letter-spacing: 1px;\r\n  outline: none;\r\n  padding: 0;\r\n  margin: 0;\r\n  pointer-events: ${(props) => (!props.disabled ? undefined : 'none')};\r\n  text-transform: uppercase;\r\n  width: 56px;\r\n  &:hover {\r\n    background-color: ${(props) => props.theme.color.grey[100]};\r\n  }\r\n`\r\n\r\nconst StyledLink = styled(Link)`\r\n  align-items: center;\r\n  color: inherit;\r\n  display: flex;\r\n  flex: 1;\r\n  height: 56px;\r\n  justify-content: center;\r\n  margin: 0 ${(props) => -props.theme.spacing[4]}px;\r\n  padding: 0 ${(props) => props.theme.spacing[4]}px;\r\n  text-decoration: none;\r\n`\r\n\r\nexport default IconButton\r\n","import React, { useContext } from 'react'\r\nimport { ThemeContext } from 'styled-components'\r\n\r\nimport { IconProps } from '../Icon'\r\n\r\nconst AddIcon: React.FC<IconProps> = ({ color, size = 24 }) => {\r\n  const { color: themeColor } = useContext(ThemeContext)\r\n  return (\r\n    <svg\r\n      height={size}\r\n      viewBox=\"0 0 24 24\"\r\n      width={size}\r\n    >\r\n      <path\r\n        d=\"M0 0h24v24H0z\"\r\n        fill=\"none\"\r\n      />\r\n      <path\r\n        d=\"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z\"\r\n        fill={color ? color : themeColor.grey[400]}\r\n      />\r\n    </svg>\r\n  )\r\n}\r\n\r\nexport default AddIcon","import { useCallback, useEffect, useState } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport useSushi from './useSushi'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\nimport { getAllowance } from '../utils/erc20'\r\nimport { getMasterChefContract } from '../sushi/utils'\r\n\r\nconst useAllowance = (lpContract: Contract) => {\r\n  const [allowance, setAllowance] = useState(new BigNumber(0))\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const sushi = useSushi()\r\n  const masterChefContract = getMasterChefContract(sushi)\r\n\r\n  const fetchAllowance = useCallback(async () => {\r\n    const allowance = await getAllowance(\r\n      lpContract,\r\n      masterChefContract,\r\n      account,\r\n    )\r\n    setAllowance(new BigNumber(allowance))\r\n  }, [account, masterChefContract, lpContract])\r\n\r\n  useEffect(() => {\r\n    if (account && masterChefContract && lpContract) {\r\n      fetchAllowance()\r\n    }\r\n    let refreshInterval = setInterval(fetchAllowance, 10000)\r\n    return () => clearInterval(refreshInterval)\r\n  }, [account, masterChefContract, lpContract])\r\n\r\n  return allowance\r\n}\r\n\r\nexport default useAllowance\r\n","import { useCallback } from 'react'\r\n\r\nimport useSushi from './useSushi'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\nimport { approve, getMasterChefContract } from '../sushi/utils'\r\n\r\nconst useApprove = (lpContract: Contract) => {\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const sushi = useSushi()\r\n  const masterChefContract = getMasterChefContract(sushi)\r\n\r\n  const handleApprove = useCallback(async () => {\r\n    try {\r\n      const tx = await approve(lpContract, masterChefContract, account)\r\n      return tx\r\n    } catch (e) {\r\n      return false\r\n    }\r\n  }, [account, lpContract, masterChefContract])\r\n\r\n  return { onApprove: handleApprove }\r\n}\r\n\r\nexport default useApprove\r\n","import { useCallback } from 'react'\r\n\r\nimport useSushi from './useSushi'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { stake, getMasterChefContract } from '../sushi/utils'\r\n\r\nconst useStake = (pid: number) => {\r\n  const { account } = useWallet()\r\n  const sushi = useSushi()\r\n\r\n  const handleStake = useCallback(\r\n    async (amount: string) => {\r\n      const txHash = await stake(\r\n        getMasterChefContract(sushi),\r\n        pid,\r\n        amount,\r\n        account,\r\n      )\r\n      console.log(txHash)\r\n    },\r\n    [account, pid, sushi],\r\n  )\r\n\r\n  return { onStake: handleStake }\r\n}\r\n\r\nexport default useStake\r\n","import { useCallback, useEffect, useState } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { getStaked, getMasterChefContract } from '../sushi/utils'\r\nimport useSushi from './useSushi'\r\nimport useBlock from './useBlock'\r\n\r\nconst useStakedBalance = (pid: number) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account }: { account: string } = useWallet()\r\n  const sushi = useSushi()\r\n  const masterChefContract = getMasterChefContract(sushi)\r\n  const block = useBlock()\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await getStaked(masterChefContract, pid, account)\r\n    setBalance(new BigNumber(balance))\r\n  }, [account, pid, sushi])\r\n\r\n  useEffect(() => {\r\n    if (account && sushi) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, pid, setBalance, block, sushi])\r\n\r\n  return balance\r\n}\r\n\r\nexport default useStakedBalance\r\n","import { useCallback, useEffect, useState } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\n\r\nimport { getBalance } from '../utils/erc20'\r\nimport useBlock from './useBlock'\r\n\r\nconst useTokenBalance = (tokenAddress: string) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const {\r\n    account,\r\n    ethereum,\r\n  }: { account: string; ethereum: provider } = useWallet()\r\n  const block = useBlock()\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await getBalance(ethereum, tokenAddress, account)\r\n    setBalance(new BigNumber(balance))\r\n  }, [account, ethereum, tokenAddress])\r\n\r\n  useEffect(() => {\r\n    if (account && ethereum) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, ethereum, setBalance, block, tokenAddress])\r\n\r\n  return balance\r\n}\r\n\r\nexport default useTokenBalance\r\n","import { useCallback } from 'react'\r\n\r\nimport useSushi from './useSushi'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { unstake, getMasterChefContract } from '../sushi/utils'\r\n\r\nconst useUnstake = (pid: number) => {\r\n  const { account } = useWallet()\r\n  const sushi = useSushi()\r\n  const masterChefContract = getMasterChefContract(sushi)\r\n\r\n  const handleUnstake = useCallback(\r\n    async (amount: string) => {\r\n      const txHash = await unstake(masterChefContract, pid, amount, account)\r\n      console.log(txHash)\r\n    },\r\n    [account, pid, sushi],\r\n  )\r\n\r\n  return { onUnstake: handleUnstake }\r\n}\r\n\r\nexport default useUnstake\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nexport interface InputProps {\r\n  endAdornment?: React.ReactNode,\r\n  onChange: (e: React.FormEvent<HTMLInputElement>) => void,\r\n  placeholder?: string,\r\n  startAdornment?: React.ReactNode,\r\n  value: string,\r\n}\r\n\r\nconst Input: React.FC<InputProps> = ({\r\n  endAdornment,\r\n  onChange,\r\n  placeholder,\r\n  startAdornment,\r\n  value,\r\n}) => {\r\n  return (\r\n    <StyledInputWrapper>\r\n      {!!startAdornment && startAdornment}\r\n      <StyledInput placeholder={placeholder} value={value} onChange={onChange} />\r\n      {!!endAdornment && endAdornment}\r\n    </StyledInputWrapper>\r\n  )\r\n}\r\n\r\nconst StyledInputWrapper = styled.div`\r\n  align-items: center;\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  border-radius: ${props => props.theme.borderRadius}px;\r\n  box-shadow: inset 4px 4px 8px ${props => props.theme.color.grey[300]},\r\n    inset -6px -6px 12px ${props => props.theme.color.grey[100]};\r\n  display: flex;\r\n  height: 72px;\r\n  padding: 0 ${props => props.theme.spacing[3]}px;\r\n`\r\n\r\nconst StyledInput = styled.input`\r\n  background: none;\r\n  border: 0;\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-size: 18px;\r\n  flex: 1;\r\n  height: 56px;\r\n  margin: 0;\r\n  padding: 0;\r\n  outline: none;\r\n`\r\n\r\nexport default Input","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nimport Button from '../Button'\r\nimport Input, { InputProps } from '../Input'\r\n\r\ninterface TokenInputProps extends InputProps {\r\n  max: number | string,\r\n  symbol: string,\r\n  onSelectMax?: () => void,\r\n}\r\n\r\nconst TokenInput: React.FC<TokenInputProps> = ({\r\n  max,\r\n  symbol,\r\n  onChange,\r\n  onSelectMax,\r\n  value,\r\n}) => {\r\n  return (\r\n    <StyledTokenInput>\r\n      <StyledMaxText>{max.toLocaleString()} {symbol} Available</StyledMaxText>\r\n      <Input\r\n        endAdornment={(\r\n          <StyledTokenAdornmentWrapper>\r\n            <StyledTokenSymbol>{symbol}</StyledTokenSymbol>\r\n            <StyledSpacer />\r\n            <div>\r\n              <Button size=\"sm\" text=\"Max\" onClick={onSelectMax} />\r\n            </div>\r\n          </StyledTokenAdornmentWrapper>\r\n        )}\r\n        onChange={onChange}\r\n        placeholder=\"0\"\r\n        value={value}\r\n      />\r\n    </StyledTokenInput>\r\n  )\r\n}\r\n\r\n/*\r\n            <div>\r\n              <Button size=\"sm\" text=\"Max\" />\r\n            </div>\r\n*/\r\n\r\nconst StyledTokenInput = styled.div`\r\n\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  width: ${props => props.theme.spacing[3]}px;\r\n`\r\n\r\nconst StyledTokenAdornmentWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n`\r\n\r\nconst StyledMaxText = styled.div`\r\n  align-items: center;\r\n  color: ${props => props.theme.color.grey[400]};\r\n  display: flex;\r\n  font-size: 14px;\r\n  font-weight: 700;\r\n  height: 44px;\r\n  justify-content: flex-end;\r\n`\r\n\r\nconst StyledTokenSymbol = styled.span`\r\n  color: ${props => props.theme.color.grey[600]};\r\n  font-weight: 700;\r\n`\r\n\r\nexport default TokenInput","import BigNumber from 'bignumber.js'\r\nimport React, { useCallback, useMemo, useState } from 'react'\r\nimport Button from '../../../components/Button'\r\nimport Modal, { ModalProps } from '../../../components/Modal'\r\nimport ModalActions from '../../../components/ModalActions'\r\nimport ModalTitle from '../../../components/ModalTitle'\r\nimport TokenInput from '../../../components/TokenInput'\r\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\r\n\r\ninterface DepositModalProps extends ModalProps {\r\n  max: BigNumber\r\n  onConfirm: (amount: string) => void\r\n  tokenName?: string\r\n}\r\n\r\nconst DepositModal: React.FC<DepositModalProps> = ({\r\n  max,\r\n  onConfirm,\r\n  onDismiss,\r\n  tokenName = '',\r\n}) => {\r\n  const [val, setVal] = useState('')\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max)\r\n  }, [max])\r\n\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      setVal(e.currentTarget.value)\r\n    },\r\n    [setVal],\r\n  )\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance)\r\n  }, [fullBalance, setVal])\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`Deposit ${tokenName} Tokens`} />\r\n      <TokenInput\r\n        value={val}\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\r\n        <Button\r\n          disabled={pendingTx}\r\n          text={pendingTx ? 'Pending Confirmation' : 'Confirm'}\r\n          onClick={async () => {\r\n            setPendingTx(true)\r\n            await onConfirm(val)\r\n            setPendingTx(false)\r\n            onDismiss()\r\n          }}\r\n        />\r\n      </ModalActions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default DepositModal\r\n","import BigNumber from 'bignumber.js'\r\nimport React, { useCallback, useMemo, useState } from 'react'\r\nimport Button from '../../../components/Button'\r\nimport Modal, { ModalProps } from '../../../components/Modal'\r\nimport ModalActions from '../../../components/ModalActions'\r\nimport ModalTitle from '../../../components/ModalTitle'\r\nimport TokenInput from '../../../components/TokenInput'\r\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\r\n\r\ninterface WithdrawModalProps extends ModalProps {\r\n  max: BigNumber\r\n  onConfirm: (amount: string) => void\r\n  tokenName?: string\r\n}\r\n\r\nconst WithdrawModal: React.FC<WithdrawModalProps> = ({\r\n  onConfirm,\r\n  onDismiss,\r\n  max,\r\n  tokenName = '',\r\n}) => {\r\n  const [val, setVal] = useState('')\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max)\r\n  }, [max])\r\n\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      setVal(e.currentTarget.value)\r\n    },\r\n    [setVal],\r\n  )\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance)\r\n  }, [fullBalance, setVal])\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`Withdraw ${tokenName}`} />\r\n      <TokenInput\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        value={val}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        <Button text=\"Cancel\" variant=\"secondary\" onClick={onDismiss} />\r\n        <Button\r\n          disabled={pendingTx}\r\n          text={pendingTx ? 'Pending Confirmation' : 'Confirm'}\r\n          onClick={async () => {\r\n            setPendingTx(true)\r\n            await onConfirm(val)\r\n            setPendingTx(false)\r\n            onDismiss()\r\n          }}\r\n        />\r\n      </ModalActions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default WithdrawModal\r\n","import BigNumber from 'bignumber.js'\r\nimport React, { useCallback, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Contract } from 'web3-eth-contract'\r\nimport Button from '../../../components/Button'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport CardIcon from '../../../components/CardIcon'\r\nimport IconButton from '../../../components/IconButton'\r\nimport { AddIcon } from '../../../components/icons'\r\nimport Label from '../../../components/Label'\r\nimport Value from '../../../components/Value'\r\nimport useAllowance from '../../../hooks/useAllowance'\r\nimport useApprove from '../../../hooks/useApprove'\r\nimport useModal from '../../../hooks/useModal'\r\nimport useStake from '../../../hooks/useStake'\r\nimport useStakedBalance from '../../../hooks/useStakedBalance'\r\nimport useTokenBalance from '../../../hooks/useTokenBalance'\r\nimport useUnstake from '../../../hooks/useUnstake'\r\nimport { getBalanceNumber } from '../../../utils/formatBalance'\r\nimport DepositModal from './DepositModal'\r\nimport WithdrawModal from './WithdrawModal'\r\n\r\ninterface StakeProps {\r\n  lpContract: Contract\r\n  pid: number\r\n  tokenName: string\r\n}\r\n\r\nconst Stake: React.FC<StakeProps> = ({ lpContract, pid, tokenName }) => {\r\n  const [requestedApproval, setRequestedApproval] = useState(false)\r\n\r\n  const allowance = useAllowance(lpContract)\r\n  const { onApprove } = useApprove(lpContract)\r\n\r\n  const tokenBalance = useTokenBalance(lpContract.options.address)\r\n  const stakedBalance = useStakedBalance(pid)\r\n\r\n  const { onStake } = useStake(pid)\r\n  const { onUnstake } = useUnstake(pid)\r\n\r\n  const [onPresentDeposit] = useModal(\r\n    <DepositModal\r\n      max={tokenBalance}\r\n      onConfirm={onStake}\r\n      tokenName={tokenName}\r\n    />,\r\n  )\r\n\r\n  const [onPresentWithdraw] = useModal(\r\n    <WithdrawModal\r\n      max={stakedBalance}\r\n      onConfirm={onUnstake}\r\n      tokenName={tokenName}\r\n    />,\r\n  )\r\n\r\n  const handleApprove = useCallback(async () => {\r\n    try {\r\n      setRequestedApproval(true)\r\n      const txHash = await onApprove()\r\n      // user rejected tx or didn't go thru\r\n      if (!txHash) {\r\n        setRequestedApproval(false)\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }, [onApprove, setRequestedApproval])\r\n\r\n  return (\r\n    <Card>\r\n      <CardContent>\r\n        <StyledCardContentInner>\r\n          <StyledCardHeader>\r\n            <CardIcon>👨🏻‍🍳</CardIcon>\r\n            <Value value={getBalanceNumber(stakedBalance)} />\r\n            <Label text={`${tokenName} Tokens Staked`} />\r\n          </StyledCardHeader>\r\n          <StyledCardActions>\r\n            {!allowance.toNumber() ? (\r\n              <Button\r\n                disabled={requestedApproval}\r\n                onClick={handleApprove}\r\n                text={`Approve ${tokenName}`}\r\n              />\r\n            ) : (\r\n              <>\r\n                <Button\r\n                  disabled={stakedBalance.eq(new BigNumber(0))}\r\n                  text=\"Unstake\"\r\n                  onClick={onPresentWithdraw}\r\n                />\r\n                <StyledActionSpacer />\r\n                <IconButton onClick={onPresentDeposit}>\r\n                  <AddIcon />\r\n                </IconButton>\r\n              </>\r\n            )}\r\n          </StyledCardActions>\r\n        </StyledCardContentInner>\r\n      </CardContent>\r\n    </Card>\r\n  )\r\n}\r\n\r\nconst StyledCardHeader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\nconst StyledCardActions = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-top: ${(props) => props.theme.spacing[6]}px;\r\n  width: 100%;\r\n`\r\n\r\nconst StyledActionSpacer = styled.div`\r\n  height: ${(props) => props.theme.spacing[4]}px;\r\n  width: ${(props) => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledCardContentInner = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n`\r\n\r\nexport default Stake\r\n","import React, { useEffect, useMemo } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\nimport PageHeader from '../../components/PageHeader'\r\nimport Spacer from '../../components/Spacer'\r\nimport useFarm from '../../hooks/useFarm'\r\nimport useRedeem from '../../hooks/useRedeem'\r\nimport useSushi from '../../hooks/useSushi'\r\nimport { getMasterChefContract } from '../../sushi/utils'\r\nimport { getContract } from '../../utils/erc20'\r\nimport Harvest from './components/Harvest'\r\nimport Stake from './components/Stake'\r\n\r\nconst Farm: React.FC = () => {\r\n  const { farmId } = useParams()\r\n  const {\r\n    pid,\r\n    lpToken,\r\n    lpTokenAddress,\r\n    tokenAddress,\r\n    earnToken,\r\n    name,\r\n    icon,\r\n  } = useFarm(farmId) || {\r\n    pid: 0,\r\n    lpToken: '',\r\n    lpTokenAddress: '',\r\n    tokenAddress: '',\r\n    earnToken: '',\r\n    name: '',\r\n    icon: '',\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  const sushi = useSushi()\r\n  const { ethereum } = useWallet()\r\n\r\n  const lpContract = useMemo(() => {\r\n    return getContract(ethereum as provider, lpTokenAddress)\r\n  }, [ethereum, lpTokenAddress])\r\n\r\n  const { onRedeem } = useRedeem(getMasterChefContract(sushi))\r\n\r\n  const lpTokenName = useMemo(() => {\r\n    return lpToken.toUpperCase()\r\n  }, [lpToken])\r\n\r\n  const earnTokenName = useMemo(() => {\r\n    return earnToken.toUpperCase()\r\n  }, [earnToken])\r\n\r\n  return (\r\n    <>\r\n      <PageHeader\r\n        icon={icon}\r\n        subtitle={`Deposit ${lpTokenName}  Tokens and earn ${earnTokenName}`}\r\n        title={name}\r\n      />\r\n      <StyledFarm>\r\n        <StyledCardsWrapper>\r\n          <StyledCardWrapper>\r\n            <Harvest pid={pid} />\r\n          </StyledCardWrapper>\r\n          <Spacer />\r\n          <StyledCardWrapper>\r\n            <Stake\r\n              lpContract={lpContract}\r\n              pid={pid}\r\n              tokenName={lpToken.toUpperCase()}\r\n            />\r\n          </StyledCardWrapper>\r\n        </StyledCardsWrapper>\r\n        <Spacer size=\"lg\" />\r\n        <StyledInfo>\r\n          ⭐️ Every time you stake and unstake LP tokens, the contract will\r\n          automagically harvest SUSHI rewards for you!\r\n        </StyledInfo>\r\n        <Spacer size=\"lg\" />\r\n      </StyledFarm>\r\n    </>\r\n  )\r\n}\r\n\r\nconst StyledFarm = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledCardsWrapper = styled.div`\r\n  display: flex;\r\n  width: 600px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 80%;\r\n  }\r\n`\r\n\r\nconst StyledInfo = styled.h3`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  margin: 0;\r\n  padding: 0;\r\n  text-align: center;\r\n`\r\n\r\nexport default Farm\r\n","import React from 'react'\r\nimport styled, { keyframes } from 'styled-components'\r\n\r\nimport CardIcon from '../CardIcon'\r\n\r\ninterface LoaderProps {\r\n  text?: string\r\n}\r\n\r\nconst Loader: React.FC<LoaderProps> = ({ text }) => {\r\n  return (\r\n    <StyledLoader>\r\n      <CardIcon>\r\n        <StyledSushi>🍣</StyledSushi>\r\n      </CardIcon>\r\n      {!!text && <StyledText>{text}</StyledText>}\r\n    </StyledLoader>\r\n  )\r\n}\r\n\r\nconst spin = keyframes`\r\n  0% {\r\n    transform: rotate(0deg);\r\n  }\r\n  100% {\r\n    transform: rotate(360deg);\r\n  }\r\n`\r\n\r\nconst StyledLoader = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n`\r\n\r\nconst StyledSushi = styled.div`\r\n  font-size: 32px;\r\n  position: relative;\r\n  animation: 1s ${spin} infinite;\r\n`\r\n\r\nconst StyledText = styled.div`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n`\r\n\r\nexport default Loader\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { provider } from 'web3-core'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\nimport {\r\n  getMasterChefContract,\r\n  getWethContract,\r\n  getFarms,\r\n  getTotalLPWethValue,\r\n} from '../sushi/utils'\r\nimport useSushi from './useSushi'\r\nimport useBlock from './useBlock'\r\n\r\nexport interface StakedValue {\r\n  tokenAmount: BigNumber\r\n  wethAmount: BigNumber\r\n  totalWethValue: BigNumber\r\n  tokenPriceInWeth: BigNumber\r\n  poolWeight: BigNumber\r\n}\r\n\r\nconst useAllStakedValue = () => {\r\n  const [balances, setBalance] = useState([] as Array<StakedValue>)\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const sushi = useSushi()\r\n  const farms = getFarms(sushi)\r\n  const masterChefContract = getMasterChefContract(sushi)\r\n  const wethContact = getWethContract(sushi)\r\n  const block = useBlock()\r\n\r\n  const fetchAllStakedValue = useCallback(async () => {\r\n    const balances: Array<StakedValue> = await Promise.all(\r\n      farms.map(\r\n        ({\r\n          pid,\r\n          lpContract,\r\n          tokenContract,\r\n        }: {\r\n          pid: number\r\n          lpContract: Contract\r\n          tokenContract: Contract\r\n        }) =>\r\n          getTotalLPWethValue(\r\n            masterChefContract,\r\n            wethContact,\r\n            lpContract,\r\n            tokenContract,\r\n            pid,\r\n          ),\r\n      ),\r\n    )\r\n\r\n    setBalance(balances)\r\n  }, [account, masterChefContract, sushi])\r\n\r\n  useEffect(() => {\r\n    if (account && masterChefContract && sushi) {\r\n      fetchAllStakedValue()\r\n    }\r\n  }, [account, block, masterChefContract, setBalance, sushi])\r\n\r\n  return balances\r\n}\r\n\r\nexport default useAllStakedValue\r\n","import { useContext } from 'react'\r\nimport { Context as FarmsContext } from '../contexts/bento_Farms'\r\n\r\nconst useFarms = () => {\r\n  const { farms } = useContext(FarmsContext)\r\n  return [farms]\r\n}\r\n\r\nexport default useFarms\r\n","import BigNumber from 'bignumber.js'\r\n\r\nexport { default as formatAddress } from './formatAddress'\r\n\r\nexport const bnToDec = (bn: BigNumber, decimals = 18): number => {\r\n  return bn.dividedBy(new BigNumber(10).pow(decimals)).toNumber()\r\n}\r\n\r\nexport const decToBn = (dec: number, decimals = 18) => {\r\n  return new BigNumber(dec).multipliedBy(new BigNumber(10).pow(decimals))\r\n}\r\n","import { useCallback } from 'react'\r\n\r\nimport {Farm} from '../contexts/bento_Farms/types'\r\n\r\nimport useBento from './useBento'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { stake, getBentoMinerContract, approveGovToken } from '../bento/utils'\r\n\r\nconst useStake = (farm: Farm) => {\r\n  const { account } = useWallet()\r\n  const bento = useBento()\r\n\r\n  const handleStake = useCallback(\r\n    async (amount: string) => {\r\n\r\n      return await stake(\r\n        getBentoMinerContract(bento),\r\n        amount,\r\n        account,\r\n      )\r\n      .then((rst) => {\r\n        return rst\r\n      })\r\n    },\r\n    [account, farm, bento],\r\n  )\r\n\r\n  return { onStake: handleStake }\r\n}\r\n\r\nexport default useStake\r\n","import { useCallback, useState } from 'react'\r\n\r\nimport useBento from './useBento'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\nimport { approveGovToken, getBentoMinerContract, getBentoContract } from '../bento/utils'\r\nimport { BigNumber } from '../sushi'\r\n\r\n// const useApprove = (lpContract: Contract) => {\r\nconst useApprove = (farm) => {\r\n  const [result, setResult] = useState(false)\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const bento = useBento()\r\n  const bentoMinerContract = getBentoMinerContract(bento)\r\n  const lpContract = getBentoMinerContract(bento)\r\n  // const tokenContract = getBentoContract(bento)\r\n\r\n  const handleApprove = useCallback(async (amount: string) => {\r\n      return await approveGovToken(farm.tokenContract,farm.govAddress, account, amount).then((result) => {\r\n        console.log('result in useAppve', result)\r\n        return (result)\r\n      }) \r\n      // try {\r\n      //   await .then((result) => result)\r\n      //   // const tx = await approve(bentoMinerContract, bentoMinerContract, account)\r\n      // } catch (e) {\r\n      //   console.log(`failed to approve the allowance ${e} account ${account} tokenContract ${tokenContract}`)\r\n      //   return false\r\n      // }\r\n      // return false\r\n  }, [result, account, lpContract, bentoMinerContract, setResult])\r\n\r\n  return { onApprove: handleApprove }\r\n}\r\n\r\nexport default useApprove\r\n","import BigNumber from 'bignumber.js'\r\nimport React, { useCallback, useMemo, useState } from 'react'\r\nimport Button from '../../../components/Button'\r\nimport Modal, { ModalProps } from '../../../components/Modal'\r\nimport ModalActions from '../../../components/ModalActions'\r\nimport ModalTitle from '../../../components/ModalTitle'\r\nimport TokenInput from '../../../components/TokenInput'\r\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\r\nimport { useI18n  } from 'use-i18n';\r\nimport { Contract } from 'web3-eth-contract';\r\n\r\ninterface DepositModalProps extends ModalProps {\r\n  max: BigNumber\r\n  onConfirm: (amount: string) => Promise<any>\r\n  onApprove: (amount: string) => Promise<any>\r\n  tokenName?: string\r\n}\r\n\r\nconst DepositModal: React.FC<DepositModalProps> = ({\r\n  max,\r\n  onConfirm,\r\n  onApprove,\r\n  onDismiss,\r\n  tokenName = '',\r\n}) => {\r\n  const t = useI18n();\r\n\r\n  const [val, setVal] = useState('')\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n  const [approved, setApproved] = useState(false)\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max)\r\n  }, [max])\r\n\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      setVal(e.currentTarget.value)\r\n    },\r\n    [setVal],\r\n  )\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance)\r\n  }, [fullBalance, setVal])\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`${t.deposit} ${tokenName}`} />\r\n      <TokenInput\r\n        value={val}\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        <Button \r\n          text={t.cancel} \r\n          variant=\"secondary\" \r\n          onClick={async () => {\r\n            onDismiss()\r\n           }} \r\n        />\r\n\r\n        {!approved \r\n          ? \r\n          <Button \r\n            disabled={pendingTx}\r\n            text={t.approval} \r\n            variant=\"secondary\" \r\n            onClick={() => {\r\n              setPendingTx(true)\r\n              onApprove(val).then((result) => {\r\n                if (result === true) {\r\n                  setApproved(true)\r\n                } \r\n\r\n                setPendingTx(false)\r\n              })\r\n          }} \r\n        />\r\n        :\r\n        <Button\r\n          disabled={pendingTx}\r\n          text={pendingTx ? t.pending_confirmation : t.deposit}\r\n          onClick={async () => {\r\n            setPendingTx(true)\r\n            onConfirm(val).then((result) => {\r\n              if (result && result.transactionHash && result.transactionHash.length > 0) {\r\n                console.log('deposit successfully txHash: ', result.transactionHash)\r\n                setPendingTx(false)\r\n                onDismiss()\r\n              }\r\n              setPendingTx(false)\r\n            })\r\n          }}\r\n        />\r\n        }\r\n      </ModalActions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default DepositModal\r\n","import BigNumber from 'bignumber.js'\r\nimport React, { useCallback, useMemo, useState } from 'react'\r\nimport Button from '../../../components/Button'\r\nimport Modal, { ModalProps } from '../../../components/Modal'\r\nimport ModalActions from '../../../components/ModalActions'\r\nimport ModalTitle from '../../../components/ModalTitle'\r\nimport TokenInput from '../../../components/TokenInput'\r\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\r\nimport { useI18n  } from 'use-i18n';\r\n\r\ninterface WithdrawModalProps extends ModalProps {\r\n  max: BigNumber\r\n  onConfirm: (amount: string) => Promise<any>\r\n  tokenName?: string\r\n}\r\n\r\nconst WithdrawModal: React.FC<WithdrawModalProps> = ({\r\n  onConfirm,\r\n  onDismiss,\r\n  max,\r\n  tokenName = '',\r\n}) => {\r\n  const t = useI18n();\r\n\r\n  const [val, setVal] = useState('')\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max)\r\n  }, [max])\r\n\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      setVal(e.currentTarget.value)\r\n    },\r\n    [setVal],\r\n  )\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance)\r\n  }, [fullBalance, setVal])\r\n\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`Withdraw ${tokenName}`} />\r\n      <TokenInput\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        value={val}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        <Button \r\n          disabled={pendingTx}\r\n          text={t.cancel} \r\n          variant=\"secondary\" onClick={onDismiss} />\r\n        <Button\r\n          disabled={pendingTx}\r\n          text={pendingTx ? t.pending_confirmation : t.redeem}\r\n          onClick={async () => {\r\n            setPendingTx(true)\r\n            onConfirm(val).then((result) => {\r\n              if (result && result.transactionHash && result.transactionHash.length > 0) {\r\n                setPendingTx(false)\r\n                onDismiss()\r\n              }\r\n            })\r\n          }}\r\n        />\r\n      </ModalActions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default WithdrawModal\r\n","\r\nimport Badge from '@material-ui/core/Badge';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\n\r\n\r\n\r\nexport const StyledBadge = withStyles((theme) => ({\r\n    badge: {\r\n      right: -3,\r\n      top: 13,\r\n      border: `2px solid ${theme.palette.background.paper}`,\r\n      padding: '0 4px',\r\n    },\r\n  }))(Badge);\r\n\r\nexport default StyledBadge","import BigNumber from 'bignumber.js'\r\nimport { tmpdir } from 'os'\r\nimport React, { useEffect, useState } from 'react'\r\nimport Countdown, { CountdownRenderProps } from 'react-countdown'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport { useWallet } from 'use-wallet'\r\nimport Button from '../../../components/Button'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport SidedCardIcon from '../../../components/CardIcon'\r\nimport Loader from '../../../components/Loader'\r\nimport Spacer from '../../../components/Spacer'\r\nimport { Farm } from '../../../contexts/Farms'\r\nimport useAllStakedValue, {\r\n  StakedValue,\r\n} from '../../../hooks/useAllStakedValue'\r\nimport useFarms from '../../../hooks/useFarms'\r\nimport useSushi from '../../../hooks/useSushi'\r\nimport { getEarned, getMasterChefContract } from '../../../sushi/utils'\r\nimport { bnToDec } from '../../../utils'\r\nimport { useI18n  } from 'use-i18n';\r\nimport useModal from '../../../hooks/useModal'\r\nimport useStake from '../../../hooks/useStake'\r\nimport useApprove from '../../../bento_hooks/useApprove'\r\nimport DepositModal from './DepositModal'\r\nimport StyledBadge from './StyledBadge'\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\ninterface FarmWithStakedValue extends Farm, StakedValue {\r\n  apy: BigNumber\r\n  govToken: string\r\n  govAddress: string\r\n  tokenContract: Contract\r\n}\r\n\r\ninterface FarmCardProps {\r\n  farm: FarmWithStakedValue\r\n}\r\ninterface Apy{\r\n  icon: string,\r\n  name: string,\r\n  apy: BigNumber\r\n}\r\n\r\nconst BentoCard: React.FC<FarmCardProps> = ({ farm }) => {\r\n  const t = useI18n();\r\n\r\n  const [startTime, setStartTime] = useState(0)\r\n  const [harvestable, setHarvestable] = useState(0)\r\n\r\n  const { account } = useWallet()\r\n  const { lpTokenAddress } = farm\r\n  const sushi = useSushi()\r\n\r\n  const renderer = (countdownProps: CountdownRenderProps) => {\r\n    const { hours, minutes, seconds } = countdownProps\r\n    const paddedSeconds = seconds < 10 ? `0${seconds}` : seconds\r\n    const paddedMinutes = minutes < 10 ? `0${minutes}` : minutes\r\n    const paddedHours = hours < 10 ? `0${hours}` : hours\r\n    return (\r\n      <span style={{ width: '100%' }}>\r\n        {paddedHours}:{paddedMinutes}:{paddedSeconds}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function fetchEarned() {\r\n      if (sushi) return\r\n      const earned = await getEarned(\r\n        getMasterChefContract(sushi),\r\n        lpTokenAddress,\r\n        account,\r\n      )\r\n      setHarvestable(bnToDec(earned))\r\n    }\r\n    if (sushi && account) {\r\n      fetchEarned()\r\n    }\r\n  }, [sushi, lpTokenAddress, account, setHarvestable])\r\n\r\n  const tokenBalance = new BigNumber(0);\r\n  const { onStake } = useStake(1)\r\n  const { onApprove } = useApprove(farm.tokenContract)\r\n  const [onPresentDeposit] = useModal(\r\n    <DepositModal\r\n      max={tokenBalance}\r\n      onConfirm={onStake}\r\n      onApprove={onApprove}\r\n      tokenName={farm.govToken}\r\n    />,\r\n  )\r\n\r\n  const poolActive = true // startTime * 1000 - Date.now() <= 0\r\n\r\n  return (\r\n    <StyledCardWrapper>\r\n        <Card>\r\n          <StyledBadge badgeContent='X4' color=\"secondary\">\r\n          <CardContent>\r\n          <StyledContent>\r\n              <StyledText>\r\n                <span style={{ textAlign: 'left' }}><SidedCardIcon>{farm.icon}</SidedCardIcon></span>\r\n                <span style={{ textAlign: 'center' }}><StyledTitle>BENTO{t.shop}</StyledTitle></span>\r\n              </StyledText>\r\n              <StyledDetails>\r\n                <StyledDetail>{t.farm_earn_bento}</StyledDetail>\r\n              </StyledDetails>\r\n            </StyledContent>\r\n            <StyledContainer>\r\n              <StyledText>\r\n                <span>{t.current}POWER</span>\r\n                <span style={{ textAlign: 'right' }}>\r\n                  1234\r\n                </span>\r\n              </StyledText>\r\n              <StyledContent>\r\n                <Button\r\n                  size='sm'\r\n                  disabled={!poolActive}\r\n                  text={t.farm_uniswap}\r\n                  onClick={onPresentDeposit}\r\n                >\r\n                  {!poolActive && (\r\n                    <Countdown\r\n                      date={new Date(startTime * 1000)}\r\n                      renderer={renderer}\r\n                    />\r\n                  )}\r\n                </Button>\r\n                <Button\r\n                  size='sm'\r\n                  disabled={!poolActive}\r\n                  text={t.farm_balancer}\r\n                  to={`/farms/${farm.id}`}\r\n                >\r\n                  {!poolActive && (\r\n                    <Countdown\r\n                      date={new Date(startTime * 1000)}\r\n                      renderer={renderer}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </StyledContent>\r\n            </StyledContainer>\r\n            <StyledContainer>\r\n              <StyledText>\r\n                <span>\r\n                    <Button\r\n                        size='sm'\r\n                        disabled={!poolActive}\r\n                        text={t.unclaimed + 'BENTO 456'}\r\n                        to={`/farms/${farm.id}`}\r\n                      >\r\n                        {!poolActive && (\r\n                          <Countdown\r\n                            date={new Date(startTime * 1000)}\r\n                            renderer={renderer}\r\n                          />\r\n                        )}\r\n                      </Button>\r\n                </span>\r\n              </StyledText>\r\n            </StyledContainer>\r\n              <StyledInsight>\r\n                <span>APY</span>\r\n                <span>\r\n                  {farm.apy\r\n                    ? `${farm.apy\r\n                        .times(new BigNumber(100))\r\n                        .toNumber()\r\n                        .toLocaleString('en-US')\r\n                        .slice(0, -1)}%`\r\n                    : 'Loading ...'}\r\n                </span>\r\n              </StyledInsight>\r\n          </CardContent>\r\n          </StyledBadge>\r\n        </Card>\r\n    </StyledCardWrapper>\r\n  )\r\n}\r\n\r\nconst RainbowLight = keyframes`\r\n  \r\n\t0% {\r\n\t\tbackground-position: 0% 50%;\r\n\t}\r\n\t50% {\r\n\t\tbackground-position: 100% 50%;\r\n\t}\r\n\t100% {\r\n\t\tbackground-position: 0% 50%;\r\n\t}\r\n`\r\n\r\nconst StyledCardAccent = styled.div`\r\n  background: linear-gradient(\r\n    45deg,\r\n    rgba(255, 0, 0, 1) 0%,\r\n    rgba(255, 154, 0, 1) 10%,\r\n    rgba(208, 222, 33, 1) 20%,\r\n    rgba(79, 220, 74, 1) 30%,\r\n    rgba(63, 218, 216, 1) 40%,\r\n    rgba(47, 201, 226, 1) 50%,\r\n    rgba(28, 127, 238, 1) 60%,\r\n    rgba(95, 21, 242, 1) 70%,\r\n    rgba(186, 12, 248, 1) 80%,\r\n    rgba(251, 7, 217, 1) 90%,\r\n    rgba(255, 0, 0, 1) 100%\r\n  );\r\n  background-size: 300% 300%;\r\n  animation: ${RainbowLight} 2s linear infinite;\r\n  border-radius: 12px;\r\n  filter: blur(6px);\r\n  position: absolute;\r\n  top: -2px;\r\n  right: -2px;\r\n  bottom: -2px;\r\n  left: -2px;\r\n  z-index: -1;\r\n`\r\n\r\nconst StyledCards = styled.div`\r\n  width: 900px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledLoadingWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n`\r\n\r\nconst StyledRow = styled.div`\r\n  display: flex;\r\n  margin-bottom: ${(props) => props.theme.spacing[4]}px;\r\n  flex-flow: row wrap;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  display: flex;\r\n  width: calc((900px - ${(props) => props.theme.spacing[4]}px * 2) / 3);\r\n  position: relative;\r\n`\r\n\r\nconst StyledTitle = styled.h4`\r\n  color: ${(props) => props.theme.color.grey[600]};\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  margin: ${(props) => props.theme.spacing[2]}px 0 0;\r\n  padding: 0;\r\n`\r\n\r\nconst StyledContent = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${(props) => props.theme.spacing[4]}px;\r\n  width: ${(props) => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledDetails = styled.div`\r\n  margin-top: ${(props) => props.theme.spacing[2]}px;\r\n  text-align: center;\r\n`\r\n\r\nconst StyledDetail = styled.div`\r\n  color: ${(props) => props.theme.color.grey[500]};\r\n`\r\n\r\nconst StyledInsight = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  background: #fffdfa;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  line-height: 32px;\r\n  font-size: 13px;\r\n  border: 1px solid #e6dcd5;\r\n  text-align: center;\r\n  padding: 0 12px;\r\n`\r\n\r\nconst StyledContainer = styled.div`\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  line-height: 32px;\r\n  font-size: 13px;\r\n  border: 1px solid #e6dcd5;\r\n  text-align: center;\r\n  padding: 0 12px;\r\n  `\r\n\r\nconst StyledText = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  line-height: 32px;\r\n  font-size: 13px;\r\n  text-align: center;\r\n`\r\n\r\nexport default BentoCard\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { provider } from 'web3-core'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { getBentoMinerContract, playerToGovTokens } from '../bento/utils'\r\nimport useBento from './useBento'\r\nimport useBlock from './useBlock'\r\n\r\nconst useGovTokenStake = () => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const bento = useBento()\r\n  const bentoMinerContract = getBentoMinerContract(bento)\r\n  const block = useBlock()\r\n\r\n  const fetchGovTotalSupply = useCallback(async () => {\r\n    const balance = await playerToGovTokens(bentoMinerContract, account)\r\n    setBalance(balance)\r\n  }, [account, bentoMinerContract, bento])\r\n\r\n  useEffect(() => {\r\n    if (bentoMinerContract) {\r\n      fetchGovTotalSupply()\r\n    }\r\n  }, [account, block, bentoMinerContract, setBalance, bento])\r\n\r\n  return balance\r\n}\r\n\r\nexport default useGovTokenStake\r\n","import { useCallback } from 'react'\r\n\r\nimport useBento from './useBento'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { unstake, getBentoMinerContract } from '../bento/utils'\r\nimport { claimBento } from '../bento/utils'\r\n\r\nconst useClaimMinedToken = (pid: number) => {\r\n  const { account } = useWallet()\r\n  const bento = useBento()\r\n  const bentoMinerContract = getBentoMinerContract(bento)\r\n\r\n  const handleClaimMinedToken = useCallback(\r\n    async (amount: string) => {\r\n      const txHash = await claimBento(bentoMinerContract, account)\r\n      console.log(txHash)\r\n    },\r\n    [account, pid, bento],\r\n  )\r\n\r\n  return { onClaimMinedToken: handleClaimMinedToken }\r\n}\r\n\r\nexport default useClaimMinedToken\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { provider } from 'web3-core'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { getBentoMinerContract, getMyUnclaimBento } from '../bento/utils'\r\nimport useBento from './useBento'\r\nimport useBlock from './useBlock'\r\n\r\nconst usePendingRewards = () => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const bento = useBento()\r\n  const bentoMinerContract = getBentoMinerContract(bento)\r\n  const block = useBlock()\r\n\r\n  const fetchUnclaimBento = useCallback(async () => {\r\n    const balance = await getMyUnclaimBento(bento, account)\r\n    setBalance(balance)\r\n  }, [account, bentoMinerContract, bento])\r\n\r\n  useEffect(() => {\r\n    if (account && bentoMinerContract && bento) {\r\n      fetchUnclaimBento()\r\n    }\r\n  }, [account, block, bentoMinerContract, setBalance, bento])\r\n\r\n  return balance\r\n}\r\n\r\nexport default usePendingRewards\r\n","import { useCallback, useEffect, useState } from 'react'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\n\r\nimport { getBalance } from '../utils/erc20'\r\nimport useBlock from './useBlock'\r\n\r\nconst useTokenBalance = (tokenAddress: string) => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const {\r\n    account,\r\n    ethereum,\r\n  }: { account: string; ethereum: provider } = useWallet()\r\n  const block = useBlock()\r\n\r\n  const fetchBalance = useCallback(async () => {\r\n    const balance = await getBalance(ethereum, tokenAddress, account)\r\n    setBalance(new BigNumber(balance))\r\n  }, [account, ethereum, tokenAddress])\r\n\r\n  useEffect(() => {\r\n    if (account && ethereum) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, ethereum, setBalance, block, tokenAddress])\r\n\r\n  return balance\r\n}\r\n\r\nexport default useTokenBalance\r\n","import { useCallback } from 'react'\r\n\r\nimport useBento from './useBento'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { unstake, getBentoMinerContract } from '../bento/utils'\r\nimport { Farm } from '../contexts/bento_Farms/types'\r\n\r\nconst useUnstake = (farm: Farm) => {\r\n  const { account } = useWallet()\r\n  const bento = useBento()\r\n  const util = require('util')\r\n  console.log(`contract is , ${util.inspect(getBentoMinerContract(bento))}`)\r\n\r\n  const handleUnstake = useCallback(\r\n    async (amount: string) => {\r\n      return await unstake(\r\n        getBentoMinerContract(bento), \r\n        amount, \r\n        account,\r\n        )\r\n        .then((rst) => {\r\n          return rst\r\n        })\r\n    },\r\n    [account, farm, bento],\r\n  )\r\n\r\n  return { onUnstake: handleUnstake }\r\n}\r\n\r\nexport default useUnstake\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { provider } from 'web3-core'\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { getBentoMinerContract, getGovs, getApyByPool, getWethContract } from '../bento/utils'\r\nimport useBento from './useBento'\r\nimport useBlock from './useBlock'\r\n\r\n\r\ninterface Apy{\r\n  icon: string,\r\n  name: string,\r\n  apy: BigNumber\r\n}\r\nconst useApyByPool = () => {\r\n  const [govsApy, setGovsApy] = useState([{} as Apy])\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const bento = useBento()\r\n  const bentoMinerContract = getBentoMinerContract(bento)\r\n  const wethContract = getWethContract(bento)\r\n  const block = useBlock()\r\n  const govs = getGovs(bento)\r\n  const BLOCKS_PER_YEAR = new BigNumber(2336000)\r\n\r\n  const fetchAllGovsApy = useCallback(async () => {\r\n    const govsApy = []\r\n    govs.map(async (\r\n      {\r\n        tokenContract,\r\n        govContract,\r\n        lpContract,\r\n        name,\r\n        icon,\r\n      }\r\n    ) => {\r\n      let govApy = await getApyByPool(\r\n        tokenContract,\r\n        bento,\r\n        govContract,\r\n        lpContract,\r\n        wethContract,\r\n        BLOCKS_PER_YEAR,\r\n        account,\r\n        name,\r\n        icon,\r\n      )\r\n      govsApy.push(govApy)\r\n    })\r\n\r\n    setGovsApy(govsApy)\r\n  }, [account, bentoMinerContract, bento])\r\n\r\n  useEffect(() => {\r\n    if (bentoMinerContract) {\r\n      fetchAllGovsApy()\r\n    }\r\n  }, [account, block, bentoMinerContract, setGovsApy, bento])\r\n\r\n  return govsApy\r\n}\r\n\r\nexport default useApyByPool\r\n","import BigNumber from 'bignumber.js'\r\nimport { tmpdir } from 'os'\r\nimport React, { useEffect, useState } from 'react'\r\nimport Countdown, { CountdownRenderProps } from 'react-countdown'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport { useWallet } from 'use-wallet'\r\nimport Button from '../../../components/Button'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport SidedCardIcon from '../../../components/CardIcon'\r\nimport Loader from '../../../components/Loader'\r\nimport Spacer from '../../../components/Spacer'\r\nimport { Farm } from '../../../contexts/bento_Farms'\r\nimport useAllStakedValue, {\r\n  StakedValue,\r\n} from '../../../hooks/useAllStakedValue'\r\nimport useFarms from '../../../bento_hooks/useFarms'\r\nimport useBento from '../../../bento_hooks/useBento'\r\nimport { getEarned, getBentoMinerContract } from '../../../bento/utils'\r\nimport { bnToDec } from '../../../utils'\r\nimport { useI18n  } from 'use-i18n';\r\nimport useModal from '../../../hooks/useModal'\r\nimport useStake from '../../../bento_hooks/useStake'\r\nimport useApprove from '../../../bento_hooks/useApprove'\r\nimport DepositModal from './DepositModal'\r\nimport WithdrawModal from './WithdrawModal'\r\nimport BentoCard from './BentoCard'\r\nimport StyledBadge from './StyledBadge'\r\nimport useGovTokenStake from '../../../bento_hooks/useGovTokenStake'\r\nimport useClaimMinedToken from '../../../bento_hooks/useClaimMinedToken'\r\nimport usePendingRewards from '../../../bento_hooks/usePendingRewards'\r\nimport useTokenBalance from '../../../bento_hooks/useTokenBalance'\r\nimport { getBalanceNumber } from '../../../utils/formatBalance'\r\nimport useUnstake from '../../../bento_hooks/useUnstake'\r\nimport useApyByPool from '../../../bento_hooks/useApyByPool'\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\ninterface FarmWithStakedValue extends Farm, StakedValue {\r\n  apy: BigNumber\r\n  govToken: string\r\n  govAddress: string\r\n  tokenContract: Contract\r\n}\r\n\r\n\r\n\r\nconst FarmCards: React.FC = () => {\r\n  const apys = useApyByPool()\r\n\r\n  const [farms] = useFarms()\r\n  const { account } = useWallet()\r\n  const stakedValue = useAllStakedValue()\r\n\r\n  const bentoIndex = farms.findIndex(\r\n    ({ tokenSymbol }) => tokenSymbol === 'BENTO',\r\n  )\r\n\r\n  const bentoPrice =\r\n    bentoIndex >= 0 && stakedValue[bentoIndex]\r\n      ? stakedValue[bentoIndex].tokenPriceInWeth\r\n      : new BigNumber(0)\r\n\r\n  const BLOCKS_PER_YEAR = new BigNumber(2336000)\r\n  const BENTO_PER_BLOCK = new BigNumber(1000)\r\n\r\n\r\n  const rows = farms.reduce<FarmWithStakedValue[][]>(\r\n    (farmRows, farm, i) => {\r\n      const farmWithStakedValue = {\r\n        ...farm,\r\n        ...stakedValue[i],\r\n        govToken: farm.govToken,\r\n        apy: null\r\n      }\r\n\r\n      apys.forEach(({name, apy}) => {\r\n        if(name == farmWithStakedValue.name){\r\n          farmWithStakedValue.apy = apy.toString() === 'Infinity'? new BigNumber(0): apy\r\n        }\r\n      })\r\n\r\n      const newFarmRows = [...farmRows]\r\n      if (newFarmRows[newFarmRows.length - 1].length === 3) {\r\n        newFarmRows.push([farmWithStakedValue])\r\n      } else {\r\n        newFarmRows[newFarmRows.length - 1].push(farmWithStakedValue)\r\n      }\r\n      console.log('newFarmRows.length - 1:', newFarmRows.length - 1)\r\n      console.log('newFarmRows:', newFarmRows)\r\n      return newFarmRows\r\n    },\r\n    [[]],\r\n  )\r\n\r\n\r\n\r\n  return (\r\n    <StyledCards>\r\n      {!!rows[0].length ? (\r\n        // rows.map((farmRow, i) => (\r\n          <StyledRow key={0}>\r\n            {rows[0].map((farm, j) => (\r\n              <React.Fragment key={j}>\r\n                <FarmCard farm={farm} />\r\n                {(j === 0 || j === 1) && <StyledSpacer />}\r\n              </React.Fragment>\r\n            ))}\r\n\r\n            <BentoCard farm={rows[0][0]} />\r\n            <StyledSpacer />\r\n          </StyledRow>\r\n        // ))\r\n      ) : (\r\n        <StyledLoadingWrapper>\r\n          <Loader text=\"Cooking the rice ...\" />\r\n        </StyledLoadingWrapper>\r\n      )}\r\n    </StyledCards>\r\n  )\r\n}\r\n\r\ninterface FarmCardProps {\r\n  farm: FarmWithStakedValue\r\n}\r\n\r\nconst FarmCard: React.FC<FarmCardProps> = ({ farm }) => {\r\n  const t = useI18n();\r\n\r\n  const [startTime, setStartTime] = useState(0)\r\n  const [harvestable, setHarvestable] = useState(0)\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n\r\n  const { account } = useWallet()\r\n  const { lpTokenAddress } = farm\r\n  const bento = useBento()\r\n\r\n  const tokenLocked = useGovTokenStake()\r\n  const pendingRewrds = usePendingRewards()\r\n  const tokenBalance = useTokenBalance(farm.tokenAddress)\r\n  const { onStake } = useStake(farm)\r\n\r\n  const { onApprove } = useApprove(farm)\r\n  const { onUnstake } = useUnstake(farm)\r\n  const { onClaimMinedToken } = useClaimMinedToken(farm.pid)\r\n  // console.log(`farm.tokenAddress ${tokenLocked}`)\r\n  // console.log(`farm.govAddress ${useTokenBalance(account)}`)\r\n  // console.log(`current ${account}`)\r\n\r\n  const renderer = (countdownProps: CountdownRenderProps) => {\r\n    const { hours, minutes, seconds } = countdownProps\r\n    const paddedSeconds = seconds < 10 ? `0${seconds}` : seconds\r\n    const paddedMinutes = minutes < 10 ? `0${minutes}` : minutes\r\n    const paddedHours = hours < 10 ? `0${hours}` : hours\r\n    return (\r\n      <span style={{ width: '100%' }}>\r\n        {paddedHours}:{paddedMinutes}:{paddedSeconds}\r\n      </span>\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function fetchEarned() {\r\n      if (bento) return\r\n      const earned = await getEarned(\r\n        getBentoMinerContract(bento),\r\n        lpTokenAddress,\r\n        account,\r\n      )\r\n      setHarvestable(bnToDec(earned))\r\n    }\r\n    if (bento && account) {\r\n      fetchEarned()\r\n    }\r\n  }, [bento, lpTokenAddress, account, setHarvestable])\r\n\r\n  const [onPresentDeposit] = useModal(\r\n    <DepositModal\r\n      max={tokenBalance}\r\n      onConfirm={onStake}\r\n      onApprove={onApprove}\r\n      tokenName={farm.govToken}\r\n    />,\r\n  )\r\n  \r\n  const [onPresentWithdraw] = useModal(\r\n    <WithdrawModal\r\n      max={tokenLocked}\r\n      onConfirm={onUnstake}\r\n      tokenName={farm.govToken}\r\n    />,\r\n  )\r\n\r\n  const poolActive = true // startTime * 1000 - Date.now() <= 0\r\n\r\n  return (\r\n    <StyledCardWrapper>\r\n      {/* {farm.tokenSymbol === 'BENTO' && <StyledCardAccent />} */}\r\n      <Card>\r\n      <StyledBadge badgeContent='X10' color=\"secondary\">\r\n        <CardContent>\r\n        <StyledContent>\r\n            \r\n            <StyledText>\r\n              <span style={{ textAlign: 'left' }}><SidedCardIcon>{farm.icon}</SidedCardIcon></span>\r\n              <span style={{ textAlign: 'center' }}><StyledTitle>{farm.name}</StyledTitle></span>\r\n            </StyledText>\r\n            <StyledDetails>\r\n              <StyledDetail>{t.buy} {farm.govToken.toUpperCase()} {t.earn_profit} {farm.earnToken.toUpperCase()}</StyledDetail>\r\n            </StyledDetails>\r\n          </StyledContent>\r\n          <StyledContainer>\r\n            <StyledText>\r\n              <span>{t.farm_mining}</span>\r\n              <span style={{ textAlign: 'right' }}>\r\n              {getBalanceNumber(tokenLocked) }\r\n              </span>\r\n            </StyledText>\r\n            <StyledText>\r\n              <span>{t.farm_wallet}</span>\r\n              <span style={{ textAlign: 'right' }}>\r\n              {getBalanceNumber(tokenBalance) }\r\n              </span>\r\n            </StyledText>\r\n            <StyledText>\r\n              <span>\r\n                <Button\r\n                  size='sm'\r\n                  disabled={!poolActive}\r\n                  text={t.mining}\r\n                  onClick={onPresentDeposit}\r\n                >\r\n                  {!poolActive && (\r\n                    <Countdown\r\n                      date={new Date(startTime * 1000)}\r\n                      renderer={renderer}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </span>\r\n              <span style={{ textAlign: 'right' }}>\r\n                <Button\r\n                  size='sm'\r\n                  disabled={pendingTx}\r\n                  text={t.redeem}\r\n                  onClick={onPresentWithdraw}\r\n                >\r\n                  {!poolActive && (\r\n                    <Countdown\r\n                      date={new Date(startTime * 1000)}\r\n                      renderer={renderer}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </span>\r\n            </StyledText>\r\n          </StyledContainer>\r\n          <Spacer size='sm' />\r\n          <StyledContainer>\r\n              <StyledText>\r\n                <span>\r\n                    <Button\r\n                        size='sm'\r\n                        disabled={pendingTx}\r\n                        text={t.unclaimed + 'BENTO\\n' + getBalanceNumber(pendingRewrds)} \r\n                        onClick={async () => {\r\n                          setPendingTx(true)\r\n                          await onClaimMinedToken(farm.id)\r\n                          setPendingTx(false)\r\n                        }}\r\n                      >\r\n                      </Button>\r\n                </span>\r\n              </StyledText>\r\n          </StyledContainer>\r\n            <StyledInsight>\r\n              <span>APY</span>\r\n              <span>\r\n                {farm.apy\r\n                  ? `${farm.apy\r\n                      .times(new BigNumber(100))\r\n                      .toNumber()\r\n                      .toLocaleString('en-US')\r\n                      .slice(0, -1)}%`\r\n                  : 'Loading ...'}\r\n              </span>\r\n            </StyledInsight>\r\n        </CardContent>\r\n      </StyledBadge>\r\n      </Card>\r\n    </StyledCardWrapper>\r\n  )\r\n}\r\n\r\nconst RainbowLight = keyframes`\r\n  \r\n\t0% {\r\n\t\tbackground-position: 0% 50%;\r\n\t}\r\n\t50% {\r\n\t\tbackground-position: 100% 50%;\r\n\t}\r\n\t100% {\r\n\t\tbackground-position: 0% 50%;\r\n\t}\r\n`\r\n\r\nconst StyledCardAccent = styled.div`\r\n  background: linear-gradient(\r\n    45deg,\r\n    rgba(255, 0, 0, 1) 0%,\r\n    rgba(255, 154, 0, 1) 10%,\r\n    rgba(208, 222, 33, 1) 20%,\r\n    rgba(79, 220, 74, 1) 30%,\r\n    rgba(63, 218, 216, 1) 40%,\r\n    rgba(47, 201, 226, 1) 50%,\r\n    rgba(28, 127, 238, 1) 60%,\r\n    rgba(95, 21, 242, 1) 70%,\r\n    rgba(186, 12, 248, 1) 80%,\r\n    rgba(251, 7, 217, 1) 90%,\r\n    rgba(255, 0, 0, 1) 100%\r\n  );\r\n  background-size: 300% 300%;\r\n  animation: ${RainbowLight} 2s linear infinite;\r\n  border-radius: 12px;\r\n  filter: blur(6px);\r\n  position: absolute;\r\n  top: -2px;\r\n  right: -2px;\r\n  bottom: -2px;\r\n  left: -2px;\r\n  z-index: -1;\r\n`\r\n\r\nconst StyledCards = styled.div`\r\n  width: 900px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledLoadingWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n`\r\n\r\nconst StyledRow = styled.div`\r\n  display: flex;\r\n  margin-bottom: ${(props) => props.theme.spacing[4]}px;\r\n  flex-flow: row wrap;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  display: flex;\r\n  width: calc((900px - ${(props) => props.theme.spacing[4]}px * 2) / 3);\r\n  position: relative;\r\n`\r\n\r\nconst StyledTitle = styled.h4`\r\n  color: ${(props) => props.theme.color.grey[600]};\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  margin: ${(props) => props.theme.spacing[2]}px 0 0;\r\n  padding: 0;\r\n`\r\n\r\nconst StyledContent = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${(props) => props.theme.spacing[4]}px;\r\n  width: ${(props) => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledDetails = styled.div`\r\n  margin-top: ${(props) => props.theme.spacing[2]}px;\r\n  text-align: center;\r\n`\r\n\r\nconst StyledDetail = styled.div`\r\n  color: ${(props) => props.theme.color.grey[500]};\r\n`\r\n\r\nconst StyledInsight = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  background: #fffdfa;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  line-height: 32px;\r\n  font-size: 13px;\r\n  border: 1px solid #e6dcd5;\r\n  text-align: center;\r\n  padding: 0 12px;\r\n`\r\n\r\nconst StyledContainer = styled.div`\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  line-height: 32px;\r\n  font-size: 13px;\r\n  border: 1px solid #e6dcd5;\r\n  text-align: center;\r\n  padding: 0 12px;\r\n  `\r\n\r\nconst StyledText = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  line-height: 32px;\r\n  font-size: 13px;\r\n  text-align: center;\r\n`\r\n\r\nexport default FarmCards\r\n","import React from 'react'\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport womenChef from '../../assets/img/womenChef.png'\r\n\r\nimport Button from '../../components/Button'\r\nimport Page from '../../components/Page'\r\nimport PageHeader from '../../components/PageHeader'\r\nimport WalletProviderModal from '../../components/WalletProviderModal'\r\n\r\nimport useModal from '../../hooks/useModal'\r\n\r\nimport Farm from '../Farm'\r\n\r\nimport FarmCards from './components/FarmCards'\r\nimport { useI18n  } from 'use-i18n';\r\n\r\nconst Farms: React.FC = () => {\r\n  const t = useI18n();\r\n  const { path } = useRouteMatch()\r\n  const { account } = useWallet()\r\n  const [onPresentWalletProviderModal] = useModal(<WalletProviderModal />)\r\n  return (\r\n    <Switch>\r\n      <Page>\r\n        {!!account ? (\r\n          <>\r\n            <Route exact path={path}>\r\n              <PageHeader\r\n                icon={<img src={womenChef} height=\"120\" />}\r\n                subtitle={t.farm_subtitle}\r\n                title={t.farm_title}\r\n              />\r\n              <FarmCards />\r\n            </Route>\r\n            <Route path={`${path}/:farmId`}>\r\n              <Farm />\r\n            </Route>\r\n          </>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              alignItems: 'center',\r\n              display: 'flex',\r\n              flex: 1,\r\n              justifyContent: 'center',\r\n            }}\r\n          >\r\n          <Button\r\n            onClick={onPresentWalletProviderModal}\r\n            text=\"🔓 Unlock Wallet\"\r\n          />\r\n          </div>\r\n        )}\r\n      </Page>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Farms\r\n","import { useCallback, useContext } from 'react'\r\nimport { Context } from '../contexts/Modals'\r\n\r\nconst useModal = (modal: React.ReactNode, key?: string) => {\r\n  const { onDismiss, onPresent } = useContext(Context)\r\n\r\n  const handlePresent = useCallback(() => {\r\n    onPresent(modal, key)\r\n  }, [key, modal, onPresent])\r\n\r\n  return [handlePresent, onDismiss]\r\n}\r\n\r\nexport default useModal\r\n","import React from 'react'\r\n\r\ninterface SushiIconProps {\r\n  size?: number\r\n  v1?: boolean\r\n  v2?: boolean\r\n  v3?: boolean\r\n  meme?: string\r\n}\r\n\r\nconst SushiIcon: React.FC<SushiIconProps> = ({ size = 36, v1, v2, v3, meme }) => (\r\n  <span\r\n    role=\"img\"\r\n    style={{\r\n      fontSize: size,\r\n      filter: v1 ? 'saturate(0.5)' : undefined,\r\n    }}\r\n  >\r\n    {!!meme? meme: '🍱'}\r\n  </span>\r\n)\r\n\r\nexport default SushiIcon\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { provider } from 'web3-core'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { getBentoMinerContract, getBentoTotalSupply } from '../bento/utils'\r\nimport useBento from './useBento'\r\nimport useBlock from './useBlock'\r\n\r\nconst useBentoSupply = () => {\r\n  const [balance, setBalance] = useState(new BigNumber(0))\r\n  const { account, ethereum }: { account: string; ethereum: provider } = useWallet()\r\n  const bento = useBento()\r\n  const bentoMinerContract = getBentoMinerContract(bento)\r\n  const block = useBlock()\r\n\r\n  const fetchSupply = useCallback(async () => {\r\n    const balance = await getBentoTotalSupply(bento)\r\n    console.log('balancebalancebalance:', balance.toNumber())\r\n    setBalance(balance)\r\n  }, [account, bentoMinerContract, bento, ethereum])\r\n\r\n  useEffect(() => {\r\n    if (account && bentoMinerContract && bento) {\r\n      fetchSupply()\r\n    }\r\n  }, [account, block, bentoMinerContract, setBalance, bento, ethereum])\r\n\r\n  return balance\r\n}\r\n\r\nexport default useBentoSupply\r\n","import { useCallback, useEffect, useState, useRef } from 'react'\r\nimport { provider } from 'web3-core'\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { getBentoMinerContract, getGovTotalSupply, getGovs } from '../bento/utils'\r\nimport useBento from './useBento'\r\nimport useBlock from './useBlock'\r\n\r\nexport interface GovValue {\r\n  name: string\r\n  icon: string,\r\n  size: number,\r\n  govTotalStake: BigNumber,\r\n}\r\nconst useAllGovTokenStake = () => {\r\n  const iconSize = [85, 75, 65, 55, 47]\r\n  const _isMounted = useRef(true);\r\n  const [govValues, setGovValues] = useState([] as Array<GovValue>)\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const bento = useBento()\r\n  const bentoMinerContract = getBentoMinerContract(bento)\r\n  const block = useBlock()\r\n  const govs = getGovs(bento)\r\n\r\n  const fetchAllGovTotalSupply = useCallback(async () => {\r\n    if(!_isMounted.current) return\r\n    let govValues: Array<GovValue> = await Promise.all(\r\n      govs.map(\r\n        async ({\r\n          govContract,\r\n          name,\r\n          icon\r\n        }: {\r\n          govContract: Contract\r\n          name: string\r\n          icon: string\r\n        }) => {\r\n          return {\r\n            name,\r\n            icon,\r\n            govTotalStake: await getGovTotalSupply(govContract),\r\n          }\r\n        },\r\n      ),\r\n    )\r\n    govValues.sort((gov1, gov2) => gov2.govTotalStake.toNumber() - gov1.govTotalStake.toNumber())\r\n    govValues = govValues.map((gov, index) => {\r\n      return {\r\n        ...gov,\r\n        size: index < 5 ? iconSize[index] : 36\r\n      }\r\n    })\r\n    setGovValues(govValues)\r\n  }, [account, bentoMinerContract, bento])\r\n\r\n  useEffect(() => {\r\n    if (bentoMinerContract) {\r\n      fetchAllGovTotalSupply()\r\n    }\r\n    return () => {\r\n      _isMounted.current = false\r\n    }\r\n  }, [account, block, bentoMinerContract, bento])\r\n\r\n  return govValues\r\n}\r\n\r\nexport default useAllGovTokenStake\r\n","import { useCallback, useEffect, useState } from 'react'\r\nimport { provider } from 'web3-core'\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport {  getGovTotalSupply, getGovs, getCastingVoteByContract } from '../bento/utils'\r\nimport useBento from './useBento'\r\nimport useBlock from './useBlock'\r\n\r\nexport interface IVote {\r\n  proposal_id: string,\r\n  originator: string,\r\n  endAtBlockNumber: number,\r\n  nowBentosInVote: BigNumber,\r\n  trueoptionVotes: number,\r\n  falseOptionVotes: number,\r\n  stateNow: number,\r\n  name: string,\r\n  icon: string,\r\n}\r\nconst useVotes = () => {\r\n  const [votes, setVotes] = useState([] as Array<IVote>)\r\n  \r\n  const bento = useBento()\r\n  const wallet = useWallet()\r\n  const block = useBlock()\r\n  const account  = wallet.account\r\n\r\n  const govs = getGovs(bento)\r\n\r\n  const fetchVotes = useCallback(async () => {\r\n    let votes: Array<IVote> = []\r\n    await Promise.all(\r\n      govs.map(\r\n        async ({\r\n          govContract,\r\n          name,\r\n          icon,\r\n          pid,\r\n        }: {\r\n          govContract: Contract\r\n          name: string\r\n          icon: string\r\n          pid: number\r\n        }) => {\r\n          if(pid === 0) return\r\n          // @ts-ignore\r\n          let vote = await getCastingVoteByContract(govContract, await bento.web3.eth.getBlockNumber())\r\n\r\n          vote.map( (_vote) => {\r\n            votes.push({\r\n              ..._vote,\r\n              name,\r\n              icon,\r\n            })\r\n          })\r\n        },\r\n      ))\r\n    //console.log('votes:', votes)\r\n    votes = votes.sort((vote1, vote2) => vote2.nowBentosInVote.toNumber() - vote1.nowBentosInVote.toNumber())\r\n    setVotes(votes)\r\n  }, [account, bento])\r\n\r\n  useEffect(() => {\r\n    if (bento && account) {\r\n      fetchVotes()\r\n    }\r\n  }, [account, block, setVotes, bento, govs])\r\n\r\n  return votes\r\n}\r\n\r\nexport default useVotes\r\n","import BigNumber from 'bignumber.js'\r\nimport React, { useEffect, useState, useCallback } from 'react'\r\nimport CountUp from 'react-countup'\r\nimport styled, { AnyStyledComponent } from 'styled-components'\r\nimport { useWallet } from 'use-wallet'\r\nimport Card from '../../../components/Card'\r\nimport CardContent from '../../../components/CardContent'\r\nimport Label from '../../../components/Label'\r\nimport Spacer from '../../../components/Spacer'\r\nimport Value from '../../../components/Value'\r\nimport BentoIcon from '../../../components/BentoIcon'\r\nimport useBentoSupply from '../../../bento_hooks/useBentoSupply'\r\nimport usePendingRewards from '../../../bento_hooks/usePendingRewards'\r\nimport useAllGovTokenStake from '../../../bento_hooks/useAllGovTokenStake'\r\nimport useBlock from '../../../bento_hooks/useBlock'\r\nimport { default as useVotes, IVote } from '../../../bento_hooks/useVotes'\r\nimport useBentoBalance from '../../../bento_hooks/useBentoBalance'\r\nimport useGovTokenStake from '../../../bento_hooks/useGovTokenStake'\r\nimport useBentoTotalBurned from '../../../bento_hooks/useBentoTotalBurned'\r\nimport useAllStakedValue from '../../../bento_hooks/useAllStakedValue'\r\nimport useFarms from '../../../bento_hooks/useFarms'\r\nimport useTokenBalance from '../../../bento_hooks/useTokenBalance'\r\nimport useBento from '../../../bento_hooks/useBento'\r\nimport { getBentoAddress, getBentoSupply } from '../../../bento/utils'\r\nimport { getBalanceNumber } from '../../../utils/formatBalance'\r\nimport { useI18n } from 'use-i18n'\r\nimport Button from '../../../components/Button'\r\nimport Logo from '../../../components/Logo'\r\nimport { govCastVote, getBentoMinerContract, getCastingVoteByContract, govLaunchVote, depositBento2Miner } from '../../../bento/utils'\r\nconst PendingRewards: React.FC = () => {\r\n  const t = useI18n()\r\n  const [start, setStart] = useState(0)\r\n  const [end, setEnd] = useState(0)\r\n  const [scale, setScale] = useState(1)\r\n\r\n  const pendingRewards = getBalanceNumber(usePendingRewards())\r\n\r\n  useEffect(() => {\r\n    setStart(end)\r\n    setEnd(pendingRewards)\r\n  }, [pendingRewards])\r\n\r\n  return (\r\n    <span\r\n      style={{\r\n        transform: `scale(${scale})`,\r\n        transformOrigin: 'right bottom',\r\n        transition: 'transform 0.5s',\r\n        display: 'inline-block',\r\n      }}\r\n    >\r\n      {/* supply数字增长效果 */}\r\n      <CountUp\r\n        start={start}\r\n        end={end}\r\n        decimals={end < 0 ? 4 : end > 1e5 ? 0 : 3}\r\n        duration={1}\r\n        onStart={() => {\r\n          setScale(1.25)\r\n          setTimeout(() => setScale(1), 600)\r\n        }}\r\n        separator=\",\"\r\n      />\r\n    </span>\r\n  )\r\n}\r\n\r\nconst Balances: React.FC = () => {\r\n\r\n  const t = useI18n()\r\n  const [pid, setPid] = useState(0)\r\n  const [depositAmount, setDepositAmount] = useState(0)\r\n  const block = useBlock()\r\n  const bento = useBento()\r\n  const bentoMiner = getBentoMinerContract(bento)\r\n  const bentoBalance = useBentoBalance()\r\n  //const bentoBurned = useBentoTotalBurned()\r\n  //console.log('bentoBurned:', bentoBurned.toNumber())\r\n  const { account, ethereum }: { account: any; ethereum: any } = useWallet()\r\n  const start = 0\r\n  const end = 9837284.478278\r\n  const totalSupply = useBentoSupply()\r\n  // const napSupply = useGovTokenStake()\r\n  const govRows = useAllGovTokenStake()\r\n  const votes = useVotes()\r\n  const [val, setVal] = useState('')\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      setVal(e.currentTarget.value)\r\n    },\r\n    [setVal],\r\n  )\r\n\r\n\r\n  return (\r\n    <>\r\n      <StyledWrapper>\r\n        <Card>\r\n          <CardContent>\r\n            <StyledBalances>\r\n              {/* <BentoIcon /> */}\r\n              {/* <Spacer /> */}\r\n              <div style={{ flex: 1 }}>\r\n                <Label text={t.bentoBalance} />\r\n                <Value\r\n                  value={!!account ? getBalanceNumber(bentoBalance) : t.locked}\r\n                />\r\n              </div>\r\n              <ButtonStyle>\r\n                <Button text={`${t.mining}`} to=\"/farms\" variant=\"default\" size=\"md\" />\r\n              </ButtonStyle>\r\n            </StyledBalances>\r\n          </CardContent>\r\n          <Footnote>\r\n            {t.pending}\r\n            <FootnoteValue>\r\n              <PendingRewards /> BENTO\r\n          </FootnoteValue>\r\n          </Footnote>\r\n        </Card>\r\n        <Spacer />\r\n\r\n        <Card>\r\n          <CardContent>\r\n            <StyledBalances>\r\n              <div style={{ flex: 1 }}>\r\n                <Label text={t.bentoSupply} />\r\n                <Value\r\n                  value={totalSupply.toNumber() ? getBalanceNumber(totalSupply) : t.locked}\r\n                />\r\n              </div>\r\n              <ButtonStyle>\r\n                <Button text={`${t.buy}`} href=\"https://app.uniswap.org/#/swap\" variant=\"default\" size=\"md\" />\r\n              </ButtonStyle>\r\n            </StyledBalances>\r\n          </CardContent>\r\n          <Footnote>\r\n            {t.newRewards}\r\n            <FootnoteValue>64 BENTO</FootnoteValue>\r\n          </Footnote>\r\n        </Card>\r\n      </StyledWrapper>\r\n\r\n      <Spacer size=\"lg\" />\r\n\r\n      <StyledWrapper>\r\n        <Card>\r\n          <CardContent>\r\n            <StyledBalances>\r\n\r\n              <div style={{ flex: 1 }}>\r\n                <StyledTitle>\r\n                  <Label text={t.votingPower} />\r\n                </StyledTitle>\r\n\r\n              </div>\r\n\r\n            </StyledBalances>\r\n            <StyledPools>\r\n\r\n              {govRows.map((farm, j) => (\r\n                <React.Fragment key={j}>\r\n                  <Pool name={farm.name} size={farm.size} govTotalStake={getBalanceNumber(farm.govTotalStake)} icon={farm.icon} />\r\n                </React.Fragment>\r\n              ))}\r\n\r\n              <StyledPool>\r\n                <StyledFlex>\r\n                  <BentoIcon size={75} meme={'🍤'} />\r\n                  <StyledSubtitle>COMP</StyledSubtitle>\r\n                </StyledFlex>\r\n                <StyledSubtitle>\r\n                  88888\r\n                </StyledSubtitle>\r\n              </StyledPool>\r\n\r\n              <StyledPool>\r\n                <StyledFlex>\r\n                  <BentoIcon size={61} meme={'🥩'} />\r\n                  <StyledSubtitle>UNI</StyledSubtitle>\r\n                </StyledFlex>\r\n                <StyledSubtitle>\r\n                  99999\r\n                </StyledSubtitle>\r\n              </StyledPool>\r\n\r\n              <StyledPool>\r\n                <StyledFlex>\r\n                  <BentoIcon size={52} meme={'🍙'} />\r\n                  <StyledSubtitle>AAVE</StyledSubtitle>\r\n                </StyledFlex>\r\n                <StyledSubtitle>\r\n                  7777\r\n                </StyledSubtitle>\r\n              </StyledPool>\r\n\r\n              <StyledPool>\r\n                <StyledFlex>\r\n                  <BentoIcon meme={'🍔'} />\r\n                  <StyledSubtitle>MKR</StyledSubtitle>\r\n                </StyledFlex>\r\n                <StyledSubtitle>\r\n                  6666\r\n                </StyledSubtitle>\r\n              </StyledPool>\r\n\r\n\r\n            </StyledPools>\r\n          </CardContent>\r\n          <Footnote>\r\n            <Button text={`${t.stake}`} href=\"https://app.uniswap.org/#/swap\" variant=\"default\" size=\"md\" />\r\n\r\n          </Footnote>\r\n        </Card>\r\n        <Spacer />\r\n\r\n        <Card>\r\n          <CardContent>\r\n            <StyledBalances>\r\n              <div style={{ flex: 1 }}>\r\n                <StyledTitle>\r\n                  <Label text={`🔥${t.burnedToken} $BENTO`} />\r\n                  <Value value={t.locked} />\r\n                </StyledTitle>\r\n\r\n              </div>\r\n            </StyledBalances>\r\n            <StyledAuctionEntrys>\r\n              <Spacer size=\"sm\" />\r\n              <StyledSubtitle>\r\n                <Label text={`${t.auctioning}`} />\r\n              </StyledSubtitle>\r\n              <Spacer size=\"sm\"></Spacer>\r\n\r\n              {votes.map((vote, j) => (\r\n                <React.Fragment key={j}>\r\n                  <Vote vote={vote} />\r\n                </React.Fragment>\r\n              ))}\r\n\r\n              <StyledAuctionEntry>\r\n                <StyledAuctionEntryName>\r\n                  <Label text=\"vote id\" />\r\n                </StyledAuctionEntryName>\r\n                <Spacer></Spacer>\r\n                <StyledAuctionEntryContent>\r\n                  <input onChange={handleChange} />\r\n                </StyledAuctionEntryContent>\r\n                <Spacer size=\"sm\"></Spacer>\r\n                <StyledAuctionEntryContent>\r\n                  <Button onClick={() => {\r\n                    govLaunchVote(bento, val, account)\r\n                  }} text=\"launch vote\"/>\r\n                </StyledAuctionEntryContent>\r\n              </StyledAuctionEntry>\r\n            </StyledAuctionEntrys>\r\n          </CardContent>\r\n          <Footnote>\r\n            <Button text={`${t.buy}`} href=\"https://app.uniswap.org/#/swap\" variant=\"default\" size=\"md\" />\r\n          </Footnote>\r\n        </Card>\r\n      </StyledWrapper>\r\n    </>\r\n  )\r\n}\r\n\r\n\r\ninterface IFarm {\r\n  name: string\r\n  icon: string,\r\n  size: number,\r\n  govTotalStake: number,\r\n}\r\n\r\nexport interface Vote {\r\n  vote: IVote\r\n}\r\n\r\nconst Vote: React.FC<Vote> = ({ vote }) => {\r\n  return (\r\n    <>\r\n      <StyledAuctionEntry>\r\n        <StyledAuctionEntryName>\r\n          <Label text={`${vote.name} ${vote.proposal_id}`} />\r\n        </StyledAuctionEntryName>\r\n        <Spacer></Spacer>\r\n        <StyledAuctionEntryContent>\r\n          <Label text=\"$BENTO\"></Label>\r\n        </StyledAuctionEntryContent>\r\n        <Spacer size=\"sm\"></Spacer>\r\n        <StyledAuctionEntryContent>\r\n          <Label text={getBalanceNumber(vote.nowBentosInVote).toString()} />\r\n        </StyledAuctionEntryContent>\r\n      </StyledAuctionEntry>\r\n      <Spacer size=\"sm\"></Spacer>\r\n    </>\r\n  )\r\n}\r\nconst Pool: React.FC<IFarm> = ({ name, icon, size, govTotalStake }) => {\r\n  return (\r\n    <StyledPool>\r\n      <StyledFlex>\r\n        <BentoIcon meme={icon} size={size} />\r\n        <StyledSubtitle>{name}</StyledSubtitle>\r\n      </StyledFlex>\r\n      <StyledSubtitle>\r\n        {govTotalStake}\r\n      </StyledSubtitle>\r\n    </StyledPool>\r\n  )\r\n\r\n}\r\n\r\nconst ButtonStyle = styled.div`\r\n  width: 30%\r\n`\r\n\r\nconst StyledAuctionEntrys = styled.div`\r\nmargin-top: 10px;\r\n  border-top: 2px solid #e6dcd5;\r\n`\r\n\r\n\r\nconst StyledAuctionEntry = styled.div`\r\ndisplay: flow;\r\n  border: 1px solid #e6dcd5;\r\n  border-radius: 8px;\r\n  background: #ffffff;\r\n  padding: 0px 1px 0px 8px;\r\n`\r\n\r\nconst StyledPools = styled.div`\r\n  margin-top: 19px;\r\n`\r\n\r\nconst StyledPool = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  background: #fffdfa;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  margin-top: 13px;\r\n  line-height: 32px;\r\n  font-size: 13px;\r\n  border: 1px solid #e6dcd5;\r\n  text-align: center;\r\n  padding: 0 12px;\r\n`\r\n\r\n\r\nconst StyledFlex = styled.div`\r\n  display: flow;\r\n`\r\n\r\nconst StyledLogoWrapper = styled.div`\r\n  width: 260px;\r\n  @media (max-width: 400px) {\r\n    width: auto;\r\n  }\r\n`\r\nconst StyledIcon = styled.div`\r\n  font-size: 120px;\r\n  height: 120px;\r\n  line-height: 120px;\r\n  text-align: center;\r\n  width: 120px;\r\n`\r\n\r\nconst StyledAuctionEntryContent = styled.h3`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  font-size: 18px;\r\n  font-weight: 400;\r\n  text-align: right;\r\n  margin-let: 10px;\r\n  width: 20%;\r\n`\r\nconst StyledAuctionEntryName = styled.h3`\r\n  color: ${(props) => props.theme.color.black[400]};\r\n  font-size: 18px;\r\n  font-weight: 600;\r\n  text-align: left;\r\n  width: 40%;\r\n`\r\n\r\nconst StyledSubtitle = styled.h3`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  font-size: 18px;\r\n  font-weight: 400;\r\n  margin: 0;\r\n  padding: 0;\r\n`\r\n\r\nconst StyledInsight = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  background: #fffdfa;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  line-height: 32px;\r\n  font-size: 13px;\r\n  border: 1px solid #e6dcd5;\r\n  text-align: center;\r\n  padding: 0 12px;\r\n`\r\n\r\nconst StyledTitle = styled.h1`\r\n  font-family: Verdana, Geneva, sans-serif;\r\n  color: ${(props) => props.theme.color.grey[600]};\r\n  font-size: 25px;\r\n  font-weight: 540;\r\n  margin: 0;\r\n  padding: 0;\r\n`\r\n\r\nconst Footnote = styled.div`\r\n  font-size: 14px;\r\n  padding: 8px 20px;\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  border-top: solid 1px ${(props) => props.theme.color.grey[300]};\r\n`\r\nconst FootnoteValue = styled.div`\r\n  font-family: 'Roboto Mono', monospace;\r\n  float: right;\r\n`\r\n\r\nconst StyledWrapper = styled.div`\r\n  align-items: top;\r\n  display: flex;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: stretch;\r\n  }\r\n`\r\n\r\nconst StyledBalances = styled.div`\r\n  display: flex;\r\n`\r\n\r\nconst StyledBalance = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n`\r\n\r\nexport default Balances\r\n","import React from 'react'\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\r\nimport styled from 'styled-components'\r\nimport WalletProviderModal from '../../components/WalletProviderModal'\r\nimport womenChef from '../../assets/img/womenChef.png'\r\nimport Button from '../../components/Button'\r\nimport Container from '../../components/Container'\r\nimport Page from '../../components/Page'\r\nimport PageHeader from '../../components/PageHeader'\r\nimport Spacer from '../../components/Spacer'\r\nimport useModal from '../../bento_hooks/useModal'\r\nimport Bento_Balances from './components/Bento_Balances'\r\nimport { useI18n } from 'use-i18n';\r\nimport { useWallet } from 'use-wallet'\r\n\r\nconst Home: React.FC = () => {\r\n  const t = useI18n()\r\n  const { account } = useWallet()\r\n  const [onPresentWalletProviderModal] = useModal(<WalletProviderModal />)\r\n  return (\r\n    <Switch>\r\n      <Page>\r\n        {!!account ? (\r\n          <>\r\n            <PageHeader\r\n              icon={<img src={womenChef} height={120} />}\r\n              title={t.title}\r\n              subtitle={t.subtitle}\r\n              content={t.content}\r\n            />\r\n\r\n            <Container>\r\n              {/* <Balances />  */}\r\n              <Bento_Balances />\r\n            </Container>\r\n          </>\r\n        ) : (\r\n            <div\r\n              style={{\r\n                alignItems: 'center',\r\n                display: 'flex',\r\n                flex: 1,\r\n                justifyContent: 'center',\r\n              }}\r\n            >\r\n              <Button\r\n                onClick={onPresentWalletProviderModal}\r\n                text=\"🔓 Unlock Wallet\"\r\n              />\r\n            </div>\r\n          )}\r\n      </Page>\r\n    </Switch>\r\n\r\n  )\r\n}\r\n\r\nconst StyledInfo = styled.h3`\r\n  color: ${(props) => props.theme.color.grey[500]};\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  margin: 0;\r\n  padding: 0;\r\n  text-align: center;\r\n\r\n  > b {\r\n    color: ${(props) => props.theme.color.grey[600]};\r\n  }\r\n`\r\n\r\nexport default Home\r\n","import React, { useEffect } from 'react'\r\nimport styled from 'styled-components'\r\nimport chef from '../../assets/img/chef.png'\r\n\r\nimport { useParams } from 'react-router-dom'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\n\r\nimport Page from '../../components/Page'\r\nimport Button from '../../components/Button'\r\nimport PageHeader from '../../components/PageHeader'\r\nimport WalletProviderModal from '../../components/WalletProviderModal'\r\n\r\nimport useModal from '../../hooks/useModal'\r\n\r\nimport useSushi from '../../hooks/useSushi'\r\nimport useFarm from '../../hooks/useFarm'\r\nimport useRedeem from '../../hooks/useRedeem'\r\nimport { getContract } from '../../utils/erc20'\r\nimport { getMasterChefContract } from '../../sushi/utils'\r\n\r\nimport Harvest from './components/Harvest'\r\nimport Stake from './components/Stake'\r\n\r\nconst Farm: React.FC = () => {\r\n  const { account } = useWallet()\r\n  const [onPresentWalletProviderModal] = useModal(<WalletProviderModal />)\r\n\r\n  useEffect(() => {\r\n    window.scrollTo(0, 0)\r\n  }, [])\r\n\r\n  const sushi = useSushi()\r\n  const { ethereum } = useWallet()\r\n\r\n  // const lpContract = useMemo(() => {\r\n  //   return getContract(ethereum as provider, lpTokenAddress)\r\n  // }, [ethereum, lpTokenAddress])\r\n\r\n  // const { onRedeem } = useRedeem(getMasterChefContract(sushi))\r\n\r\n  // const lpTokenName = useMemo(() => {\r\n  //   return lpToken.toUpperCase()\r\n  // }, [lpToken])\r\n\r\n  // const earnTokenName = useMemo(() => {\r\n  //   return earnToken.toUpperCase()\r\n  // }, [earnToken])\r\n\r\n  return (\r\n    <Page>\r\n      {!!account ? (\r\n        <>\r\n          <PageHeader\r\n            icon={<img src={chef} height=\"120\" />}\r\n            title=\"Stake Sushi Tokens & Earn Fees\"\r\n            subtitle=\"0.05% of all SushiSwap trades are rewarded to SUSHI stakers\"\r\n          />\r\n          {/* <FarmCards /> */}\r\n          <div>TBD</div>\r\n        </>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            alignItems: 'center',\r\n            display: 'flex',\r\n            flex: 1,\r\n            justifyContent: 'center',\r\n          }}\r\n        >\r\n          <Button\r\n            onClick={onPresentWalletProviderModal}\r\n            text=\"🔓 Unlock Wallet\"\r\n          />\r\n        </div>\r\n      )}\r\n    </Page>\r\n  )\r\n}\r\n\r\nconst StyledFarm = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledCardsWrapper = styled.div`\r\n  display: flex;\r\n  width: 600px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  display: flex;\r\n  flex: 1;\r\n  flex-direction: column;\r\n  @media (max-width: 768px) {\r\n    width: 80%;\r\n  }\r\n`\r\n\r\nconst StyledInfo = styled.h3`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  font-size: 16px;\r\n  font-weight: 400;\r\n  margin: 0;\r\n  padding: 0;\r\n  text-align: center;\r\n`\r\n\r\nexport default Farm\r\n","import React from 'react'\r\nimport styled from 'styled-components'\r\n\r\nconst Box = styled.div({})\r\n\r\nconst Card = styled(Box)<{ padding?: string; border?: string; borderRadius?: string }>`\r\n  width: 100%;\r\n  border-radius: 16px;\r\n  padding: 1.25rem;\r\n  padding: ${({ padding }) => padding};\r\n  border: ${({ border }) => border};\r\n  border-radius: ${({ borderRadius }) => borderRadius};\r\n`\r\nexport default Card\r\n\r\nexport const LightCard = styled(Card)`\r\n  border: 1px solid ${({ theme }) => theme.bg2};\r\n  background-color: ${({ theme }) => theme.bg1};\r\n`\r\n\r\nexport const GreyCard = styled(Card)`\r\n  background-color: ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const OutlineCard = styled(Card)`\r\n  border: 1px solid ${({ theme }) => theme.bg3};\r\n`\r\n\r\nexport const YellowCard = styled(Card)`\r\n  background-color: rgba(243, 132, 30, 0.05);\r\n  color: ${({ theme }) => theme.yellow2};\r\n  font-weight: 500;\r\n`\r\n\r\nexport const PinkCard = styled(Card)`\r\n  background-color: rgba(255, 0, 122, 0.03);\r\n  color: ${({ theme }) => theme.primary1};\r\n  font-weight: 500;\r\n`\r\n\r\nconst BlueCardStyled = styled(Card)`\r\n  background-color: ${({ theme }) => theme.primary5};\r\n  color: ${({ theme }) => theme.primary1};\r\n  border-radius: 12px;\r\n  width: fit-content;\r\n`\r\n","import { useCallback, useEffect, useState, useRef } from 'react'\r\nimport { provider } from 'web3-core'\r\nimport { Contract } from 'web3-eth-contract'\r\n\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { getProposalsEvent, getVoteCreatedEvent, getGovs, totalGovTokensLocked, getVoteObjectInfo } from '../bento/utils'\r\nimport useBento from './useBento'\r\nimport useBlock from './useBlock'\r\n\r\nexport interface Auction {\r\n  proposalId: number\r\n  auctionName: string\r\n  proposalDescription: string\r\n  Proposer: string\r\n  proposalStartBlock: number\r\n  proposalEndBlock: number\r\n  totalVotes: BigNumber\r\n  totalBentoInVote: BigNumber\r\n  endAtBlockNumber: number\r\n  auctionForVotes: BigNumber\r\n  auctionAgainstVotes: BigNumber\r\n  auctionState: number\r\n  auctionResult: boolean\r\n  auctionOriginator: string\r\n  govContract: Contract\r\n}\r\nconst useAuctions = () => {\r\n  // const _isMounted = useRef(true);\r\n  const [auctions, setAuctions] = useState([] as Array<Auction>)\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const bento = useBento()\r\n  const block = useBlock()\r\n  const govs = getGovs(bento)\r\n\r\n  const fetchAuctions = useCallback(async () => {\r\n    // if(!_isMounted.current) return\r\n    let auctions: Array<Auction> = await Promise.all(\r\n      govs.filter( gov => gov.pid !== 0)\r\n      .map(\r\n        async ({\r\n          govContract,\r\n          originalGovContract,\r\n          name,\r\n          icon\r\n        }) => {\r\n          //@ts-ignore\r\n          const _block = await bento.web3.eth.getBlockNumber()\r\n          console.log('_block:', _block)\r\n          const votes = await getVoteCreatedEvent(govContract, _block)\r\n          console.log('votes:', votes)\r\n          const totalVotes = await totalGovTokensLocked(govContract)\r\n          console.log('totalVotes:', totalVotes)\r\n          let proposals = await getProposalsEvent(originalGovContract, name, _block)\r\n          console.log('proposals:', proposals)\r\n          proposals = proposals.filter( p => {\r\n            let flag = false\r\n            for(let i in votes){\r\n              if(votes[i].Proposalid === p.id){\r\n                  flag = true\r\n                  break\r\n              }\r\n            }\r\n            return flag\r\n          })\r\n\r\n          console.log('proposals:', proposals)\r\n          \r\n          const _auctions = Promise.all(proposals.map( async(p, i) => {\r\n            let auction\r\n            const voteInfo = await getVoteObjectInfo(govContract, votes[i].Proposalid)\r\n            auction= {\r\n              proposalId: p.id,\r\n              auctionName: `${name} ${p.id}`,\r\n              proposalDescription: p.description,\r\n              Proposer: p.proposer.toString(),\r\n              proposalStartBlock: p.startBlock,\r\n              proposalEndBlock: p.endBlock,\r\n              totalVotes: totalVotes,\r\n              totalBentoInVote: new BigNumber(voteInfo.nowBentosInVote),\r\n              endAtBlockNumber: votes[i].endAtBlockNumber - _block,\r\n              auctionForVotes: voteInfo.trueOptionVotes? new BigNumber(voteInfo.trueOptionVotes): new BigNumber(0),\r\n              auctionAgainstVotes: voteInfo.falseOptionVotes? new BigNumber(voteInfo.falseOptionVotes): new BigNumber(0),\r\n              auctionState: voteInfo.stateNow,\r\n              auctionResult: voteInfo.voteResult,\r\n              auctionOriginator: voteInfo.originator.toString(),\r\n              govContract\r\n            }\r\n            console.log('auctionForVotes:', auction.auctionForVotes)\r\n            console.log('auctionAgainstVotes:', auction.auctionAgainstVotes)\r\n            console.log('height :', `${(auction.auctionForVotes.div(auction.auctionForVotes.plus(auction.auctionAgainstVotes)).times(new BigNumber(100)))\r\n              .toNumber()\r\n              .toLocaleString('en-US')\r\n              .slice(0, -1)}%`)\r\n            return auction\r\n          }))\r\n\r\n\r\n          return _auctions\r\n        },\r\n      ),\r\n    )\r\n   \r\n    setAuctions(auctions.flat())\r\n  }, [account, bento, setAuctions])\r\n\r\n  useEffect(() => {\r\n    if (bento) {\r\n      console.log('bento:', bento)\r\n      fetchAuctions()\r\n    }\r\n    // return () => {\r\n    //   _isMounted.current = false\r\n    // }\r\n  }, [account, block, bento])\r\n\r\n  return auctions\r\n}\r\n\r\nexport default useAuctions\r\n","import { useCallback } from 'react'\r\n\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport { voteOption } from '../bento/utils'\r\nimport { Auction } from './useAuctions'\r\n\r\n  const useVote = (auction:Auction ) => {\r\n    const { account } = useWallet()\r\n  \r\n    const handleVote = useCallback(\r\n      async (support:boolean, amount: string) => {\r\n  \r\n        return await voteOption(\r\n          auction.govContract, \r\n          auction.proposalId, \r\n          support, \r\n          amount,\r\n          account\r\n        )\r\n        .then((rst) => {\r\n          return rst\r\n        })\r\n      },\r\n      [account],\r\n    )\r\n  \r\n    return { onVote: handleVote }\r\n}\r\n\r\nexport default useVote\r\n","import { useCallback, useState } from 'react'\r\nimport useBento from './useBento'\r\nimport { useWallet } from 'use-wallet'\r\nimport { provider } from 'web3-core'\r\nimport { approveBento } from '../bento/utils'\r\n\r\n\r\nconst useApprove = (govAddress) => {\r\n  const [result, setResult] = useState(false)\r\n  const { account }: { account: string; ethereum: provider } = useWallet()\r\n  const bento = useBento()\r\n\r\n  const handleApprove = useCallback(async (amount: string) => {\r\n      //@ts-ignore\r\n      return await approveBento(bento.contracts.bento , govAddress, account, amount).then((result) => {\r\n        console.log('result in useAppve', result)\r\n        return (result)\r\n      }) \r\n  }, [result, account, setResult, bento])\r\n\r\n  return { onApprove: handleApprove }\r\n}\r\n\r\nexport default useApprove\r\n","import BigNumber from 'bignumber.js'\r\nimport React, { useCallback, useMemo, useState, useContext } from 'react'\r\nimport Button from '../../../components/Button'\r\nimport Modal, { ModalProps } from '../../../components/Modal'\r\nimport ModalActions from '../../../components/ModalActions'\r\nimport ModalTitle from '../../../components/ModalTitle'\r\nimport TokenInput from '../../../components/TokenInput'\r\nimport { getFullDisplayBalance } from '../../../utils/formatBalance'\r\nimport { useI18n  } from 'use-i18n';\r\nimport { Contract } from 'web3-eth-contract';\r\n\r\ninterface DepositModalProps extends ModalProps {\r\n  max: BigNumber\r\n  onConfirm: (support: boolean, amount: string) => Promise<any>\r\n  onApprove: (amount: string) => Promise<any>\r\n  tokenName?: string\r\n  support?: boolean\r\n}\r\n\r\nconst DepositModal: React.FC<DepositModalProps> = ({\r\n  max,\r\n  onConfirm,\r\n  onApprove,\r\n  onDismiss,\r\n  tokenName = '',\r\n  support\r\n}) => {\r\n  const t = useI18n();\r\n\r\n  const [val, setVal] = useState('1')\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n  const [approved, setApproved] = useState(false)\r\n\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max)\r\n  }, [max])\r\n\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      setVal(e.currentTarget.value)\r\n    },\r\n    [setVal],\r\n  )\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance)\r\n  }, [fullBalance, setVal])\r\n\r\n  console.log('support:', support)\r\n  return (\r\n    <Modal>\r\n      <ModalTitle text={`${t.deposit} ${tokenName}`} />\r\n      <TokenInput\r\n        value={val}\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n      />\r\n      <ModalActions>\r\n        <Button \r\n          text={t.cancel} \r\n          variant=\"secondary\" \r\n          onClick={async () => {\r\n            onDismiss()\r\n           }} \r\n        />\r\n\r\n        {!approved \r\n          ? \r\n          <Button \r\n            disabled={pendingTx}\r\n            text={t.approval} \r\n            variant=\"secondary\" \r\n            onClick={() => {\r\n              setPendingTx(true)\r\n              onApprove(val).then((result) => {\r\n                if (result === true) {\r\n                  setApproved(true)\r\n                } \r\n\r\n                setPendingTx(false)\r\n              })\r\n          }} \r\n        />\r\n        :\r\n        <Button\r\n          disabled={pendingTx}\r\n          text={pendingTx ? t.pending_confirmation : t.auction_bid}\r\n          onClick={async () => {\r\n            setPendingTx(true)\r\n            onConfirm(support, val).then((result) => {\r\n              if (result && result.transactionHash && result.transactionHash.length > 0) {\r\n                console.log('deposit successfully txHash: ', result.transactionHash)\r\n                setPendingTx(false)\r\n                onDismiss()\r\n              }\r\n              setPendingTx(false)\r\n            })\r\n          }}\r\n        />\r\n        }\r\n      </ModalActions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default DepositModal\r\n","import { useCallback, useContext } from 'react'\r\nimport { Context } from '../contexts/Modals'\r\n\r\nconst useModal = (modal: React.ReactNode, key?: string) => {\r\n  const { onDismiss, onPresent } = useContext(Context)\r\n\r\n  const handlePresent = useCallback((support) => {\r\n    onPresent(modal, key, support)\r\n  }, [key, modal, onPresent])\r\n\r\n  return [handlePresent, onDismiss]\r\n}\r\n\r\nexport default useModal\r\n","import BigNumber from 'bignumber.js'\r\nimport { tmpdir } from 'os'\r\nimport React, { useEffect, useState, useCallback, createContext } from 'react'\r\nimport Countdown, { CountdownRenderProps } from 'react-countdown'\r\nimport styled, { keyframes } from 'styled-components'\r\nimport { useWallet } from 'use-wallet'\r\nimport Button, { StyledMiniButton } from '../../../components/Button'\r\nimport CardContent from '../../../components/CardContent'\r\nimport Loader from '../../../components/Loader'\r\nimport Spacer from '../../../components/Spacer'\r\nimport { bnToDec } from '../../../utils'\r\nimport { useI18n } from 'use-i18n';\r\nimport Card, { GreyCard, LightCard } from './Card'\r\nimport { default as useAuctions, Auction } from '../../../bento_hooks/useAuctions'\r\nimport { getBalanceNumber } from '../../../utils/formatBalance'\r\nimport useVote from '../../../bento_hooks/useVoteToAuction'\r\nimport useApprove from '../../../bento_hooks/useAuctionApprove'\r\nimport DepositModal from './DepositModal'\r\nimport useModal from '../../../bento_hooks/useAuctionModal'\r\n\r\nconst Auctions: React.FC = () => {\r\n\r\n  const { account } = useWallet()\r\n\r\n  const auctions = useAuctions()\r\n  if (auctions) console.log('auctions:', auctions)\r\n\r\n  return (\r\n    <Box>\r\n      {!!auctions.length ? auctions.map((auction, i) => (\r\n        <StyledRow key={i}>\r\n          <React.Fragment>\r\n            <AuctionDetails auction={auction} />\r\n          </React.Fragment>\r\n        </StyledRow>\r\n      )) : (\r\n          <StyledLoadingWrapper>\r\n            <Loader text=\"Cooking the rice ...\" />\r\n          </StyledLoadingWrapper>\r\n        )}\r\n    </Box>\r\n  )\r\n}\r\n\r\n\r\ninterface AuctionDetailsContent {\r\n  auction: Auction\r\n}\r\nconst AuctionDetails: React.FC<AuctionDetailsContent> = ({ auction }: AuctionDetailsContent) => {\r\n  const t = useI18n();\r\n  const [showMore, setShowMore] = useState(true)\r\n  const poolActive = true\r\n\r\n  const [arrow, setArrow] = useState('⬇️')\r\n  const handleExpand = useCallback(() => {\r\n    console.log(`showMore ${showMore}`)\r\n    setShowMore(!showMore)\r\n    if (showMore === true) {\r\n      setArrow('⬇️')\r\n    } else {\r\n      setArrow('⬆️')\r\n    }\r\n  }, [showMore, arrow])\r\n\r\n\r\n  // useEffect(() => {\r\n  //   async function fetchEarned() {\r\n  //     if (sushi) return\r\n  //     const earned = await getEarned(\r\n  //       getMasterChefContract(sushi),\r\n  //       lpTokenAddress,\r\n  //       account,\r\n  //     )\r\n  //     setHarvestable(bnToDec(earned))\r\n  //   }\r\n  //   if (sushi && account) {\r\n  //     fetchEarned()\r\n  //   }\r\n  // }, [sushi, lpTokenAddress, account, setHarvestable])\r\n  interface Support {\r\n    support: boolean\r\n  }\r\n\r\n  const tokenBalance = new BigNumber(1);\r\n  const [support, setSupport] = useState(false)\r\n  const { onVote } = useVote(auction)\r\n  const { onApprove } = useApprove(auction.govContract.options.address)\r\n  const [onPresentDeposit] = useModal(\r\n    <DepositModal\r\n      max={tokenBalance}\r\n      onConfirm={onVote}\r\n      onApprove={onApprove}\r\n      tokenName={auction.auctionName}\r\n    />,\r\n  )\r\n  const forVotes = auction.auctionForVotes\r\n  const againstVotes = auction.auctionAgainstVotes\r\n\r\n  return (\r\n    <StyledPositionCard>\r\n      <AutoColumn gap=\"0px\">\r\n        <FixedHeightRow>\r\n          <RowFixed gap=\"2px\">\r\n            <MiniCardIcon>⬇️</MiniCardIcon>\r\n          </RowFixed>\r\n          <RowFixed gap=\"2px\">\r\n            <StyledLink\r\n              target=\"_blank\"\r\n              href=\"https://uniswap.info/pair/0xce84867c3c02b05dc570d0135103d3fb9cc19433\"\r\n            >\r\n              {auction.auctionName}\r\n            </StyledLink>\r\n          </RowFixed>\r\n          <RowFixed gap=\"2px\">\r\n            <StyledText>{getBalanceNumber(auction.totalBentoInVote)} BENTO </StyledText>\r\n          </RowFixed>\r\n          <RowFixed gap=\"2px\">\r\n            <StyledText>{getBalanceNumber(auction.totalVotes)} COMP </StyledText>\r\n          </RowFixed>\r\n          <RowFixed gap=\"2px\">\r\n            <StyledText>{auction.endAtBlockNumber}</StyledText>\r\n          </RowFixed>\r\n\r\n          <RowFixed gap=\"0px\">\r\n            <StyledContent>\r\n              <StyledMiniButton\r\n                size='sm'\r\n                disabled={!poolActive}\r\n                onClick={handleExpand}\r\n              >\r\n                {arrow}\r\n              </StyledMiniButton>\r\n            </StyledContent>\r\n          </RowFixed>\r\n        </FixedHeightRow>\r\n      </AutoColumn>\r\n      {showMore && (<hr />)}\r\n      {showMore && (\r\n        <AutoColumn justify='flex-start'>\r\n          <RowFixed gap=\"0px\">\r\n            <StyledText>\r\n              {auction.auctionName}：{auction.proposalDescription}\r\n            </StyledText>\r\n          </RowFixed>\r\n        </AutoColumn>\r\n      )}\r\n      {showMore && (\r\n        <StyledCards>\r\n          <StyledRow>\r\n            <StyledCardWrapper>\r\n              <Card>\r\n                <CardContent>\r\n                  <StyledContainer>\r\n                    <StyledText>\r\n                      {t.auction_agree}\r\n                    </StyledText>\r\n                    <StyledBox>\r\n                      <StyledBar height={\r\n\r\n                        forVotes.isZero() ? '0%'\r\n                          : againstVotes.isZero() ? '100%'\r\n                            : (`${(forVotes.div(forVotes.plus(againstVotes)).times(new BigNumber(100)))\r\n                              .toNumber()\r\n                              .toLocaleString('en-US')\r\n                              .slice(0, -1)}%`)\r\n                      }>\r\n\r\n                      </StyledBar>\r\n                    </StyledBox>\r\n                    <StyledText>\r\n                      <Button\r\n                        size='sm'\r\n                        disabled={!poolActive}\r\n                        text={t.auction_agree}\r\n                        onClick={() => { onPresentDeposit(true) }}\r\n                      >\r\n                      </Button>\r\n                    </StyledText>\r\n                  </StyledContainer>\r\n                </CardContent>\r\n              </Card>\r\n            </StyledCardWrapper>\r\n            <StyledCardWrapper>\r\n              <Card>\r\n                <CardContent>\r\n                  <StyledContainer>\r\n                    <StyledText>\r\n                      {t.auction_disagree}\r\n                    </StyledText>\r\n                    <StyledBox>\r\n                      <StyledBar height={\r\n\r\n                        againstVotes.isZero() ? '0%'\r\n                          : forVotes.isZero() ? '100%'\r\n                            : (`${(againstVotes.div(forVotes.plus(againstVotes)).times(new BigNumber(100)))\r\n                              .toNumber()\r\n                              .toLocaleString('en-US')\r\n                              .slice(0, -1)}%`)\r\n                      }>\r\n\r\n                      </StyledBar>\r\n                    </StyledBox>\r\n                    <StyledText>\r\n                      <Button\r\n                        size='sm'\r\n                        disabled={!poolActive}\r\n                        text={t.auction_disagree}\r\n                        onClick={() => { onPresentDeposit(false) }}\r\n                      >\r\n                      </Button>\r\n                    </StyledText>\r\n                  </StyledContainer>\r\n                </CardContent>\r\n              </Card>\r\n            </StyledCardWrapper>\r\n          </StyledRow>\r\n        </StyledCards>\r\n      )}\r\n    </StyledPositionCard>\r\n  )\r\n}\r\n\r\nconst Box = styled.div({})\r\n\r\nconst StyledPositionCard = styled.div`\r\n  width: 900px;\r\n  border: 1px solid #e6dcd5;\r\n  position: relative;\r\n`\r\n\r\nconst AutoColumn = styled.div<{\r\n  gap?: 'sm' | 'md' | 'lg' | string\r\n  justify?: 'stretch' | 'center' | 'start' | 'end' | 'flex-start' | 'flex-end' | 'space-between'\r\n}>`\r\n  display: grid;\r\n  grid-auto-rows: auto;\r\n  grid-row-gap: ${({ gap }) => (gap === 'sm' && '8px') || (gap === 'md' && '12px') || (gap === 'lg' && '24px') || gap};\r\n  justify-items: ${({ justify }) => justify && justify};\r\n`\r\n\r\nconst Row = styled(Box) <{ align?: string; padding?: string; border?: string; borderRadius?: string }>`\r\n  width: 100%;\r\n  display: flex;\r\n  padding: 0;\r\n  align-items: ${({ align }) => (align ? align : 'center')};\r\n  padding: ${({ padding }) => padding};\r\n  border: ${({ border }) => border};\r\n  border-radius: ${({ borderRadius }) => borderRadius};\r\n`\r\n\r\nconst RowBetween = styled(Row)`\r\n  justify-content: space-between;\r\n`\r\n\r\nconst FixedHeightRow = styled(RowBetween)`\r\n  height: 24px;\r\n`\r\n\r\nconst RowFlat = styled.div`\r\n  display: flex;\r\n  align-items: flex-end;\r\n`\r\n\r\nexport const AutoRow = styled(Row) <{ gap?: string; justify?: string }>`\r\n  flex-wrap: wrap;\r\n  margin: ${({ gap }) => gap && `-${gap}`};\r\n  justify-content: ${({ justify }) => justify && justify};\r\n\r\n  & > * {\r\n    margin: ${({ gap }) => gap} !important;\r\n  }\r\n`\r\n\r\nconst RowFixed = styled(Row) <{ gap?: string; justify?: string }>`\r\n  width: fit-content;\r\n  margin: ${({ gap }) => gap && `-${gap}`};\r\n`\r\n\r\n\r\nconst RainbowLight = keyframes`\r\n  \r\n\t0% {\r\n\t\tbackground-position: 0% 50%;\r\n\t}\r\n\t50% {\r\n\t\tbackground-position: 100% 50%;\r\n\t}\r\n\t100% {\r\n\t\tbackground-position: 0% 50%;\r\n\t}\r\n`\r\n\r\nconst StyledCardAccent = styled.div`\r\n  background: linear-gradient(\r\n    45deg,\r\n    rgba(255, 0, 0, 1) 0%,\r\n    rgba(255, 154, 0, 1) 10%,\r\n    rgba(208, 222, 33, 1) 20%,\r\n    rgba(79, 220, 74, 1) 30%,\r\n    rgba(63, 218, 216, 1) 40%,\r\n    rgba(47, 201, 226, 1) 50%,\r\n    rgba(28, 127, 238, 1) 60%,\r\n    rgba(95, 21, 242, 1) 70%,\r\n    rgba(186, 12, 248, 1) 80%,\r\n    rgba(251, 7, 217, 1) 90%,\r\n    rgba(255, 0, 0, 1) 100%\r\n  );\r\n  background-size: 300% 300%;\r\n  animation: ${RainbowLight} 2s linear infinite;\r\n  border-radius: 12px;\r\n  filter: blur(6px);\r\n  position: absolute;\r\n  top: -2px;\r\n  right: -2px;\r\n  bottom: -2px;\r\n  left: -2px;\r\n  z-index: -1;\r\n`\r\n\r\nconst StyledLink = styled.a`\r\n  color: ${(props) => props.theme.color.grey[400]};\r\n  padding-left: ${(props) => props.theme.spacing[3]}px;\r\n  padding-right: ${(props) => props.theme.spacing[3]}px;\r\n  text-decoration: none;\r\n  &:hover {\r\n    color: ${(props) => props.theme.color.grey[500]};\r\n  }\r\n`\r\n\r\nconst MiniCardIcon: React.FC = ({ children }) => (\r\n  <StyledMiniCardIcon>\r\n    {children}\r\n  </StyledMiniCardIcon>\r\n)\r\n\r\nconst StyledMiniCardIcon = styled.div`\r\n  background-color: ${props => props.theme.color.grey[200]};\r\n  font-size: 20px;\r\n  height: 20px;\r\n  width: 20px;\r\n  border-radius: 20px;\r\n  align-items: center;\r\n  display: flex;\r\n  justify-content: center;\r\n  // box-shadow: inset 4px 4px 8px ${props => props.theme.color.grey[300]},\r\n  //   inset -6px -6px 12px ${props => props.theme.color.grey[100]};\r\n  // margin: 0 auto ${props => props.theme.spacing[3]}px;\r\n`\r\n\r\nconst StyledCards = styled.div`\r\n  width: 900px;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst StyledLoadingWrapper = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex: 1;\r\n  justify-content: center;\r\n`\r\n\r\nconst StyledRow = styled.div`\r\n  display: flex;\r\n  margin-bottom: ${(props) => props.theme.spacing[4]}px;\r\n  flex-flow: row wrap;\r\n  @media (max-width: 768px) {\r\n    width: 100%;\r\n    flex-flow: column nowrap;\r\n    align-items: center;\r\n  }\r\n`\r\n\r\nconst StyledCardWrapper = styled.div`\r\n  display: flex;\r\n  width: calc((900px - ${(props) => props.theme.spacing[4]}px * 2) / 2);\r\n  position: relative;\r\n`\r\n\r\nconst StyledTitle = styled.h4`\r\n  color: ${(props) => props.theme.color.grey[600]};\r\n  font-size: 24px;\r\n  font-weight: 700;\r\n  margin: ${(props) => props.theme.spacing[2]}px 0 0;\r\n  padding: 0;\r\n`\r\n\r\nconst StyledContent = styled.div`\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n`\r\n\r\nconst StyledBox = styled.div`\r\n  position:relative;\r\n  display:table-cell;\r\n  vertical-align:bottom;\r\n  height:150px;\r\n`\r\nconst StyledBar = styled.div<{\r\n  height?: '0%' | string\r\n}>`\r\n  width: 350px;\r\n  height: ${({ height }) => height};\r\n  position: relative;\r\n  border-left: 350px solid #FF8484;\r\n  border-bottom: 0px solid #FF8484;\r\n\r\n  bottom: 0;\r\n  animation: up3 1s ease-in;\r\n\r\n  &:before{\r\n    position:absolute;\r\n    left:0;right:0;top:100%;\r\n    // padding:5px 1em 0;\r\n      display:block;\r\n    text-align:center;\r\n    content:attr(title);\r\n    word-wrap: break-word;\r\n  }\r\n`\r\n\r\nconst StyledSpacer = styled.div`\r\n  height: ${(props) => props.theme.spacing[4]}px;\r\n  width: ${(props) => props.theme.spacing[4]}px;\r\n`\r\n\r\nconst StyledDetails = styled.div`\r\n  margin-top: ${(props) => props.theme.spacing[2]}px;\r\n  text-align: center;\r\n`\r\n\r\nconst StyledDetail = styled.div`\r\n  color: ${(props) => props.theme.color.grey[500]};\r\n`\r\n\r\nconst StyledInsight = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  background: #fffdfa;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  line-height: 32px;\r\n  font-size: 13px;\r\n  border: 1px solid #e6dcd5;\r\n  text-align: center;\r\n  padding: 0 12px;\r\n`\r\n\r\nconst StyledContainer = styled.div`\r\n  justify-content: space-between;\r\n  box-sizing: border-box;\r\n  border-radius: 8px;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  margin-top: 12px;\r\n  // line-height: 32px;\r\n  font-size: 13px;\r\n  border: 1px solid #e6dcd5;\r\n  text-align: center;\r\n  padding: 0 12px;\r\n  `\r\n\r\nconst StyledText = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n  color: #aa9584;\r\n  width: 100%;\r\n  // margin-top: 12px;\r\n  // line-height: 64px;\r\n  font-size: 16px;\r\n  text-align: center;\r\n  align-items: center;\r\n`\r\n\r\nexport default Auctions\r\n","import React from 'react'\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom'\r\nimport { useWallet } from 'use-wallet'\r\n\r\nimport chef from '../../assets/img/womenChef.png'\r\n\r\nimport Button from '../../components/Button'\r\nimport Page from '../../components/Page'\r\nimport PageHeader from '../../components/PageHeader'\r\nimport WalletProviderModal from '../../components/WalletProviderModal'\r\n\r\nimport useModal from '../../bento_hooks/useModal'\r\n\r\n\r\nimport Auctions from './components/Auctions'\r\nimport { useI18n  } from 'use-i18n';\r\n\r\nconst Auction: React.FC = () => {\r\n  const t = useI18n();\r\n  const { path } = useRouteMatch()\r\n  const { account } = useWallet()\r\n  const [onPresentWalletProviderModal] = useModal(<WalletProviderModal />)\r\n  return (\r\n    <Switch>\r\n      <Page>\r\n        {!!account ? (\r\n          <>\r\n            <Route exact path={path}>\r\n              <PageHeader\r\n                icon={<img src={chef} height=\"120\" />}\r\n                subtitle={t.auction_subtitle}\r\n                title={t.auction_title}\r\n              />\r\n              <Auctions />\r\n            </Route>\r\n          </>\r\n        ) : (\r\n          <div\r\n            style={{\r\n              alignItems: 'center',\r\n              display: 'flex',\r\n              flex: 1,\r\n              justifyContent: 'center',\r\n            }}\r\n          >\r\n          <Button\r\n            onClick={onPresentWalletProviderModal}\r\n            text=\"🔓 Unlock Wallet\"\r\n          />\r\n          </div>\r\n        )}\r\n      </Page>\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Auction\r\n","import React, { useCallback, useEffect, useState } from 'react'\r\nimport { HashRouter as Router, Route, Switch,   } from 'react-router-dom'\r\nimport { ThemeProvider } from 'styled-components'\r\nimport { UseWalletProvider } from 'use-wallet'\r\nimport DisclaimerModal from './components/DisclaimerModal'\r\nimport MobileMenu from './components/MobileMenu'\r\nimport TopBar from './components/TopBar'\r\nimport FarmsProvider from './contexts/Farms'\r\nimport BentoFarmsProvider from './contexts/bento_Farms'\r\nimport ModalsProvider from './contexts/Modals'\r\nimport TransactionProvider from './contexts/Transactions'\r\nimport SushiProvider from './contexts/SushiProvider'\r\nimport BentoProvider from './contexts/BentoProvider'\r\nimport useModal from './hooks/useModal'\r\nimport theme from './theme'\r\nimport Farms from './views/Farms'\r\nimport Home from './views/Home'\r\nimport Stake from './views/Stake'\r\nimport Auction from './views/Auction'\r\n\r\nconst App: React.FC = () => {\r\n  const [mobileMenu, setMobileMenu] = useState(false)\r\n\r\n  const handleDismissMobileMenu = useCallback(() => {\r\n    setMobileMenu(false)\r\n  }, [setMobileMenu])\r\n\r\n  const handlePresentMobileMenu = useCallback(() => {\r\n    setMobileMenu(true)\r\n  }, [setMobileMenu])\r\n\r\n  return (\r\n    <Providers>\r\n      \r\n      <Router basename=\"/\">\r\n        <TopBar onPresentMobileMenu={handlePresentMobileMenu} />\r\n        <MobileMenu onDismiss={handleDismissMobileMenu} visible={mobileMenu} />\r\n        <Switch>\r\n          <Route path=\"/\" exact>\r\n            <Home />\r\n          </Route>\r\n          <Route path=\"/farms\">\r\n            <Farms />\r\n          </Route>\r\n          <Route path=\"/staking\">\r\n            <Stake />\r\n          </Route>\r\n          <Route path=\"/auction\">\r\n            <Auction />\r\n          </Route>\r\n        </Switch>\r\n      </Router>\r\n      \r\n      <Disclaimer />\r\n    </Providers>\r\n  )\r\n}\r\n\r\nconst Providers: React.FC = ({ children }) => {\r\n  return (\r\n    <ThemeProvider theme={theme}>\r\n      <UseWalletProvider\r\n        chainId={42}\r\n        connectors={{\r\n          //walletconnect: { rpcUrl: 'https://mainnet.eth.aragon.network/' },\r\n          walletconnect: { rpcUrl: 'https://api.infura.io/v1/jsonrpc/kovan' },\r\n        }}\r\n      >\r\n      <BentoProvider>\r\n          <TransactionProvider>\r\n            <BentoFarmsProvider>\r\n              <ModalsProvider>{children}</ModalsProvider>\r\n            </BentoFarmsProvider>\r\n          </TransactionProvider>\r\n        </BentoProvider>\r\n      </UseWalletProvider>\r\n      \r\n      \r\n    </ThemeProvider>\r\n  )\r\n}\r\n\r\nconst Disclaimer: React.FC = () => {\r\n  const markSeen = useCallback(() => {\r\n    localStorage.setItem('disclaimer', 'seen')\r\n  }, [])\r\n\r\n  const [onPresentDisclaimerModal] = useModal(\r\n    <DisclaimerModal onConfirm={markSeen} />,\r\n  )\r\n\r\n  useEffect(() => {\r\n    const seenDisclaimer = true // localStorage.getItem('disclaimer')\r\n    if (!seenDisclaimer) {\r\n      onPresentDisclaimerModal()\r\n    }\r\n  }, [])\r\n\r\n  return <div />\r\n}\r\n\r\nexport default App\r\n","const i18n = {\r\n    en: {\r\n        welcome: 'hello',\r\n        home: 'Home',\r\n        canteen: 'Canteen',\r\n        auction: 'Auction',\r\n        about: 'About',\r\n        unlockWallet: 'Unlock Wallet',\r\n        myWallet: 'My Wallet',\r\n        subtitle:\"Stake Uniswap LP tokens to claim your very own yummy Bento!\",\r\n        title: \"MasterChef's wife is Ready\",\r\n        content: \"\",\r\n        locked: \"Locked\",\r\n        bentoBalance: \"Your $BENTO Balance\",\r\n        bentoSupply: \"Total $BENTO Supply\",\r\n        pending: \"Pending harvest\",\r\n        newRewards:\"New rewards per block\",\r\n        mining: \"Mining\",\r\n        buy: \"Buy\",\r\n        votingPower: \"Voting Power\",\r\n\r\n        approval: \"Approve \",\r\n        deposit: \"Deposit\",\r\n        claim: \"Claim\",\r\n        redeem: \"Redeem\",\r\n        get: \"Get\",\r\n        earn_profit: \"Earn rewards and \",\r\n        current: \"Current \",\r\n        shop: \" Shop\",\r\n        unclaimed: \"Un-claimed \",\r\n        inBank: \"In bank \",\r\n        pending_confirmation: \"Pending confirmation..\",\r\n        cancel: \"Cancel\",\r\n\r\n        farm_mining: \"Mining amount\",\r\n        farm_wallet: \"Wallet amount\",\r\n        farm_uniswap: \"UniSwap mining\",\r\n        farm_balancer: \"Balancer mining\",\r\n        farm_earn_bento: \"Earn BENTO with BENTO liquidity\",\r\n        farm_subtitle: \"Earn BENTO by staking DAO Tokens.\",\r\n        farm_title: \"Select Your Favorite Dishes\",\r\n        farm_UNI_title: \"Earn BENTO by staking UNI Tokens.\",\r\n\r\n        auction_title: \"Bid in Auction using BENTO\",\r\n        auction_agree: \"Agree\",\r\n        auction_disagree: \"Disagree\",\r\n\r\n        burnedToken: \"Burned\",\r\n        stake: \"Stake\",\r\n        auctioning: \"Auctioning\",\r\n        myAccount:\"My Account\",\r\n        walletEtherScan: \"View on Etherscan\",\r\n        walletSignOut: \"Sign out\",\r\n        walletCancle: \"Cancel\",\r\n        sellectWallet: \"Select a wallet provider.\",\r\n        walletConnect: \"Connect\",\r\n\r\n        auction_bid: \"Bid\",\r\n    },\r\n    'zh-CN': {\r\n        welcome: '你好',\r\n        home: '首页',\r\n        canteen: '食堂',\r\n        auction: '拍卖',\r\n        about: '关于',\r\n        unlockWallet: '解锁钱包',\r\n        myWallet: '我的钱包',\r\n        subtitle: \"抵押流动性证明挖取Bento\",\r\n        title: \"加密无产者联合起来!\",\r\n        content:\"聚合我们手中的选票，用市场复仇资本!\",\r\n        locked: \"连接钱包\",\r\n        bentoBalance: \"我的$BENTO余额\",\r\n        bentoSupply: \"$BENTO流通总量\",\r\n        pending: \"等待收获\",\r\n        newRewards:\"每块奖励\",\r\n        mining: \"挖🍱\",\r\n        buy: \"买🍱\",\r\n        votingPower: \"获取的投票权\",\r\n\r\n        approval: \"授权\",\r\n        deposit: \"存\",\r\n        claim: \"领取\",\r\n        redeem: \"取回\",\r\n        get: \"获取\",\r\n        earn_profit: \"获取收益与\",\r\n        current: \"当前\",\r\n        shop: \"小店\",\r\n        unclaimed: \"未领取的\",\r\n        inBank: \"银行中的\",\r\n        pending_confirmation: \"等待确认。。\",\r\n        cancel: \"取消\",\r\n\r\n        farm_mining: \"正在挖矿\",\r\n        farm_wallet: \"钱包中余额\",\r\n        farm_uniswap: \"UniSwap挖矿\",\r\n        farm_balancer: \"Balancer挖矿\",\r\n        farm_earn_bento: \"为BENTO提供流动性，赚取BENTO\",\r\n        farm_subtitle: \"通过抵押治理代币，赚取利率与BENTO\",\r\n        farm_title: \"BENTO 合作社食堂\",\r\n        farm_UNI_title: \"存 UNI 代币，赚取收益与 BENTO\",\r\n\r\n        auction_title: \"使用 BENTO 参与拍卖，控制选票\",\r\n        auction_agree: \"同意\",\r\n        auction_disagree: \"反对\",\r\n\r\n        burnedToken: \"已经销毁的\",\r\n        stake: \"抵押选票\",\r\n        auctioning: \"选票拍卖中\",\r\n        myAccount:\"我的钱包\",\r\n        walletEtherScan: \"去Etherscan查看\",\r\n        walletSignOut: \"退出\",\r\n        walletCancle: \"关闭\",\r\n        sellectWallet: \"请选择钱包\",\r\n        walletConnect: \"连接钱包\",\r\n\r\n        auction_bid: \"竞拍\",\r\n\r\n    },\r\n};\r\n\r\nexport default i18n\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './App'\r\nimport './index.css'\r\nimport { TransProvider } from 'use-i18n'\r\nimport i18n from './i18n.js'\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <TransProvider i18n={i18n}>\r\n      <App />\r\n    </TransProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root'),\r\n)\r\n"],"sourceRoot":""}